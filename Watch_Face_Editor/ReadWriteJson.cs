using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Xml.Linq;
using static System.Windows.Forms.VisualStyles.VisualStyleElement.StartPanel;
using System.Drawing;
using System.Windows.Forms.VisualStyles;
using static System.Net.Mime.MediaTypeNames;
using static Microsoft.WindowsAPICodePack.Shell.PropertySystem.SystemProperties.System;
using Microsoft.WindowsAPICodePack.Sensors;

namespace Watch_Face_Editor
{
    public partial class Form1 : Form
    {
        public void JsonToJS(out string variables, out string items)
        {
            variables = Environment.NewLine;
            items = Environment.NewLine;
            string scale_update_function = "";
            string resume_call = "";
            string pause_call = "";
            string options = "";
            string time_update = "";
            string text_update = "";
            string fonts_cache = "";
            string compass_update = "";
            string compass_error = "";
            string weather_few_days = "";
            string weather_few_days_end = "";
            if (Watch_Face == null) return;

            // элементы основного экрана
            if (Watch_Face.ScreenNormal != null)
            {
                items += TabInString(6) + "console.log('Watch_Face.ScreenNormal');" + Environment.NewLine;
                if (Watch_Face.ScreenNormal.Background != null && Watch_Face.ScreenNormal.Background.visible)
                {
                    string show_level = "ONLY_NORMAL";
                    if (Watch_Face.Editable_Elements != null && Watch_Face.Editable_Elements.visible) 
                        show_level = "hmUI.show_level.ONLY_NORMAL | hmUI.show_level.ONLY_EDIT";
                    if (Watch_Face.ElementEditablePointers != null && Watch_Face.ElementEditablePointers.visible &&
                        Watch_Face.ElementEditablePointers.config != null && Watch_Face.ElementEditablePointers.config.Count > 0)
                        show_level = "hmUI.show_level.ONLY_NORMAL | hmUI.show_level.ONLY_EDIT";

                    if (Watch_Face.ScreenNormal.Background.BackgroundColor != null)
                    {
                        hmUI_widget_FILL_RECT backgroundColor = Watch_Face.ScreenNormal.Background.BackgroundColor;
                        //if (backgroundColor.show_level == null) backgroundColor.show_level = "ONLY_NORMAL";
                        options = FILL_RECT_Options(backgroundColor, show_level);
                        if (options.Length > 5)
                        {
                            variables += TabInString(4) + "let normal_background_bg = ''" + Environment.NewLine;
                            items += TabInString(6) + "normal_background_bg = hmUI.createWidget(hmUI.widget.FILL_RECT, {" +
                                              options + TabInString(6) + "});" + Environment.NewLine; 
                        }
                    }
                    if (Watch_Face.ScreenNormal.Background.BackgroundImage != null)
                    {
                        hmUI_widget_IMG backgroundImage = Watch_Face.ScreenNormal.Background.BackgroundImage;
                        //if (backgroundImage.show_level == null) backgroundImage.show_level = "ONLY_NORMAL";
                        options = IMG_Options(backgroundImage, show_level);
                        if (options.Length > 5)
                        {
                            variables += TabInString(4) + "let normal_background_bg_img = ''" + Environment.NewLine;
                            items += TabInString(6) + "normal_background_bg_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                               options + TabInString(6) + "});" + Environment.NewLine; 
                        }
                    }
                    if (Watch_Face.ScreenNormal.Background.Editable_Background != null)
                    {
                        Editable_Background editable_Background = Watch_Face.ScreenNormal.Background.Editable_Background;
                        string level = "";
                        if(!editable_Background.AOD_show) level = "hmUI.show_level.ONLY_NORMAL | hmUI.show_level.ONLY_EDIT";
                        options = Editable_Background_Options(editable_Background, level);
                        if (options.Length > 5)
                        {
                            variables += TabInString(4) + "let editBg = ''" + Environment.NewLine;
                            items += TabInString(6) + "editBg = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_BG, {" +
                                                options + TabInString(6) + "});" + Environment.NewLine; 
                        }
                    }
                }

                // редактируемые элементы перед остальными элементами
                if (Watch_Face.Editable_Elements != null && Watch_Face.Editable_Elements.display_first && Watch_Face.Editable_Elements.Watchface_edit_group != null &&
                    Watch_Face.Editable_Elements.Watchface_edit_group.Count > 0 && Watch_Face.Editable_Elements.visible)
                {
                    items += TabInString(6) + "console.log('Watch_Face.Editable_Elements before AOD');" + Environment.NewLine;

                    for (int i = 1; i <= Watch_Face.Editable_Elements.Watchface_edit_group.Count; i++)
                    {
                        if (Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements != null &&
                            Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements.Count > 0 &&
                            Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].optional_types_list != null &&
                            Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].optional_types_list.Count > 0)
                        {
                            string date = "";
                            string week = "";
                            string step = "";
                            string battery = "";
                            string calories = "";
                            string heart = "";
                            string pai = "";
                            string distance = "";
                            string stand = "";
                            string stress = "";
                            string fat_burning = "";
                            string spo2 = "";

                            string weather = "";
                            string uv_index = "";
                            string humidity = "";
                            string altimeter = "";
                            string sunrise = "";
                            string wind = "";
                            string moon = "";

                            foreach (Object element in Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements)
                            {
                                string outItems = "";
                                string optionNameStart = "editableZone_" + i.ToString() + "_";
                                string show_level = "ONLY_NORMAL";
                                if (Watch_Face.Editable_Elements.AOD_show) show_level = "ONLY_NORMAL | hmUI.show_level.ONLY_AOD";
                                AddEditableElementToJS(element, show_level, optionNameStart, ref variables, out outItems, ref items,
                                    ref scale_update_function, ref resume_call, ref pause_call);

                                string type = element.GetType().Name;
                                switch (type)
                                {
                                    case "ElementDateDay":
                                        if (outItems.Length > 5) date += outItems;
                                        break;

                                    case "ElementDateMonth":
                                        if (outItems.Length > 5) date += outItems;
                                        break;

                                    case "ElementDateYear":
                                        if (outItems.Length > 5) date += outItems;
                                        break;

                                    case "ElementDateWeek":
                                        if (outItems.Length > 5) week += outItems;
                                        break;


                                    case "ElementBattery":
                                        if (outItems.Length > 5) battery += outItems;
                                        break;

                                    case "ElementSteps":
                                        if (outItems.Length > 5) step += outItems;
                                        break;
                                    case "ElementCalories":
                                        if (outItems.Length > 5) calories += outItems;
                                        break;
                                    case "ElementHeart":
                                        if (outItems.Length > 5) heart += outItems;
                                        break;
                                    case "ElementPAI":
                                        if (outItems.Length > 5) pai += outItems;
                                        break;
                                    case "ElementDistance":
                                        if (outItems.Length > 5) distance += outItems;
                                        break;
                                    case "ElementStand":
                                        if (outItems.Length > 5) stand += outItems;
                                        break;
                                    case "ElementSpO2":
                                        if (outItems.Length > 5) spo2 += outItems;
                                        break;
                                    case "ElementStress":
                                        if (outItems.Length > 5) stress += outItems;
                                        break;
                                    case "ElementFatBurning":
                                        if (outItems.Length > 5) fat_burning += outItems;
                                        break;



                                    case "ElementWeather":
                                        if (outItems.Length > 5) weather += outItems;
                                        break;
                                    case "ElementUVIndex":
                                        if (outItems.Length > 5) uv_index += outItems;
                                        break;
                                    case "ElementHumidity":
                                        if (outItems.Length > 5) humidity += outItems;
                                        break;
                                    case "ElementAltimeter":
                                        if (outItems.Length > 5) altimeter += outItems;
                                        break;
                                    case "ElementSunrise":
                                        if (outItems.Length > 5) sunrise += outItems;
                                        break;
                                    case "ElementWind":
                                        if (outItems.Length > 5) wind += outItems;
                                        break;
                                    case "ElementMoon":
                                        if (outItems.Length > 5) moon += outItems;
                                        break;
                                }
                            }

                            if (date.Length > 5) date = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.DATE:" + date + TabInString(8) + "break;" + Environment.NewLine;
                            if (week.Length > 5) week = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WEEK:" + week + TabInString(8) + "break;" + Environment.NewLine;
                            if (battery.Length > 5) battery = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.BATTERY:" + battery + TabInString(8) + "break;" + Environment.NewLine;
                            if (step.Length > 5) step = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STEP:" + step + TabInString(8) + "break;" + Environment.NewLine;
                            if (calories.Length > 5) calories = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.CAL:" + calories + TabInString(8) + "break;" + Environment.NewLine;
                            if (heart.Length > 5) heart = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.HEART:" + heart + TabInString(8) + "break;" + Environment.NewLine;
                            if (pai.Length > 5) pai = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.PAI:" + pai + TabInString(8) + "break;" + Environment.NewLine;
                            //if (pai.Length > 5) pai = Environment.NewLine + TabInString(7) + "case 1300001:" + pai + TabInString(8) + "break;" + Environment.NewLine;
                            if (distance.Length > 5) distance = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.DISTANCE:" + distance + TabInString(8) + "break;" + Environment.NewLine;
                            if (stand.Length > 5) stand = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STAND:" + stand + TabInString(8) + "break;" + Environment.NewLine;
                            if (stress.Length > 5) stress = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STRESS:" + stress + TabInString(8) + "break;" + Environment.NewLine;
                            if (fat_burning.Length > 5) fat_burning = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.FAT_BURN:" + fat_burning + TabInString(8) + "break;" + Environment.NewLine;
                            //if (fat_burning.Length > 5) fat_burning = Environment.NewLine + TabInString(7) + "case 1300002:" + fat_burning + TabInString(8) + "break;" + Environment.NewLine;
                            if (spo2.Length > 5) spo2 = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.SPO2:" + spo2 + TabInString(8) + "break;" + Environment.NewLine;

                            if (weather.Length > 5) weather = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WEATHER:" + weather + TabInString(8) + "break;" + Environment.NewLine;
                            //if (weather.Length > 5) weather = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.TEMPERATURE:" + weather + TabInString(8) + "break;" + Environment.NewLine;
                            if (uv_index.Length > 5) uv_index = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.UVI:" + uv_index + TabInString(8) + "break;" + Environment.NewLine;
                            if (humidity.Length > 5) humidity = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.HUMIDITY:" + humidity + TabInString(8) + "break;" + Environment.NewLine;
                            if (altimeter.Length > 5) altimeter = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.ALTIMETER:" + altimeter + TabInString(8) + "break;" + Environment.NewLine;
                            if (sunrise.Length > 5) sunrise = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.SUN:" + sunrise + TabInString(8) + "break;" + Environment.NewLine;
                            if (wind.Length > 5) wind = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WIND:" + wind + TabInString(8) + "break;" + Environment.NewLine;
                            if (moon.Length > 5) moon = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.MOON:" + moon + TabInString(8) + "break;" + Environment.NewLine;

                            string editablePointersOptions = Editable_Elements_Options(Watch_Face.Editable_Elements.Watchface_edit_group[i - 1], i);
                            if (editablePointersOptions.Length > 5)
                            {
                                variables += TabInString(4) + "let " + "editGroup_" + i.ToString() + "  = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "editGroup_" + i.ToString() + " = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_GROUP, {" +
                                        editablePointersOptions + TabInString(6) + "});" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) + "const editType_" + i.ToString() +
                                    " = editGroup_" + i.ToString() + ".getProperty(hmUI.prop.CURRENT_TYPE);" + Environment.NewLine;

                                string switchText = date + week + battery + step + calories + heart + pai + distance + stand + stress + fat_burning + spo2 +
                                    weather + uv_index + humidity + altimeter + sunrise + wind + moon;

                                if (switchText.Length > 5)
                                {
                                    items += Environment.NewLine + TabInString(6) + "switch (editType_" + i.ToString() + ") {";
                                    items += switchText;
                                    items += TabInString(6) + "}; // end switch" + Environment.NewLine;
                                }
                            }
                        }
                    }

                    if (Watch_Face.Editable_Elements.mask != null && Watch_Face.Editable_Elements.mask.Length > 0)
                    {
                        string maskOptions = MASK_Options(Watch_Face.Editable_Elements.mask);
                        if (maskOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + "mask = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "mask = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_MASK, {" +
                                    maskOptions + TabInString(6) + "});" + Environment.NewLine;
                        }
                    }
                    if (Watch_Face.Editable_Elements.fg_mask != null && Watch_Face.Editable_Elements.fg_mask.Length > 0)
                    {
                        string maskOptions = MASK_Options(Watch_Face.Editable_Elements.fg_mask);
                        if (maskOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + "fg_mask = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "fg_mask = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_FG_MASK, {" +
                                    maskOptions + TabInString(6) + "});" + Environment.NewLine;
                        }
                    }
                }

                // элементы основного экрана
                if (Watch_Face.ScreenNormal.Elements != null && Watch_Face.ScreenNormal.Elements.Count > 0)
                {
                    foreach(Object element in Watch_Face.ScreenNormal.Elements)
                    {
                        AddElementToJS(element, "ONLY_NORMAL", ref variables, ref items, ref scale_update_function,
                            ref resume_call, ref pause_call, ref time_update, ref text_update, ref fonts_cache, 
                            ref compass_update, ref compass_error, ref weather_few_days, ref weather_few_days_end);
                    }
                }
            }

            // элементы экрана AOD
            items = items + Environment.NewLine + Environment.NewLine; 
            if (Watch_Face.ScreenAOD != null)
            {
                items += TabInString(6) + "console.log('Watch_Face.ScreenAOD');" + Environment.NewLine;
                if (Watch_Face.ScreenAOD.Background != null && Watch_Face.ScreenAOD.Background.visible)
                {
                    if (Watch_Face.ScreenAOD.Background.BackgroundColor != null)
                    {
                        variables += TabInString(4) + "let idle_background_bg = ''" + Environment.NewLine;
                        hmUI_widget_FILL_RECT backgroundColor = Watch_Face.ScreenAOD.Background.BackgroundColor;
                        //if (backgroundColor.show_level == null) backgroundColor.show_level = "ONLY_NORMAL";
                        options = FILL_RECT_Options(backgroundColor, "ONLY_AOD");
                        items += TabInString(6) + "idle_background_bg = hmUI.createWidget(hmUI.widget.FILL_RECT, {" +
                            options + TabInString(6) + "});" + Environment.NewLine;
                    }
                    if (Watch_Face.ScreenAOD.Background.BackgroundImage != null)
                    {
                        variables += TabInString(4) + "let idle_background_bg_img = ''" + Environment.NewLine;
                        hmUI_widget_IMG backgroundImage = Watch_Face.ScreenAOD.Background.BackgroundImage;
                        //if (backgroundImage.show_level == null) backgroundImage.show_level = "ONLY_NORMAL";
                        options = IMG_Options(backgroundImage, "ONLY_AOD");
                        items += TabInString(6) + "idle_background_bg_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                            options + TabInString(6) + "});" + Environment.NewLine;
                    }
                }
                if (Watch_Face.ScreenAOD.Elements != null && Watch_Face.ScreenAOD.Elements.Count > 0)
                {
                    foreach (Object element in Watch_Face.ScreenAOD.Elements)
                    {
                        AddElementToJS(element, "ONLY_AOD", ref variables, ref items, ref scale_update_function,
                            ref resume_call, ref pause_call, ref time_update, ref text_update, ref fonts_cache, 
                            ref compass_update, ref compass_error, ref weather_few_days, ref weather_few_days_end);
                    }
                }
            }

            // редактируемые элементы в конце
            if (Watch_Face.Editable_Elements != null && !Watch_Face.Editable_Elements.display_first && Watch_Face.Editable_Elements.Watchface_edit_group != null &&
                Watch_Face.Editable_Elements.Watchface_edit_group.Count > 0 && Watch_Face.Editable_Elements.visible)
            {
                items += TabInString(6) + "console.log('Watch_Face.Editable_Elements');" + Environment.NewLine;

                for (int i = 1; i <= Watch_Face.Editable_Elements.Watchface_edit_group.Count; i++)
                {
                    if (Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements != null &&
                        Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements.Count > 0 &&
                        Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].optional_types_list != null &&
                        Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].optional_types_list.Count > 0)
                    {
                        string date = "";
                        string week = "";
                        string step = "";
                        string battery = "";
                        string calories = "";
                        string heart = "";
                        string pai = "";
                        string distance = "";
                        string stand = "";
                        string stress = "";
                        string fat_burning = "";
                        string spo2 = "";

                        string weather = "";
                        string uv_index = "";
                        string humidity = "";
                        string altimeter = "";
                        string sunrise = "";
                        string wind = "";
                        string moon = "";

                        foreach (Object element in Watch_Face.Editable_Elements.Watchface_edit_group[i - 1].Elements)
                        {
                            string outItems = "";
                            string optionNameStart = "editableZone_" + i.ToString() + "_";
                            string show_level = "ONLY_NORMAL";
                            if (Watch_Face.Editable_Elements.AOD_show) show_level = "ONLY_NORMAL | hmUI.show_level.ONLY_AOD";
                            AddEditableElementToJS(element, show_level, optionNameStart, ref variables, out outItems, ref items,
                                ref scale_update_function, ref resume_call, ref pause_call);

                            string type = element.GetType().Name;
                            switch (type)
                            {
                                case "ElementDateDay":
                                    if (outItems.Length > 5) date += outItems;
                                    break;

                                case "ElementDateMonth":
                                    if (outItems.Length > 5) date += outItems;
                                    break;

                                case "ElementDateYear":
                                    if (outItems.Length > 5) date += outItems;
                                    break;

                                case "ElementDateWeek":
                                    if (outItems.Length > 5) week += outItems;
                                    break;


                                case "ElementBattery":
                                    if (outItems.Length > 5) battery += outItems;
                                    break;

                                case "ElementSteps":
                                    if (outItems.Length > 5) step += outItems;
                                    break;
                                case "ElementCalories":
                                    if (outItems.Length > 5) calories += outItems;
                                    break;
                                case "ElementHeart":
                                    if (outItems.Length > 5) heart += outItems;
                                    break;
                                case "ElementPAI":
                                    if (outItems.Length > 5) pai += outItems;
                                    break;
                                case "ElementDistance":
                                    if (outItems.Length > 5) distance += outItems;
                                    break;
                                case "ElementStand":
                                    if (outItems.Length > 5) stand += outItems;
                                    break;
                                case "ElementSpO2":
                                    if (outItems.Length > 5) spo2 += outItems;
                                    break;
                                case "ElementStress":
                                    if (outItems.Length > 5) stress += outItems;
                                    break;
                                case "ElementFatBurning":
                                    if (outItems.Length > 5) fat_burning += outItems;
                                    break;



                                case "ElementWeather":
                                    if (outItems.Length > 5) weather += outItems;
                                    break;
                                case "ElementUVIndex":
                                    if (outItems.Length > 5) uv_index += outItems;
                                    break;
                                case "ElementHumidity":
                                    if (outItems.Length > 5) humidity += outItems;
                                    break;
                                case "ElementAltimeter":
                                    if (outItems.Length > 5) altimeter += outItems;
                                    break;
                                case "ElementSunrise":
                                    if (outItems.Length > 5) sunrise += outItems;
                                    break;
                                case "ElementWind":
                                    if (outItems.Length > 5) wind += outItems;
                                    break;
                                case "ElementMoon":
                                    if (outItems.Length > 5) moon += outItems;
                                    break;
                            }
                        }

                        if (date.Length > 5) date = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.DATE:" + date + TabInString(8) + "break;" + Environment.NewLine;
                        if (week.Length > 5) week = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WEEK:" + week + TabInString(8) + "break;" + Environment.NewLine;
                        if (battery.Length > 5) battery = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.BATTERY:" + battery + TabInString(8) + "break;" + Environment.NewLine;
                        if (step.Length > 5) step = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STEP:" + step + TabInString(8) + "break;" + Environment.NewLine;
                        if (calories.Length > 5) calories = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.CAL:" + calories + TabInString(8) + "break;" + Environment.NewLine;
                        if (heart.Length > 5) heart = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.HEART:" + heart + TabInString(8) + "break;" + Environment.NewLine;
                        if (pai.Length > 5) pai = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.PAI:" + pai + TabInString(8) + "break;" + Environment.NewLine;
                        //if (pai.Length > 5) pai = Environment.NewLine + TabInString(7) + "case 1300001:" + pai + TabInString(8) + "break;" + Environment.NewLine;
                        if (distance.Length > 5) distance = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.DISTANCE:" + distance + TabInString(8) + "break;" + Environment.NewLine;
                        if (stand.Length > 5) stand = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STAND:" + stand + TabInString(8) + "break;" + Environment.NewLine;
                        if (stress.Length > 5) stress = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.STRESS:" + stress + TabInString(8) + "break;" + Environment.NewLine;
                        if (fat_burning.Length > 5) fat_burning = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.FAT_BURN:" + fat_burning + TabInString(8) + "break;" + Environment.NewLine;
                        //if (fat_burning.Length > 5) fat_burning = Environment.NewLine + TabInString(7) + "case 1300002:" + fat_burning + TabInString(8) + "break;" + Environment.NewLine;
                        if (spo2.Length > 5) spo2 = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.SPO2:" + spo2 + TabInString(8) + "break;" + Environment.NewLine;

                        if (weather.Length > 5) weather = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WEATHER:" + weather + TabInString(8) + "break;" + Environment.NewLine;
                        //if (weather.Length > 5) weather = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.TEMPERATURE:" + weather + TabInString(8) + "break;" + Environment.NewLine;
                        if (uv_index.Length > 5) uv_index = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.UVI:" + uv_index + TabInString(8) + "break;" + Environment.NewLine;
                        if (humidity.Length > 5) humidity = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.HUMIDITY:" + humidity + TabInString(8) + "break;" + Environment.NewLine;
                        if (altimeter.Length > 5) altimeter = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.ALTIMETER:" + altimeter + TabInString(8) + "break;" + Environment.NewLine;
                        if (sunrise.Length > 5) sunrise = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.SUN:" + sunrise + TabInString(8) + "break;" + Environment.NewLine;
                        if (wind.Length > 5) wind = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.WIND:" + wind + TabInString(8) + "break;" + Environment.NewLine;
                        if (moon.Length > 5) moon = Environment.NewLine + TabInString(7) + "case hmUI.edit_type.MOON:" + moon + TabInString(8) + "break;" + Environment.NewLine;

                        string editablePointersOptions = Editable_Elements_Options(Watch_Face.Editable_Elements.Watchface_edit_group[i - 1], i);
                        if (editablePointersOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + "editGroup_" + i.ToString() + "  = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "editGroup_" + i.ToString() + " = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_GROUP, {" +
                                    editablePointersOptions + TabInString(6) + "});" + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) + "const editType_" + i.ToString() +
                                " = editGroup_" + i.ToString() + ".getProperty(hmUI.prop.CURRENT_TYPE);" + Environment.NewLine;

                            string switchText = date + week + battery + step + calories + heart + pai + distance + stand + stress + fat_burning + spo2 +
                                weather + uv_index + humidity + altimeter + sunrise + wind + moon;

                            if (switchText.Length > 5)
                            {
                                items += Environment.NewLine + TabInString(6) + "switch (editType_" + i.ToString() + ") {";
                                items += switchText;
                                items += TabInString(6) + "}; // end switch" + Environment.NewLine;
                            }
                        } 
                    }
                }

                if (Watch_Face.Editable_Elements.mask != null && Watch_Face.Editable_Elements.mask.Length > 0)
                {
                    string maskOptions = MASK_Options(Watch_Face.Editable_Elements.mask);
                    if (maskOptions.Length > 5)
                    {
                        variables += TabInString(4) + "let " + "mask = ''" + Environment.NewLine;
                        items += Environment.NewLine + TabInString(6) + "mask = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_MASK, {" +
                                maskOptions + TabInString(6) + "});" + Environment.NewLine;
                    }
                }
                if (Watch_Face.Editable_Elements.fg_mask != null && Watch_Face.Editable_Elements.fg_mask.Length > 0)
                {
                    string maskOptions = MASK_Options(Watch_Face.Editable_Elements.fg_mask);
                    if (maskOptions.Length > 5)
                    {
                        variables += TabInString(4) + "let " + "fg_mask = ''" + Environment.NewLine;
                        items += Environment.NewLine + TabInString(6) + "fg_mask = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_FG_MASK, {" +
                                maskOptions + TabInString(6) + "});" + Environment.NewLine;
                    }
                }
            }

            // редактируемые стрелки
            if (Watch_Face.ElementEditablePointers != null && Watch_Face.ElementEditablePointers.visible)
            {
                items += TabInString(6) + "console.log('Watch_Face.ElementEditablePointers');" + Environment.NewLine;

                ElementEditablePointers EditablePointers = Watch_Face.ElementEditablePointers;

                string editablePointersOptions = Editable_Pointers_Options(EditablePointers);

                if (editablePointersOptions.Length > 5)
                {
                    variables += TabInString(4) + "let editableTimePointers = ''" + Environment.NewLine;
                    items += Environment.NewLine + TabInString(6) +
                        "const pointerEdit = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_POINTER, {" +
                            editablePointersOptions + TabInString(6) + "});" + Environment.NewLine;
                    if (!EditablePointers.AOD_show)
                    {
                        items += TabInString(6) + "const screenTypeForETP = hmSetting.getScreenType();" + Environment.NewLine;
                        items += TabInString(6) + "const aodModel = screenTypeForETP == hmSetting.screen_type.AOD;" + Environment.NewLine;
                        items += TabInString(6) + "const pointerProp = pointerEdit.getProperty(hmUI.prop.CURRENT_CONFIG, !aodModel);" + Environment.NewLine;
                    }
                    else
                    {
                        items += TabInString(6) + "const pointerProp = pointerEdit.getProperty(hmUI.prop.CURRENT_CONFIG, true);" + Environment.NewLine;
                    }

                    string coverOptions = "";
                    items += TabInString(6) + "editableTimePointers = hmUI.createWidget(hmUI.widget.TIME_POINTER, pointerProp);" + Environment.NewLine;

                    if (EditablePointers.cover != null && EditablePointers.cover.src != null && 
                        EditablePointers.cover.src.Length > 0)
                    {
                        coverOptions = IMG_Options(EditablePointers.cover, "ONLY_NORMAL | hmUI.show_level.ONLY_AOD");

                        // cover
                        if (coverOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " +
                                "editableTimePointers_cover_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                "editableTimePointers_cover_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    coverOptions + TabInString(6) + "});" + Environment.NewLine;
                        }
                    }
                }

            }

            // оповещение об обрыве связи
            if (Watch_Face.DisconnectAlert != null && Watch_Face.DisconnectAlert.enable)
            {
                DisconnectAlert Disconnect_Alert = Watch_Face.DisconnectAlert;

                if (Disconnect_Alert != null && Disconnect_Alert.enable)
                {
                    if ((Disconnect_Alert.BluetoothOff != null && (Disconnect_Alert.BluetoothOff.vibrate || Disconnect_Alert.BluetoothOff.toastShow) ||
                        (Disconnect_Alert.BluetoothOn != null && (Disconnect_Alert.BluetoothOn.vibrate || Disconnect_Alert.BluetoothOn.toastShow))
                        ))
                    {
                        string disconnectAlertOptions = DisconnectAlert_Options(Disconnect_Alert);

                        if (disconnectAlertOptions.Length > 15)
                        {
                            items += TabInString(6) + disconnectAlertOptions + Environment.NewLine;

                            items +=TabInString(6) + "// vibration when connecting or disconnecting" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "function checkConnection() {" + Environment.NewLine;
                            items += TabInString(7) + "console.log('checkConnection()');" + Environment.NewLine;
                            items += TabInString(7) + "hmBle.removeListener;" + Environment.NewLine;
                            items += TabInString(7) + "hmBle.addListener(function (status) {" + Environment.NewLine;

                            if (Disconnect_Alert.BluetoothOff != null && (Disconnect_Alert.BluetoothOff.vibrate ||
                                 (Disconnect_Alert.BluetoothOff.toastShow && Disconnect_Alert.BluetoothOff.toastText.Length > 0)))
                            {
                                items += TabInString(8) + "if(!status) {" + Environment.NewLine;
                                if (Disconnect_Alert.BluetoothOff.toastShow && Disconnect_Alert.BluetoothOff.toastText.Length > 0)
                                {
                                    string toastText = Disconnect_Alert.BluetoothOff.toastText.Replace(Environment.NewLine, "\\r\\n");
                                    items += TabInString(9) + "hmUI.showToast({text: \"" + toastText + "\"});" + Environment.NewLine;
                                }
                                if (Disconnect_Alert.BluetoothOff.vibrate)
                                {
                                    items += TabInString(9) + "vibro(" +
                                        Disconnect_Alert.BluetoothOff.vibrateType.ToString() + ");" + Environment.NewLine;
                                }
                                items += TabInString(8) + "}" + Environment.NewLine;
                            }

                            if (Disconnect_Alert.BluetoothOn != null && (Disconnect_Alert.BluetoothOn.vibrate || 
                                (Disconnect_Alert.BluetoothOn.toastShow && Disconnect_Alert.BluetoothOn.toastText.Length > 0)))
                            {
                                items += TabInString(8) + "if(status) {" + Environment.NewLine;
                                if (Disconnect_Alert.BluetoothOn.toastShow && Disconnect_Alert.BluetoothOn.toastText.Length > 0)
                                {
                                    string toastText = Disconnect_Alert.BluetoothOn.toastText.Replace(Environment.NewLine, "\\r\\n");
                                    items += TabInString(9) + "hmUI.showToast({text: \"" + toastText + "\"});" + Environment.NewLine;
                                }
                                if (Disconnect_Alert.BluetoothOn.vibrate)
                                {
                                    items += TabInString(9) + "vibro(" +
                                        Disconnect_Alert.BluetoothOn.vibrateType.ToString() + ");" + Environment.NewLine;
                                }
                                items += TabInString(8) + "}" + Environment.NewLine;
                            }

                            items += TabInString(7) + "});" + Environment.NewLine;
                            items += TabInString(6) + "}" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "// end vibration when connecting or disconnecting" + Environment.NewLine;

                            resume_call += TabInString(8) + "checkConnection();" + Environment.NewLine;
                            if (resume_call.IndexOf("stopVibro();") < 0) resume_call += TabInString(8) + "stopVibro();" + Environment.NewLine;

                            if (pause_call.IndexOf("stopVibro();") < 0) pause_call += TabInString(8) + "stopVibro();" + Environment.NewLine;

                            if (items.IndexOf("const vibrate = hmSensor.createSensor(hmSensor.id.VIBRATE);") < 0)
                            {
                                items += TabInString(6) + "// vibrate function" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "const vibrate = hmSensor.createSensor(hmSensor.id.VIBRATE);" + Environment.NewLine;
                                items += TabInString(6) + "let timer_StopVibrate = null;" + Environment.NewLine;
                                items += Environment.NewLine + Environment.NewLine + TabInString(6) +
                                    "function vibro(scene = 25) {" + Environment.NewLine;
                                items += TabInString(7) + "let stopDelay = 50;" + Environment.NewLine;
                                items += TabInString(7) + "stopVibro();" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.stop();" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.scene = scene;" + Environment.NewLine;
                                items += TabInString(7) + "if(scene < 23 || scene > 25) stopDelay = 1300;" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.start();" + Environment.NewLine;
                                items += TabInString(7) + "if (scene != 1) timer_StopVibrate = timer.createTimer(stopDelay, 3000, stopVibro, {});" + Environment.NewLine;
                                items += TabInString(6) + "}" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "function stopVibro(){" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.stop();" + Environment.NewLine;
                                items += TabInString(7) + "if(timer_StopVibrate) timer.stopTimer(timer_StopVibrate);" + Environment.NewLine;
                                items += TabInString(6) + "}" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "// end vibrate function" + Environment.NewLine;
                            }
                        }  
                    }
                }

            }

            // переодический сигнал
            if (Watch_Face.RepeatAlert != null && Watch_Face.RepeatAlert.enable)
            {
                RepeatAlert Repeat_Alert = Watch_Face.RepeatAlert;

                if (Repeat_Alert != null && Repeat_Alert.enable)
                {
                    if ((Repeat_Alert.EveryHour != null && (Repeat_Alert.EveryHour.vibrate || Repeat_Alert.EveryHour.toastShow) ||
                        (Repeat_Alert.RepeatingAlert != null && (Repeat_Alert.RepeatingAlert.vibrate || Repeat_Alert.RepeatingAlert.toastShow))
                        ))
                    {
                        string disconnectAlertOptions = RepeatAlert_Options(Repeat_Alert);

                        if (disconnectAlertOptions.Length > 15)
                        {
                            items += TabInString(6) + disconnectAlertOptions + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {";
                                items += Environment.NewLine + TabInString(7) + "repeat_alerts();";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }
                            else
                            {
                                int pos = items.IndexOf("timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {");
                                items = items.Insert(pos + "timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {".Length, 
                                    Environment.NewLine + TabInString(7) + "repeat_alerts();");
                            }

                            items += TabInString(6) + "// repeat alerts" + Environment.NewLine;
                            items += TabInString(6) + "function repeat_alerts() {" + Environment.NewLine;

                            if (Repeat_Alert.EveryHour != null && (Repeat_Alert.EveryHour.vibrate ||
                                 (Repeat_Alert.EveryHour.toastShow && Repeat_Alert.EveryHour.toastText.Length > 0)))
                            {
                                items += TabInString(7) + "let hourEnd = false;" + Environment.NewLine;
                                items += TabInString(7) + "if(timeSensor.minute == 0) {" + Environment.NewLine;
                                items += TabInString(8) + "hourEnd = true;" + Environment.NewLine;
                                if (Repeat_Alert.EveryHour.toastShow && Repeat_Alert.EveryHour.toastText.Length > 0)
                                {
                                    string toastText = Repeat_Alert.EveryHour.toastText.Replace(Environment.NewLine, "\\r\\n");
                                    items += TabInString(8) + "hmUI.showToast({text: \"" + toastText + "\"});" + Environment.NewLine;
                                }
                                if (Repeat_Alert.EveryHour.vibrate)
                                {
                                    items += TabInString(8) + "vibro(" +
                                        Repeat_Alert.EveryHour.vibrateType.ToString() + ");" + Environment.NewLine;
                                }
                                items += TabInString(7) + "}" + Environment.NewLine;
                            }

                            if (Repeat_Alert.RepeatingAlert != null && (Repeat_Alert.RepeatingAlert.vibrate ||
                                (Repeat_Alert.RepeatingAlert.toastShow && Repeat_Alert.RepeatingAlert.toastText.Length > 0)))
                            {
                                if (items.IndexOf("let hourEnd = false;") < 0)
                                {
                                    items += TabInString(7) + "if(timeSensor.minute % " + Repeat_Alert.RepeatingAlert.repeatPeriod.ToString() +
                                        " == 0) {" + Environment.NewLine;
                                }
                                else
                                {
                                    items += TabInString(7) + "if(timeSensor.minute % " + Repeat_Alert.RepeatingAlert.repeatPeriod.ToString() +
                                        " == 0 && !hourEnd) {" + Environment.NewLine;
                                }
                                if (Repeat_Alert.RepeatingAlert.toastShow && Repeat_Alert.RepeatingAlert.toastText.Length > 0)
                                {
                                    string toastText = Repeat_Alert.RepeatingAlert.toastText.Replace(Environment.NewLine, "\\r\\n");
                                    items += TabInString(8) + "hmUI.showToast({text: \"" + toastText + "\"});" + Environment.NewLine;
                                }
                                if (Repeat_Alert.RepeatingAlert.vibrate)
                                {
                                    items += TabInString(8) + "vibro(" +
                                        Repeat_Alert.RepeatingAlert.vibrateType.ToString() + ");" + Environment.NewLine;
                                }
                                items += TabInString(7) + "}" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) + "// end repeat alerts" + Environment.NewLine;

                            if (resume_call.IndexOf("stopVibro();") < 0) resume_call += TabInString(8) + "stopVibro();" + Environment.NewLine;

                            if (pause_call.IndexOf("stopVibro();") < 0) pause_call += TabInString(8) + "stopVibro();" + Environment.NewLine;

                            if (items.IndexOf("const vibrate = hmSensor.createSensor(hmSensor.id.VIBRATE);") < 0)
                            {
                                items += TabInString(6) + "// vibrate function" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "const vibrate = hmSensor.createSensor(hmSensor.id.VIBRATE);" + Environment.NewLine;
                                items += TabInString(6) + "let timer_StopVibrate = null;" + Environment.NewLine;
                                items += Environment.NewLine + Environment.NewLine + TabInString(6) +
                                    "function vibro(scene = 25) {" + Environment.NewLine;
                                items += TabInString(7) + "let stopDelay = 50;" + Environment.NewLine;
                                items += TabInString(7) + "stopVibro();" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.stop();" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.scene = scene;" + Environment.NewLine;
                                items += TabInString(7) + "if(scene < 23 || scene > 25) stopDelay = 1300;" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.start();" + Environment.NewLine;
                                items += TabInString(7) + "timer_StopVibrate = timer.createTimer(stopDelay, 3000, stopVibro, {});" + Environment.NewLine;
                                items += TabInString(6) + "}" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "function stopVibro(){" + Environment.NewLine;
                                items += TabInString(7) + "vibrate.stop();" + Environment.NewLine;
                                items += TabInString(7) + "if(timer_StopVibrate) timer.stopTimer(timer_StopVibrate);" + Environment.NewLine;
                                items += TabInString(6) + "}" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + "// end vibrate function" + Environment.NewLine;
                            }
                        }
                    }
                }

            }

            if (Watch_Face.TopImage != null && Watch_Face.TopImage.visible)
            {
                if (Watch_Face.TopImage.Icon != null)
                {
                    hmUI_widget_IMG img_icon = Watch_Face.TopImage.Icon;
                    string show_level = "ONLY_NORMAL";
                    if(Watch_Face.TopImage.showInAOD) show_level = "hmUI.show_level.ONLY_NORMAL | hmUI.show_level.ONLY_AOD";
                    string iconOptions = IMG_Options(img_icon, show_level);


                    // Icon
                    if (iconOptions.Length > 5)
                    {
                        variables += TabInString(4) + "let image_top_img = ''" + Environment.NewLine;
                        items += Environment.NewLine + TabInString(6) + "image_top_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                iconOptions + TabInString(6) + "});" + Environment.NewLine;
                    }
                }
            }

            // пользовательский скрипт перед ярлыками 
            ElementScript script = null;
            if (Watch_Face != null && Watch_Face.ScreenNormal != null &&
                    Watch_Face.ScreenNormal.Elements != null)
            {
                script = (ElementScript)Watch_Face.ScreenNormal.Elements.Find(e => e.GetType().Name == "ElementScript");
            }
            string fileName = "user_script_beforeShortcuts.js";
            string fileScriptName = Path.Combine(ProjectDir, fileName);
            string script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load user_script_beforeShortcuts.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.user_script_beforeShortcuts)
            {
                Logger.WriteLine("Load JS/user_script_beforeShortcuts.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                items += Environment.NewLine + TabInString(6) + "console.log('user_script_beforeShortcuts.js');" + Environment.NewLine;
                script_text = TabInString(6) + "// start user_script_beforeShortcuts.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(6) + "// end user_script_beforeShortcuts.js" + Environment.NewLine;
                items = items + script_text;
            }

            // ярлыки
            if (Watch_Face.Shortcuts != null && Watch_Face.Shortcuts.visible)
            {
                items += TabInString(6) + "console.log('Watch_Face.Shortcuts');" + Environment.NewLine;
                AddElementToJS(Watch_Face.Shortcuts, "ONLY_NORMAL", ref variables, ref items, ref scale_update_function,
                    ref resume_call, ref pause_call, ref time_update, ref text_update, ref fonts_cache, 
                    ref compass_update, ref compass_error, ref weather_few_days, ref weather_few_days_end);
            }

            // кнопки
            if (Watch_Face.Buttons != null && Watch_Face.Buttons.enable && Watch_Face.Buttons.Button != null && Watch_Face.Buttons.Button.Count > 0)
            {
                items += Environment.NewLine + TabInString(6) + "console.log('Watch_Face.Buttons');";
                AddElementToJS(Watch_Face.Buttons, "ONLY_NORMAL", ref variables, ref items, ref scale_update_function,
                    ref resume_call, ref pause_call, ref time_update, ref text_update, ref fonts_cache, 
                    ref compass_update, ref compass_error, ref weather_few_days, ref weather_few_days_end);
            }

            if (items.IndexOf("timeSensor =") >= 0) variables += TabInString(4) + "let timeSensor = ''" + Environment.NewLine;

            #region script
            // добавляем пользовательские скрипты
            fileName = "user_functions.js";
            fileScriptName = Path.Combine(ProjectDir, fileName);
            script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load user_functions.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.user_functions)
            {
                Logger.WriteLine("Load JS/user_functions.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                script_text = Environment.NewLine + TabInString(4) + "// start user_functions.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(4) + "// end user_functions.js" + Environment.NewLine;
                script_text = Environment.NewLine + TabInString(4) + "console.log('user_functions.js');" + script_text;
                variables = script_text + variables;
            }
            ///////////////
            fileName = "user_script_start.js";
            fileScriptName = Path.Combine(ProjectDir, fileName);
            script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load user_script_start.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.user_script_start)
            {
                Logger.WriteLine("Load JS/user_script_start.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                script_text = Environment.NewLine + TabInString(6) + "// start user_script_start.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(6) + "// end user_script_start.js" + Environment.NewLine;
                script_text = Environment.NewLine + TabInString(6) + "console.log('user_script_start.js');" + script_text;
                items = script_text + items;
            }
            ///////////////
            fileName = "user_script_end.js";
            fileScriptName = Path.Combine(ProjectDir, fileName);
            script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load user_script_end.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.user_script_end)
            {
                Logger.WriteLine("Load JS/user_script_end.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                items += Environment.NewLine + TabInString(6) + "console.log('user_script_end.js');" + Environment.NewLine;
                script_text = TabInString(6) + "// start user_script_end.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(6) + "// end user_script_end.js" + Environment.NewLine;
                items = items + script_text;
            }
            ///////////////
            fileName = "resume_call.js";
            fileScriptName = Path.Combine(ProjectDir, fileName);
            script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load resume_call.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.resume_call)
            {
                Logger.WriteLine("Load JS/resume_call.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                resume_call += Environment.NewLine + TabInString(8) + "console.log('resume_call.js');" + Environment.NewLine;
                script_text = TabInString(8) + "// start resume_call.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(8) + "// end resume_call.js" + Environment.NewLine;

                resume_call = resume_call + script_text;
            }
            ///////////////
            fileName = "pause_call.js";
            fileScriptName = Path.Combine(ProjectDir, fileName);
            script_text = "";
            if (File.Exists(fileScriptName))
            {
                Logger.WriteLine("Load pause_call.js");
                try
                {
                    script_text = File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
            if (File.Exists(fileScriptName) && script != null && script.enable && script.pause_call)
            {
                Logger.WriteLine("Load JS/pause_call.js");
                try
                {
                    script_text += Environment.NewLine + File.ReadAllText(fileScriptName);
                }
                catch (Exception)
                {
                }
            }
            if (script_text.Length > 5)
            {
                pause_call += Environment.NewLine + TabInString(8) + "console.log('pause_call.js');" + Environment.NewLine;
                script_text = TabInString(8) + "// start pause_call.js" + Environment.NewLine +
                    script_text + Environment.NewLine;
                script_text = script_text + TabInString(8) + "// end pause_call.js" + Environment.NewLine;
                pause_call = pause_call + script_text;
            }
            ///////////////
            #endregion

            if (weather_few_days.Length > 5)
            {
                if (items.IndexOf("const weatherSensor") < 0)
                    items += Environment.NewLine + TabInString(6) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);";

                string tempStr = "";
                tempStr += TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine ;
                tempStr += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;

                if (weather_few_days.IndexOf("result = graphScale(") > 0) 
                    tempStr += TabInString(7) + "let result = {graphScale: 1, maximal_temp: 0};" + Environment.NewLine;
                if (weather_few_days.IndexOf("maxOldX") > 0) tempStr += TabInString(7) + "let maxOldX = 0;" + Environment.NewLine;
                if (weather_few_days.IndexOf("averageOldX") > 0) tempStr += TabInString(7) + "let averageOldX = 0;" + Environment.NewLine;
                if (weather_few_days.IndexOf("minOldX") > 0) tempStr += TabInString(7) + "let minOldX = 0;" + Environment.NewLine;

                weather_few_days = tempStr + weather_few_days;
                //weather_few_days = TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine + weather_few_days;
                //weather_few_days = TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine + weather_few_days;

                weather_few_days += Environment.NewLine + TabInString(7) + "};  // end for";
                weather_few_days += Environment.NewLine + weather_few_days_end;

                items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                items += Environment.NewLine + TabInString(6) + "function weather_few_days() {";
                items += Environment.NewLine + TabInString(7) + "console.log('weather_few_days()');";
                items += Environment.NewLine + weather_few_days;
                items += Environment.NewLine + TabInString(6) + "};";
                items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                resume_call += Environment.NewLine + TabInString(8) + "weather_few_days();";
            }

            if (time_update.Length > 5)
            {
                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                items += Environment.NewLine + TabInString(6) + "function time_update(updateHour = false, updateMinute = false) {";
                items += Environment.NewLine + TabInString(7) + "console.log('time_update()');";
                items += Environment.NewLine + TabInString(7) + "let hour = timeSensor.hour;";
                items += Environment.NewLine + TabInString(7) + "let minute = timeSensor.minute;";
                items += Environment.NewLine + TabInString(7) + "let second = timeSensor.second;";
                items += Environment.NewLine + TabInString(7) + "let format_hour = timeSensor.format_hour;";
                items += Environment.NewLine + time_update;
                items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                items += Environment.NewLine + TabInString(6) + "//end of ignored block";
            }

            if (text_update.Length > 5)
            {
                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                items += Environment.NewLine + TabInString(6) + "function text_update() {";
                items += Environment.NewLine + TabInString(7) + "console.log('text_update()');";
                items += Environment.NewLine + text_update;
                items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                items += Environment.NewLine + TabInString(6) + "//end of ignored block";
            }

            if (compass_update.Length > 5)
            {
                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                items += Environment.NewLine + TabInString(6) + "console.log('compass_update()');";
                items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.WATCHFACE){";

                items += Environment.NewLine + TabInString(7) + "compass = hmSensor.createSensor(hmSensor.id.COMPASS);";
                items += Environment.NewLine + TabInString(7) + "compass.start();" + Environment.NewLine;
                items += Environment.NewLine + TabInString(7) + "if (compass.direction_angle && compass.direction  && compass.direction_angle != 'INVALID') { // initial data";
                items += Environment.NewLine + compass_update;
                items += Environment.NewLine + TabInString(7) + "} else { // error data";
                items += Environment.NewLine + compass_error;
                items += Environment.NewLine + TabInString(7) + "}" + Environment.NewLine;

                compass_update = compass_update.Replace("compass.", "compass_res.");
                compass_error = compass_error.Replace("compass.", "compass_res.");
                compass_update = compass_update.Replace(TabInString(7), TabInString(8));
                compass_error = compass_error.Replace(TabInString(7), TabInString(8));

                items += Environment.NewLine + TabInString(7) + "compass.addEventListener(hmSensor.event.CHANGE, function (compass_res) { // change values when changing direction" + Environment.NewLine;
                items += Environment.NewLine + TabInString(8) + "if (compass_res.calibration_status) {";
                items += Environment.NewLine + compass_update;
                items += Environment.NewLine + TabInString(8) + "} else { // error data";
                items += Environment.NewLine + compass_error;
                items += Environment.NewLine + TabInString(8) + "}" + Environment.NewLine;
                items += Environment.NewLine + TabInString(7) + "}); // Listener end" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + "};";
                items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
            }

            if (scale_update_function.Length > 5 || resume_call.Length > 0 || pause_call.Length > 0 || time_update.Length > 5 || text_update.Length > 5)
            {
                if (scale_update_function.Length > 5)
                {
                    items += Environment.NewLine + TabInString(6) + "function scale_call() {";
                    items += Environment.NewLine + TabInString(7) + "console.log('scale_call()');";
                    items += Environment.NewLine + scale_update_function;
                    items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine; 
                }
                items += Environment.NewLine + TabInString(6) +
                    "const widgetDelegate = hmUI.createWidget(hmUI.widget.WIDGET_DELEGATE, {";
                items += Environment.NewLine + TabInString(7) + "resume_call: (function () {";
                items += Environment.NewLine + TabInString(8) + "console.log('resume_call()');";
                if (scale_update_function.Length > 5) items += Environment.NewLine + TabInString(8) + "scale_call();";
                if (time_update.Length > 5) items += Environment.NewLine + TabInString(8) + "time_update(true, true);";
                if (text_update.Length > 5) items += Environment.NewLine + TabInString(8) + "text_update();";
                if (resume_call.Length > 0) items += Environment.NewLine + resume_call;
                items += Environment.NewLine + TabInString(7) + "}),";
                if (pause_call.Length > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "pause_call: (function () {";
                    items += Environment.NewLine + TabInString(8) + "console.log('pause_call()');";
                    if (pause_call.Length > 0) items += Environment.NewLine + pause_call;
                    items += Environment.NewLine + TabInString(7) + "}),";
                }
                items += Environment.NewLine + TabInString(6) + "});";
            }

            if (fonts_cache.Length > 5) items = fonts_cache + items;

            int firstPos = items.IndexOf("let screenType = hmSetting.getScreenType();");
            int lastPos = items.LastIndexOf("let screenType = hmSetting.getScreenType();");
            while (firstPos > 0 && firstPos < lastPos)
            {
                int lenghtRemove = "let screenType = hmSetting.getScreenType();".Length;
                items = items.Remove(lastPos, lenghtRemove);
                firstPos = items.IndexOf("let screenType = hmSetting.getScreenType();");
                lastPos = items.LastIndexOf("let screenType = hmSetting.getScreenType();");
            }
        }

        /// <param name="element">Элемент для добавления в циферблат</param>
        /// <param name="show_level">На каком экране отображается элемент</param>
        /// <param name="variables">Перечень переменных</param>
        /// <param name="items">Код дабавляемоко элемента</param>
        /// <param name="scale_update_function">Код для функции обновления прогресса</param>
        /// <param name="exist_items">Код ранее добавленых элементов</param>
        /// <param name="exist_resume_call">Ранее добавленный код для обновления при включении экрана</param>
        /// <param name="resume_call">Код для обновления при включении экрана</param>
        /// <param name="pause_call">Код для обновления при выключении циферблата</param>
        /// <param name="time_update">Код для обновления времени</param>
        private void AddElementToJS(Object element, string show_level, ref string variables, ref string items, ref string scale_update_function, 
            ref string resume_call, ref string pause_call, ref string time_update, ref string text_update, ref string fonts_cache, 
            ref string compass_update, ref string compass_error, ref string weather_few_days, ref string weather_few_days_end)
        {
            string optionNameStart = "normal_";
            if (show_level == "ONLY_AOD") optionNameStart = "idle_";
            //variables = "";
            //items = "";
            //scale_update_function = "";
            //resume_call = "";
            //pause_call = "";
            //time_update = "";
            //text_update = "";
            string options = "";
            string type = element.GetType().Name;

            int imagesPosition = 99;
            int segmentsPosition = 99;
            int numberPosition = 99;
            int numberFontPosition = 99;
            int textRotatePosition = 99;
            int textCirclePosition = 99;
            int numberTargetPosition = 99;
            int numberTargetFontPosition = 99;
            int textRotateTargetPosition = 99;
            int textCircleTargetPosition = 99;
            int pointerPosition= 99;
            int circleScalePosition = 99;
            int linearScalePosition = 99;
            int iconPosition = 99;

            string imagesOptions = "";
            string segmentsOptions = "";
            string numberOptions = "";
            string numberFontOptions = "";
            string textRotateOptions = "";
            string textCircleOptions = "";
            string numberTargetOptions = "";
            string numberTargetFontOptions = "";
            string textRotateTargetOptions = "";
            string textCircleTargetOptions = "";
            string pointerOptions = "";
            string circleScaleOptions = "";
            string circleScaleProgressOptions = "";
            string circleScaleProgressMirrorOptions = "";
            string linearScaleOptions = "";
            Circle_Scale circle_scale = null;
            Linear_Scale linear_scale = null;
            hmUI_widget_IMG_NUMBER text_rotate = null;
            Text_Circle text_circle = null;
            string iconOptions = "";

            string numberOptions_separator = "";
            string numberTargetOptions_separator = "";

            switch (type)
            {
                #region ElementDigitalTime
                /*case "ElementDigitalTime":
                    ElementDigitalTime DigitalTime = (ElementDigitalTime)element;
                    if(!DigitalTime.visible) return;
                    int hourPosition = 99;
                    int minutePosition = 99;
                    int secondPosition = 99;
                    int AmPmPosition = 99;
                    string optionsHour = "";
                    string optionsMinute = "";
                    string optionsSecond = "";
                    string optionsHour_separator = "";
                    string optionsMinute_separator = "";
                    string optionsSecond_separator = "";
                    string optionsAmPm = "";

                    int hourPosition_Font = 99;
                    int minutePosition_Font = 99;
                    int secondPosition_Font = 99;
                    int hourMinPosition_Font = 99;
                    int hourMinSecPosition_Font = 99;
                    string optionsHour_Font = "";
                    string optionsMinute_Font = "";
                    string optionsSecond_Font = "";
                    string optionsHourMin_Font = "";
                    string optionsHourMinSec_Font = "";

                    int hourPosition_rotation = 99;
                    int minutePosition_rotation = 99;
                    int secondPosition_rotation = 99;
                    string optionsHour_rotation = "";
                    string optionsMinute_rotation = "";
                    string optionsSecond_rotation = "";

                    int hourPosition_circle = 99;
                    int minutePosition_circle = 99;
                    int secondPosition_circle = 99;
                    string optionsHour_circle = "";
                    string optionsMinute_circle = "";
                    string optionsSecond_circle = "";

                    if (DigitalTime.Hour != null && DigitalTime.Hour.visible)
                    {
                        hourPosition = DigitalTime.Hour.position;
                        hmUI_widget_IMG_NUMBER img_number_hour = DigitalTime.Hour;
                        optionsHour = IMG_NUMBER_Hour_Options(img_number_hour, "");

                        optionsHour_separator = IMG_Separator_Options(img_number_hour, show_level);
                    }
                    if (DigitalTime.Minute != null && DigitalTime.Minute.visible)
                    {
                        minutePosition = DigitalTime.Minute.position;
                        hmUI_widget_IMG_NUMBER img_number_minute = DigitalTime.Minute;
                        optionsMinute = IMG_NUMBER_Minute_Options(img_number_minute, "");

                        optionsMinute_separator = IMG_Separator_Options(img_number_minute, show_level);
                    }
                    if (DigitalTime.Second != null && DigitalTime.Second.visible)
                    {
                        secondPosition = DigitalTime.Second.position;
                        hmUI_widget_IMG_NUMBER img_number_second = DigitalTime.Second;
                        optionsSecond = IMG_NUMBER_Second_Options(img_number_second, "");

                        optionsSecond_separator = IMG_Separator_Options(img_number_second, show_level);
                    }
                    if (DigitalTime.AmPm != null && DigitalTime.AmPm.visible)
                    {
                        AmPmPosition = DigitalTime.AmPm.position;
                        hmUI_widget_IMG_TIME_am_pm am_pm = DigitalTime.AmPm;
                        optionsAmPm = AmPm_Options(am_pm, show_level);
                    }

                    if (DigitalTime.Hour_Font != null && DigitalTime.Hour_Font.visible)
                    {
                        hourPosition_Font = DigitalTime.Hour_Font.position;
                        hmUI_widget_TEXT text = DigitalTime.Hour_Font;
                        optionsHour_Font = TEXT_Options(text, show_level);
                    }
                    if (DigitalTime.Minute_Font != null && DigitalTime.Minute_Font.visible)
                    {
                        minutePosition_Font = DigitalTime.Minute_Font.position;
                        hmUI_widget_TEXT text = DigitalTime.Minute_Font;
                        optionsMinute_Font = TEXT_Options(text, show_level);
                    }
                    if (DigitalTime.Second_Font != null && DigitalTime.Second_Font.visible)
                    {
                        secondPosition_Font = DigitalTime.Second_Font.position;
                        hmUI_widget_TEXT text = DigitalTime.Second_Font;
                        optionsSecond_Font = TEXT_Options(text, show_level);
                    }

                    if (DigitalTime.Hour_min_Font != null && DigitalTime.Hour_min_Font.visible)
                    {
                        hourMinPosition_Font = DigitalTime.Hour_min_Font.position;
                        hmUI_widget_TEXT text = DigitalTime.Hour_min_Font;
                        optionsHourMin_Font = TEXT_Options(text, show_level);
                    }
                    if (DigitalTime.Hour_min_sec_Font != null && DigitalTime.Hour_min_sec_Font.visible)
                    {
                        hourMinSecPosition_Font = DigitalTime.Hour_min_sec_Font.position;
                        hmUI_widget_TEXT text = DigitalTime.Hour_min_sec_Font;
                        optionsHourMinSec_Font = TEXT_Options(text, show_level);
                    }

                    if (DigitalTime.Hour_rotation != null && DigitalTime.Hour_rotation.visible)
                    {
                        hourPosition_rotation = DigitalTime.Hour_rotation.position;
                        text_rotate = DigitalTime.Hour_rotation;

                        optionsHour_rotation = Text_Rotate_Options(text_rotate, "HOUR", show_level, false);
                    }
                    if (DigitalTime.Minute_rotation != null && DigitalTime.Minute_rotation.visible)
                    {
                        minutePosition_rotation = DigitalTime.Minute_rotation.position;
                        text_rotate = DigitalTime.Minute_rotation;

                        optionsMinute_rotation = Text_Rotate_Options(text_rotate, "MINUTE", show_level, false);
                    }
                    if (DigitalTime.Second_rotation != null && DigitalTime.Second_rotation.visible)
                    {
                        secondPosition_rotation = DigitalTime.Second_rotation.position;
                        text_rotate = DigitalTime.Second_rotation;

                        optionsSecond_rotation = Text_Rotate_Options(text_rotate, "SECOND", show_level, false);
                    }

                    if (DigitalTime.Hour_circle != null && DigitalTime.Hour_circle.visible)
                    {
                        hourPosition_circle = DigitalTime.Hour_circle.position;
                        text_circle = DigitalTime.Hour_circle;

                        optionsHour_circle = Text_Circle_Options(text_circle, "HOUR", show_level, false);
                    }
                    if (DigitalTime.Minute_circle != null && DigitalTime.Minute_circle.visible)
                    {
                        minutePosition_circle = DigitalTime.Minute_circle.position;
                        text_circle = DigitalTime.Minute_circle;

                        optionsMinute_circle = Text_Circle_Options(text_circle, "MINUTE", show_level, false);
                    }
                    if (DigitalTime.Second_circle != null && DigitalTime.Second_circle.visible)
                    {
                        secondPosition_circle = DigitalTime.Second_circle.position;
                        text_circle = DigitalTime.Second_circle;

                        optionsSecond_circle = Text_Circle_Options(text_circle, "SECOND", show_level, false);
                    }

                    bool fullTime = false;
                    for (int index = 1; index <= 20; index++)
                    {
                        if (index == hourPosition && hourPosition < minutePosition && minutePosition < secondPosition)
                        {
                            if (optionsHour.Length > 5 && optionsMinute.Length > 5 )
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                                        "digital_clock_img_time = ''" + Environment.NewLine;
                                options = optionsHour + optionsMinute + optionsSecond + Environment.NewLine +
                                    TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "digital_clock_img_time = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                        options + TabInString(6) + "});" + Environment.NewLine;

                                if (optionsHour_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_hour_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_hour_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsHour_separator + TabInString(6) + "});" + Environment.NewLine;
                                }

                                if (optionsMinute_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_minute_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_minute_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsMinute_separator + TabInString(6) + "});" + Environment.NewLine;
                                }

                                if (optionsSecond_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_second_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_second_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsSecond_separator + TabInString(6) + "});" + Environment.NewLine;
                                }

                                fullTime = true;
                            }
                        }
                        if(!fullTime)
                        {
                            if (index == hourPosition && optionsHour.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "digital_clock_img_time_hour = ''" + Environment.NewLine;
                                optionsHour += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "digital_clock_img_time_hour = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                        optionsHour + TabInString(6) + "});" + Environment.NewLine;

                                if (optionsHour_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_hour_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_hour_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsHour_separator + TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (index == minutePosition && optionsMinute.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "digital_clock_img_time_minute = ''" + Environment.NewLine;
                                optionsMinute += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "digital_clock_img_time_minute = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                        optionsMinute + TabInString(6) + "});" + Environment.NewLine;

                                if (optionsMinute_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_minute_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_minute_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsMinute_separator + TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (index == secondPosition && optionsSecond.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "digital_clock_img_time_second = ''" + Environment.NewLine;
                                optionsSecond += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "digital_clock_img_time_second = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                        optionsSecond + TabInString(6) + "});" + Environment.NewLine;

                                if (optionsSecond_separator.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_second_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_second_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsSecond_separator + TabInString(6) + "});" + Environment.NewLine;
                                }
                            }
                        }

                        if (index == AmPmPosition && optionsAmPm.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "digital_clock_img_time_AmPm = ''" + Environment.NewLine;
                            //optionsAmPm += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "digital_clock_img_time_AmPm = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                    optionsAmPm + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Hour_Font
                        if (index == hourPosition_Font && optionsHour_Font.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime.Hour_Font.font != null && DigitalTime.Hour_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime.Hour_Font.font + "; FontSize: " + DigitalTime.Hour_Font.text_size.ToString();
                                bool cachFull = false;
                                if (DigitalTime.Hour_Font.unit_type > 0)
                                {
                                    cacheName = "// FontName: " + DigitalTime.Hour_Font.font + "; FontSize: " + DigitalTime.Hour_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime.Hour_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_hour_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsHour_Font + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('hour font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string hourStr = optionNameStart + "hourStr";
                            //time_update += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "valueHour = hour;";
                            //time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                            //time_update += Environment.NewLine + TabInString(9) + optionNameStart + "valueHour -= 12;";
                            //time_update += Environment.NewLine + TabInString(9) + "if (" + optionNameStart + "valueHour < 1) " + optionNameStart + "valueHour += 12;";
                            //time_update += Environment.NewLine + TabInString(8) + "};";
                            //time_update += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "valueHour = format_hour;";


                            time_update += Environment.NewLine + TabInString(8) + "let " + hourStr + " = format_hour.toString();";
                            if (DigitalTime.Hour_Font.padding) time_update += Environment.NewLine + TabInString(8) + hourStr + " = " + hourStr + ".padStart(2, '0');";
                            if (DigitalTime.Hour_Font.unit_type > 0)
                            {
                                string unitStr = "hour";
                                if (DigitalTime.Hour_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + hourStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + hourStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                        // Minute_Font
                        if (index == minutePosition_Font && optionsMinute_Font.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime.Minute_Font.font != null && DigitalTime.Minute_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime.Minute_Font.font + "; FontSize: " + DigitalTime.Minute_Font.text_size.ToString();
                                bool cachFull = false;
                                if (DigitalTime.Minute_Font.unit_type > 0)
                                { 
                                    cacheName = "// FontName: " + DigitalTime.Minute_Font.font + "; FontSize: " + DigitalTime.Minute_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime.Minute_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_minute_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsMinute_Font + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('minute font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            string minuteStr = optionNameStart + "minuteStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + minuteStr + " = minute.toString();";
                            if (DigitalTime.Minute_Font.padding) time_update += Environment.NewLine + TabInString(8) + minuteStr + " = " + minuteStr + ".padStart(2, '0');";
                            if (DigitalTime.Minute_Font.unit_type > 0)
                            {
                                string unitStr = "min";
                                if (DigitalTime.Minute_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + minuteStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + minuteStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                        // Second_Font
                        if (index == secondPosition_Font && optionsSecond_Font.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime.Second_Font.font != null && DigitalTime.Second_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime.Second_Font.font + "; FontSize: " + DigitalTime.Second_Font.text_size.ToString();
                                bool cachFull = false;
                                if (DigitalTime.Second_Font.unit_type > 0)
                                {
                                    cacheName = "// FontName: " + DigitalTime.Second_Font.font + "; FontSize: " + DigitalTime.Second_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime.Second_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_second_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsSecond_Font + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('second font');";
                            //time_update += Environment.NewLine + TabInString(7) + "if (updateSecond) {";
                            string secondStr = optionNameStart + "secondStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + secondStr + " = second.toString();";
                            if (DigitalTime.Second_Font.padding) time_update += Environment.NewLine + TabInString(8) + secondStr + " = " + secondStr + ".padStart(2, '0');";
                            if (DigitalTime.Second_Font.unit_type > 0)
                            {
                                string unitStr = "sec";
                                if (DigitalTime.Second_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + secondStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + secondStr + " );";

                            //time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Hour_Min_Font
                        if (index == hourMinPosition_Font && optionsHourMin_Font.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime.Hour_min_Font.font != null && DigitalTime.Hour_min_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime.Hour_min_Font.font + "; FontSize: " + DigitalTime.Hour_min_Font.text_size.ToString();
                                //if (DigitalTime.Hour_min_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DigitalTime.Hour_min_Font.font + "; FontSize: " + DigitalTime.Hour_min_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime.Hour_min_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_hour_min_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsHourMin_Font + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('hour:min font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            string HourMinStr = optionNameStart + "HourMinStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + HourMinStr + " = format_hour.toString();";
                            if (DigitalTime.Hour_min_Font.padding) time_update += Environment.NewLine + TabInString(8) + HourMinStr + " = " + HourMinStr + ".padStart(2, '0');";
                            string delimeter = ":";
                            if (DigitalTime.Hour_min_Font.unit_string.Length > 0) delimeter = DigitalTime.Hour_min_Font.unit_string;
                            time_update += Environment.NewLine + TabInString(8) + HourMinStr + " = " + HourMinStr + " + '" + delimeter + "' + minute.toString().padStart(2, '0')";
                            string unitAmStr = "Am";
                            string unitPmStr = "Pm";
                            if (DigitalTime.Hour_min_Font.unit_type == 0)
                            {
                                unitAmStr = unitAmStr.ToLower();
                                unitPmStr = unitPmStr.ToLower();
                            }
                            if (DigitalTime.Hour_min_Font.unit_type == 2)
                            {
                                unitAmStr = unitAmStr.ToUpper();
                                unitPmStr = unitPmStr.ToUpper();
                            }
                            if (DigitalTime.Hour_min_Font.unit_end)
                            {
                                time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(9) + "if (hour > 11) " + HourMinStr + " = " + HourMinStr + " + ' " + unitPmStr + "';";
                                time_update += Environment.NewLine + TabInString(9) + "else " + HourMinStr + " = " + HourMinStr + " + ' " + unitAmStr + "';";
                                time_update += Environment.NewLine + TabInString(8) + "};";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(9) + "if (hour > 11) " + HourMinStr + " = '" + unitPmStr + " ' + " + HourMinStr;
                                time_update += Environment.NewLine + TabInString(9) + "else " + HourMinStr + " = '" + unitAmStr + " ' + " + HourMinStr;
                                time_update += Environment.NewLine + TabInString(8) + "};";
                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + HourMinStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                        // Hour_Min_Sec_Font
                        if (index == hourMinSecPosition_Font && optionsHourMinSec_Font.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime.Hour_min_sec_Font.font != null && DigitalTime.Hour_min_sec_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime.Hour_min_sec_Font.font + "; FontSize: " + DigitalTime.Hour_min_sec_Font.text_size.ToString();
                                //if (DigitalTime.Hour_min_sec_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DigitalTime.Hour_min_sec_Font.font + "; FontSize: " + DigitalTime.Hour_min_sec_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime.Hour_min_sec_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_hour_min_sec_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsHourMinSec_Font + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('hour:min:sec font');";
                            //time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            string HourMinSecStr = optionNameStart + "HourMinSecStr";
                            time_update += Environment.NewLine + TabInString(7) + "let " + HourMinSecStr + " = format_hour.toString();";
                            if (DigitalTime.Hour_min_sec_Font.padding) time_update += Environment.NewLine + TabInString(7) + HourMinSecStr + " = " + HourMinSecStr + ".padStart(2, '0');";
                            string delimeter = ":";
                            if (DigitalTime.Hour_min_sec_Font.unit_string.Length > 0) delimeter = DigitalTime.Hour_min_sec_Font.unit_string;
                            time_update += Environment.NewLine + TabInString(7) + HourMinSecStr + " = " + HourMinSecStr + " + '" + delimeter +
                                "' + minute.toString().padStart(2, '0') + '" + delimeter + "' + second.toString().padStart(2, '0');";
                            string unitAmStr = "Am";
                            string unitPmStr = "Pm";
                            if (DigitalTime.Hour_min_sec_Font.unit_type == 0)
                            {
                                unitAmStr = unitAmStr.ToLower();
                                unitPmStr = unitPmStr.ToLower();
                            }
                            if (DigitalTime.Hour_min_sec_Font.unit_type == 2)
                            {
                                unitAmStr = unitAmStr.ToUpper();
                                unitPmStr = unitPmStr.ToUpper();
                            }
                            if (DigitalTime.Hour_min_sec_Font.unit_end)
                            {
                                time_update += Environment.NewLine + TabInString(7) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(8) + "if (hour > 11) " + HourMinSecStr + " = " + HourMinSecStr + " + ' " + unitPmStr + "';";
                                time_update += Environment.NewLine + TabInString(8) + "else " + HourMinSecStr + " = " + HourMinSecStr + " + ' " + unitAmStr + "';";
                                time_update += Environment.NewLine + TabInString(7) + "};";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(7) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(8) + "if (hour > 11) " + HourMinSecStr + " = '" + unitPmStr + " ' + " + HourMinSecStr;
                                time_update += Environment.NewLine + TabInString(8) + "else " + HourMinSecStr + " = '" + unitAmStr + " ' + " + HourMinSecStr;
                                time_update += Environment.NewLine + TabInString(7) + "};";
                            }
                            time_update += Environment.NewLine + TabInString(7) + variableName + ".setProperty(hmUI.prop.TEXT, " + HourMinSecStr + " );";

                            //time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Hour_Rotate
                        if (index == hourPosition_rotation && optionsHour_rotation.Length > 5)
                        {
                            AddTextRotationJS(DigitalTime.Hour_rotation, optionNameStart, "hour_", ref variables, ref items, ref text_update,
                                optionsHour_rotation, show_level, "timeSensor", "TIME", "valueHour", "format_hour", 2, ref resume_call, ref  pause_call);
                        }
                        // Minute_Rotate
                        if (index == minutePosition_rotation && optionsMinute_rotation.Length > 5)
                        {
                            AddTextRotationJS(DigitalTime.Minute_rotation, optionNameStart, "minute_", ref variables, ref items, ref text_update,
                                optionsMinute_rotation, show_level, "timeSensor", "TIME", "valueMinute", "minute", 2, ref resume_call, ref pause_call);
                        }
                        // Second_Rotate
                        if (index == secondPosition_rotation && optionsSecond_rotation.Length > 5)
                        {
                            AddTextRotationJS(DigitalTime.Second_rotation, optionNameStart, "second_", ref variables, ref items, ref text_update,
                                optionsSecond_rotation, show_level, "timeSensor", "TIME", "valueSecond", "second", 2, ref resume_call, ref pause_call);
                        }

                        // Hour_Circle
                        if (index == hourPosition_circle && optionsHour_circle.Length > 5)
                        {
                            AddTextCircleJS(DigitalTime.Hour_circle, optionNameStart, "hour_", ref variables, ref items, ref text_update,
                                optionsHour_circle, show_level, "timeSensor", "TIME", "valueHour", "format_hour", 2, ref resume_call, ref pause_call);
                        }
                        // Minute_Circle
                        if (index == minutePosition_circle && optionsMinute_circle.Length > 5)
                        {
                            AddTextCircleJS(DigitalTime.Minute_circle, optionNameStart, "minute_", ref variables, ref items, ref text_update,
                                optionsMinute_circle, show_level, "timeSensor", "TIME", "valueMinute", "minute", 2, ref resume_call, ref pause_call);
                        }
                        // Second_Circle
                        if (index == secondPosition_circle && optionsSecond_circle.Length > 5)
                        {
                            AddTextCircleJS(DigitalTime.Second_circle, optionNameStart, "second_", ref variables, ref items, ref text_update,
                                optionsSecond_circle, show_level, "timeSensor", "TIME", "valueSecond", "second", 2, ref resume_call, ref pause_call);
                        }
                    }
                    break;*/
                #endregion

                #region ElementDigitalTime_v2
                case "ElementDigitalTime_v2":
                    ElementDigitalTime_v2 DigitalTime_v2 = (ElementDigitalTime_v2)element;
                    if (!DigitalTime_v2.visible) return;
                    int hourPosition_v2 = 99;
                    int minutePosition_v2 = 99;
                    int secondPosition_v2 = 99;
                    int AmPmPosition_v2 = 99;
                    string optionsHour_v2 = "";
                    string optionsMinute_v2 = "";
                    string optionsSecond_v2 = "";
                    string optionsHour_separator_v2 = "";
                    string optionsMinute_separator_v2 = "";
                    string optionsSecond_separator_v2 = "";
                    string optionsAmPm_v2 = "";

                    //int hourPosition_Font_v2 = 99;
                    //int minutePosition_Font_v2 = 99;
                    //int secondPosition_Font_v2 = 99;
                    int hourMinPosition_Font_v2 = 99;
                    int hourMinSecPosition_Font_v2 = 99;
                    string optionsHour_Font_v2 = "";
                    string optionsMinute_Font_v2 = "";
                    string optionsSecond_Font_v2 = "";
                    string optionsHourMin_Font_v2 = "";
                    string optionsHourMinSec_Font_v2 = "";

                    //int hourPosition_rotation_v2 = 99;
                    //int minutePosition_rotation_v2 = 99;
                    //int secondPosition_rotation_v2 = 99;
                    string optionsHour_rotation_v2 = "";
                    string optionsMinute_rotation_v2 = "";
                    string optionsSecond_rotation_v2 = "";

                    //int hourPosition_circle_v2 = 99;
                    //int minutePosition_circle_v2 = 99;
                    //int secondPosition_circle_v2 = 99;
                    string optionsHour_circle_v2 = "";
                    string optionsMinute_circle_v2 = "";
                    string optionsSecond_circle_v2 = "";

                    if (DigitalTime_v2.Group_Hour != null)
                    {
                        if (DigitalTime_v2.Group_Hour.Number != null && DigitalTime_v2.Group_Hour.Number.visible)
                        {
                            hmUI_widget_IMG_NUMBER img_number_hour = DigitalTime_v2.Group_Hour.Number;
                            optionsHour_v2 = IMG_NUMBER_Hour_Options(img_number_hour, "");

                            optionsHour_separator_v2 = IMG_Separator_Options(img_number_hour, show_level);
                        }

                        if (DigitalTime_v2.Group_Hour.Number_Font != null && DigitalTime_v2.Group_Hour.Number_Font.visible)
                        {
                            //hourPosition_Font_v2 = DigitalTime_v2.Group_Hour.Number_Font.position;
                            hmUI_widget_TEXT text = DigitalTime_v2.Group_Hour.Number_Font;
                            optionsHour_Font_v2 = TEXT_Options(text, show_level);
                        }

                        if (DigitalTime_v2.Group_Hour.Text_rotation != null && DigitalTime_v2.Group_Hour.Text_rotation.visible)
                        {
                            //hourPosition_rotation_v2 = DigitalTime_v2.Group_Hour.Text_rotation.position;
                            text_rotate = DigitalTime_v2.Group_Hour.Text_rotation;

                            optionsHour_rotation_v2 = Text_Rotate_Options(text_rotate, "HOUR", show_level, false);
                        }

                        if (DigitalTime_v2.Group_Hour.Text_circle != null && DigitalTime_v2.Group_Hour.Text_circle.visible)
                        {
                            //hourPosition_circle_v2 = DigitalTime_v2.Group_Hour.Text_circle.position;
                            text_circle = DigitalTime_v2.Group_Hour.Text_circle;

                            optionsHour_circle_v2 = Text_Circle_Options(text_circle, "HOUR", show_level, false);
                        }

                        hourPosition_v2 = DigitalTime_v2.Group_Hour.position;
                    }
                    if (DigitalTime_v2.Group_Minute != null)
                    {
                        if (DigitalTime_v2.Group_Minute.Number != null && DigitalTime_v2.Group_Minute.Number.visible)
                        {
                            hmUI_widget_IMG_NUMBER img_number_minute = DigitalTime_v2.Group_Minute.Number;
                            optionsMinute_v2 = IMG_NUMBER_Minute_Options(img_number_minute, "");

                            optionsMinute_separator_v2 = IMG_Separator_Options(img_number_minute, show_level);
                        }

                        if (DigitalTime_v2.Group_Minute.Number_Font != null && DigitalTime_v2.Group_Minute.Number_Font.visible)
                        {
                            //minutePosition_Font_v2 = DigitalTime_v2.Group_Minute.Number_Font.position;
                            hmUI_widget_TEXT text = DigitalTime_v2.Group_Minute.Number_Font;
                            optionsMinute_Font_v2 = TEXT_Options(text, show_level);
                        }

                        if (DigitalTime_v2.Group_Minute.Text_rotation != null && DigitalTime_v2.Group_Minute.Text_rotation.visible)
                        {
                            //minutePosition_rotation_v2 = DigitalTime_v2.Group_Minute.Text_rotation.position;
                            text_rotate = DigitalTime_v2.Group_Minute.Text_rotation;

                            optionsMinute_rotation_v2 = Text_Rotate_Options(text_rotate, "MINUTE", show_level, false);
                        }

                        if (DigitalTime_v2.Group_Minute.Text_circle != null && DigitalTime_v2.Group_Minute.Text_circle.visible)
                        {
                            //minutePosition_circle_v2 = DigitalTime_v2.Group_Minute.Text_circle.position;
                            text_circle = DigitalTime_v2.Group_Minute.Text_circle;

                            optionsMinute_circle_v2 = Text_Circle_Options(text_circle, "MINUTE", show_level, false);
                        }
                        
                        minutePosition_v2 = DigitalTime_v2.Group_Minute.position;
                    }
                    if (DigitalTime_v2.Group_Second != null)
                    {
                        if (DigitalTime_v2.Group_Second.Number != null && DigitalTime_v2.Group_Second.Number.visible)
                        {
                            secondPosition_v2 = DigitalTime_v2.Group_Second.position;
                            hmUI_widget_IMG_NUMBER img_number_second = DigitalTime_v2.Group_Second.Number;
                            optionsSecond_v2 = IMG_NUMBER_Second_Options(img_number_second, "");

                            optionsSecond_separator_v2 = IMG_Separator_Options(img_number_second, show_level);
                        }

                        if (DigitalTime_v2.Group_Second.Number_Font != null && DigitalTime_v2.Group_Second.Number_Font.visible)
                        {
                            //secondPosition_Font_v2 = DigitalTime_v2.Group_Second.Number_Font.position;
                            hmUI_widget_TEXT text = DigitalTime_v2.Group_Second.Number_Font;
                            optionsSecond_Font_v2 = TEXT_Options(text, show_level);
                        }

                        if (DigitalTime_v2.Group_Second.Text_rotation != null && DigitalTime_v2.Group_Second.Text_rotation.visible)
                        {
                            //secondPosition_rotation_v2 = DigitalTime_v2.Group_Second.Text_rotation.position;
                            text_rotate = DigitalTime_v2.Group_Second.Text_rotation;

                            optionsSecond_rotation_v2 = Text_Rotate_Options(text_rotate, "SECOND", show_level, false);
                        }

                        if (DigitalTime_v2.Group_Second.Text_circle != null && DigitalTime_v2.Group_Second.Text_circle.visible)
                        {
                            //secondPosition_circle_v2 = DigitalTime_v2.Group_Second.Text_circle.position;
                            text_circle = DigitalTime_v2.Group_Second.Text_circle;

                            optionsSecond_circle_v2 = Text_Circle_Options(text_circle, "SECOND", show_level, false);
                        }

                        secondPosition_v2 = DigitalTime_v2.Group_Second.position;
                    }

                    if (DigitalTime_v2.AmPm != null && DigitalTime_v2.AmPm.visible)
                    {
                        AmPmPosition_v2 = DigitalTime_v2.AmPm.position;
                        hmUI_widget_IMG_TIME_am_pm am_pm = DigitalTime_v2.AmPm;
                        optionsAmPm_v2 = AmPm_Options(am_pm, show_level);
                    }

                    if (DigitalTime_v2.Hour_Min_Font != null && DigitalTime_v2.Hour_Min_Font.visible)
                    {
                        hourMinPosition_Font_v2 = DigitalTime_v2.Hour_Min_Font.position;
                        hmUI_widget_TEXT text = DigitalTime_v2.Hour_Min_Font;
                        optionsHourMin_Font_v2 = TEXT_Options(text, show_level);
                    }
                    if (DigitalTime_v2.Hour_Min_Sec_Font != null && DigitalTime_v2.Hour_Min_Sec_Font.visible)
                    {
                        hourMinSecPosition_Font_v2 = DigitalTime_v2.Hour_Min_Sec_Font.position;
                        hmUI_widget_TEXT text = DigitalTime_v2.Hour_Min_Sec_Font;
                        optionsHourMinSec_Font_v2 = TEXT_Options(text, show_level);
                    }

                    bool fullTime_v2 = false;
                    for (int index = 1; index <= 10; index++)
                    {
                        // Hour
                        if (index == hourPosition_v2)
                        {
                            // Hour_Circle
                            if (optionsHour_circle_v2.Length > 5)
                            {
                                AddTextCircleJS(DigitalTime_v2.Group_Hour.Text_circle, optionNameStart, "hour_", ref variables, ref items, ref text_update,
                                    optionsHour_circle_v2, show_level, "timeSensor", "TIME", "valueHour", "format_hour", 2, ref resume_call, ref pause_call);
                            }
                            // Hour_Rotate
                            if (optionsHour_rotation_v2.Length > 5)
                            {
                                AddTextRotationJS(DigitalTime_v2.Group_Hour.Text_rotation, optionNameStart, "hour_", ref variables, ref items, ref text_update,
                                    optionsHour_rotation_v2, show_level, "timeSensor", "TIME", "valueHour", "format_hour", 2, ref resume_call, ref pause_call);
                            }
                            // Hour_Font
                            if (optionsHour_Font_v2.Length > 5)
                            {
                                if (SelectedModel.versionOS >= 2 && DigitalTime_v2.Group_Hour.Number_Font.font != null && DigitalTime_v2.Group_Hour.Number_Font.font.Length > 3)
                                {
                                    string cacheName = "// FontName: " + DigitalTime_v2.Group_Hour.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Hour.Number_Font.text_size.ToString();
                                    bool cachFull = false;
                                    if (DigitalTime_v2.Group_Hour.Number_Font.unit_type > 0)
                                    {
                                        cacheName = "// FontName: " + DigitalTime_v2.Group_Hour.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Hour.Number_Font.text_size.ToString() + "; Cache: full";
                                        cachFull = true;
                                    }
                                    if (fonts_cache.IndexOf(cacheName) < 0)
                                    {
                                        string fontCacheOptions = TEXT_Cache_Options(DigitalTime_v2.Group_Hour.Number_Font, cachFull);
                                        if (fontCacheOptions.Length > 5)
                                        {
                                            fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                            fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                                TabInString(6) + "});" + Environment.NewLine;
                                        }
                                    }
                                }

                                string variableName = optionNameStart + "time_hour_text_font";
                                variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                #region add listenet update time
                                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                string timerName = optionNameStart + "timerTimeUpdate";
                                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                                {

                                    if (optionNameStart == "normal_")
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                    }
                                    if (variables.IndexOf("let " + timerName + " =") < 0)
                                    {
                                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    }
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0 && timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;
                                }
                                #endregion

                                items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                        optionsHour_Font_v2 + TabInString(6) + "});" + Environment.NewLine;

                                time_update += Environment.NewLine + TabInString(7) + "console.log('hour font');";
                                time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                                string hourStr = optionNameStart + "hourStr";
                                //time_update += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "valueHour = hour;";
                                //time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                                //time_update += Environment.NewLine + TabInString(9) + optionNameStart + "valueHour -= 12;";
                                //time_update += Environment.NewLine + TabInString(9) + "if (" + optionNameStart + "valueHour < 1) " + optionNameStart + "valueHour += 12;";
                                //time_update += Environment.NewLine + TabInString(8) + "};";
                                //time_update += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "valueHour = format_hour;";


                                time_update += Environment.NewLine + TabInString(8) + "let " + hourStr + " = format_hour.toString();";
                                if (DigitalTime_v2.Group_Hour.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + hourStr + " = " + hourStr + ".padStart(2, '0');";
                                if (DigitalTime_v2.Group_Hour.Number_Font.unit_type > 0)
                                {
                                    string unitStr = "hour";
                                    if (DigitalTime_v2.Group_Hour.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                    time_update += Environment.NewLine + TabInString(8) + hourStr + " += '" + unitStr + "';";

                                }
                                time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + hourStr + " );";

                                time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                            }
                        }
                        // Minute
                        if (index == minutePosition_v2)
                        {
                            // Minute_Circle
                            if (optionsMinute_circle_v2.Length > 5)
                            {
                                AddTextCircleJS(DigitalTime_v2.Group_Minute.Text_circle, optionNameStart, "minute_", ref variables, ref items, ref text_update,
                                    optionsMinute_circle_v2, show_level, "timeSensor", "TIME", "valueMinute", "minute", 2, ref resume_call, ref pause_call);
                            }
                            // Minute_Rotate
                            if (optionsMinute_rotation_v2.Length > 5)
                            {
                                AddTextRotationJS(DigitalTime_v2.Group_Minute.Text_rotation, optionNameStart, "minute_", ref variables, ref items, ref text_update,
                                    optionsMinute_rotation_v2, show_level, "timeSensor", "TIME", "valueMinute", "minute", 2, ref resume_call, ref pause_call);
                            }
                            // Minute_Font
                            if (optionsMinute_Font_v2.Length > 5)
                            {
                                if (SelectedModel.versionOS >= 2 && DigitalTime_v2.Group_Minute.Number_Font.font != null && DigitalTime_v2.Group_Minute.Number_Font.font.Length > 3)
                                {
                                    string cacheName = "// FontName: " + DigitalTime_v2.Group_Minute.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Minute.Number_Font.text_size.ToString();
                                    bool cachFull = false;
                                    if (DigitalTime_v2.Group_Minute.Number_Font.unit_type > 0)
                                    {
                                        cacheName = "// FontName: " + DigitalTime_v2.Group_Minute.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Minute.Number_Font.text_size.ToString() + "; Cache: full";
                                        cachFull = true;
                                    }
                                    if (fonts_cache.IndexOf(cacheName) < 0)
                                    {
                                        string fontCacheOptions = TEXT_Cache_Options(DigitalTime_v2.Group_Minute.Number_Font, cachFull);
                                        if (fontCacheOptions.Length > 5)
                                        {
                                            fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                            fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                                TabInString(6) + "});" + Environment.NewLine;
                                        }
                                    }
                                }

                                string variableName = optionNameStart + "time_minute_text_font";
                                variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                #region add listenet update time
                                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                string timerName = optionNameStart + "timerTimeUpdate";
                                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                                {

                                    if (optionNameStart == "normal_")
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                    }
                                    if (variables.IndexOf("let " + timerName + " =") < 0)
                                    {
                                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    }
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0 && timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;
                                }
                                #endregion

                                items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                        optionsMinute_Font_v2 + TabInString(6) + "});" + Environment.NewLine;

                                time_update += Environment.NewLine + TabInString(7) + "console.log('minute font');";
                                time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                                string minuteStr = optionNameStart + "minuteStr";
                                time_update += Environment.NewLine + TabInString(8) + "let " + minuteStr + " = minute.toString();";
                                if (DigitalTime_v2.Group_Minute.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + minuteStr + " = " + minuteStr + ".padStart(2, '0');";
                                if (DigitalTime_v2.Group_Minute.Number_Font.unit_type > 0)
                                {
                                    string unitStr = "min";
                                    if (DigitalTime_v2.Group_Minute.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                    time_update += Environment.NewLine + TabInString(8) + minuteStr + " += '" + unitStr + "';";

                                }
                                time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + minuteStr + " );";

                                time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                            }
                        }
                        // Second
                        if (index == secondPosition_v2)
                        {
                            // Second_Circle
                            if (index == secondPosition_v2 && optionsSecond_circle_v2.Length > 5)
                            {
                                AddTextCircleJS(DigitalTime_v2.Group_Second.Text_circle, optionNameStart, "second_", ref variables, ref items, ref text_update,
                                    optionsSecond_circle_v2, show_level, "timeSensor", "TIME", "valueSecond", "second", 2, ref resume_call, ref pause_call);
                            }
                            // Second_Rotate
                            if (optionsSecond_rotation_v2.Length > 5)
                            {
                                AddTextRotationJS(DigitalTime_v2.Group_Second.Text_rotation, optionNameStart, "second_", ref variables, ref items, ref text_update,
                                    optionsSecond_rotation_v2, show_level, "timeSensor", "TIME", "valueSecond", "second", 2, ref resume_call, ref pause_call);
                            }
                            // Second_Font
                            if (optionsSecond_Font_v2.Length > 5)
                            {
                                if (SelectedModel.versionOS >= 2 && DigitalTime_v2.Group_Second.Number_Font.font != null && DigitalTime_v2.Group_Second.Number_Font.font.Length > 3)
                                {
                                    string cacheName = "// FontName: " + DigitalTime_v2.Group_Second.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Second.Number_Font.text_size.ToString();
                                    bool cachFull = false;
                                    if (DigitalTime_v2.Group_Second.Number_Font.unit_type > 0)
                                    {
                                        cacheName = "// FontName: " + DigitalTime_v2.Group_Second.Number_Font.font + "; FontSize: " + DigitalTime_v2.Group_Second.Number_Font.text_size.ToString() + "; Cache: full";
                                        cachFull = true;
                                    }
                                    if (fonts_cache.IndexOf(cacheName) < 0)
                                    {
                                        string fontCacheOptions = TEXT_Cache_Options(DigitalTime_v2.Group_Second.Number_Font, cachFull);
                                        if (fontCacheOptions.Length > 5)
                                        {
                                            fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                            fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                                TabInString(6) + "});" + Environment.NewLine;
                                        }
                                    }
                                }

                                string variableName = optionNameStart + "time_second_text_font";
                                variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                #region add listenet update time
                                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                string timerName = optionNameStart + "timerTimeUpdate";
                                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                                {

                                    if (optionNameStart == "normal_")
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                    }
                                    if (variables.IndexOf("let " + timerName + " =") < 0)
                                    {
                                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    }
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0 && timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;
                                }
                                #endregion

                                items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                        optionsSecond_Font_v2 + TabInString(6) + "});" + Environment.NewLine;

                                time_update += Environment.NewLine + TabInString(7) + "console.log('second font');";
                                //time_update += Environment.NewLine + TabInString(7) + "if (updateSecond) {";
                                string secondStr = optionNameStart + "secondStr";
                                time_update += Environment.NewLine + TabInString(8) + "let " + secondStr + " = second.toString();";
                                if (DigitalTime_v2.Group_Second.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + secondStr + " = " + secondStr + ".padStart(2, '0');";
                                if (DigitalTime_v2.Group_Second.Number_Font.unit_type > 0)
                                {
                                    string unitStr = "sec";
                                    if (DigitalTime_v2.Group_Second.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                    time_update += Environment.NewLine + TabInString(8) + secondStr + " += '" + unitStr + "';";

                                }
                                time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + secondStr + " );";

                                //time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                            }
                        }

                        if (index == hourPosition_v2 && hourPosition_v2 < minutePosition_v2 && minutePosition_v2 < secondPosition_v2)
                        {
                            if (optionsHour_v2.Length > 5 && optionsMinute_v2.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                                        "digital_clock_img_time = ''" + Environment.NewLine;
                                options = optionsHour_v2 + optionsMinute_v2 + optionsSecond_v2 + Environment.NewLine +
                                    TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "digital_clock_img_time = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                        options + TabInString(6) + "});" + Environment.NewLine;

                                if (optionsHour_separator_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_hour_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_hour_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsHour_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                }

                                if (optionsMinute_separator_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_minute_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_minute_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsMinute_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                }

                                if (optionsSecond_separator_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "digital_clock_second_separator_img = ''" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_second_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsSecond_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                }

                                fullTime_v2 = true;
                            }
                        }
                        if (!fullTime_v2)
                        {
                            // Hour
                            if (index == hourPosition_v2)
                            {
                                // Hour_Number
                                if (optionsHour_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                                                "digital_clock_img_time_hour = ''" + Environment.NewLine;
                                    optionsHour_v2 += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_img_time_hour = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                            optionsHour_v2 + TabInString(6) + "});" + Environment.NewLine;

                                    if (optionsHour_separator_v2.Length > 5)
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "digital_clock_hour_separator_img = ''" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "digital_clock_hour_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                                optionsHour_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                    } 
                                }
                            }
                            // Minute
                            if (index == minutePosition_v2)
                            {
                                // Minute_Number
                                if (optionsMinute_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                                               "digital_clock_img_time_minute = ''" + Environment.NewLine;
                                    optionsMinute_v2 += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_img_time_minute = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                            optionsMinute_v2 + TabInString(6) + "});" + Environment.NewLine;

                                    if (optionsMinute_separator_v2.Length > 5)
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "digital_clock_minute_separator_img = ''" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "digital_clock_minute_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                                optionsMinute_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                    } 
                                }
                            }
                            // Second
                            if (index == secondPosition_v2)
                            {
                                // Second_Number
                                if (optionsSecond_v2.Length > 5)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                                               "digital_clock_img_time_second = ''" + Environment.NewLine;
                                    optionsSecond_v2 += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "digital_clock_img_time_second = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                            optionsSecond_v2 + TabInString(6) + "});" + Environment.NewLine;

                                    if (optionsSecond_separator_v2.Length > 5)
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "digital_clock_second_separator_img = ''" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "digital_clock_second_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                                optionsSecond_separator_v2 + TabInString(6) + "});" + Environment.NewLine;
                                    } 
                                }
                            }
                        }

                        if (index == AmPmPosition_v2 && optionsAmPm_v2.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "digital_clock_img_time_AmPm = ''" + Environment.NewLine;
                            //optionsAmPm += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "digital_clock_img_time_AmPm = hmUI.createWidget(hmUI.widget.IMG_TIME, {" +
                                    optionsAmPm_v2 + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Hour_Min_Font
                        if (index == hourMinPosition_Font_v2 && optionsHourMin_Font_v2.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime_v2.Hour_Min_Font.font != null && DigitalTime_v2.Hour_Min_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime_v2.Hour_Min_Font.font + "; FontSize: " + DigitalTime_v2.Hour_Min_Font.text_size.ToString();
                                //if (DigitalTime_v2.Hour_Min_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DigitalTime_v2.Hour_Min_Font.font + "; FontSize: " + DigitalTime_v2.Hour_Min_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime_v2.Hour_Min_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_hour_min_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0 && timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsHourMin_Font_v2 + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('hour:min font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            string HourMinStr = optionNameStart + "HourMinStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + HourMinStr + " = format_hour.toString();";
                            if (DigitalTime_v2.Hour_Min_Font.padding) time_update += Environment.NewLine + TabInString(8) + HourMinStr + " = " + HourMinStr + ".padStart(2, '0');";
                            string delimeter = ":";
                            if (DigitalTime_v2.Hour_Min_Font.unit_string.Length > 0) delimeter = DigitalTime_v2.Hour_Min_Font.unit_string;
                            time_update += Environment.NewLine + TabInString(8) + HourMinStr + " = " + HourMinStr + " + '" + delimeter + "' + minute.toString().padStart(2, '0')";
                            string unitAmStr = "Am";
                            string unitPmStr = "Pm";
                            if (DigitalTime_v2.Hour_Min_Font.unit_type == 0)
                            {
                                unitAmStr = unitAmStr.ToLower();
                                unitPmStr = unitPmStr.ToLower();
                            }
                            if (DigitalTime_v2.Hour_Min_Font.unit_type == 2)
                            {
                                unitAmStr = unitAmStr.ToUpper();
                                unitPmStr = unitPmStr.ToUpper();
                            }
                            if (DigitalTime_v2.Hour_Min_Font.unit_end)
                            {
                                time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(9) + "if (hour > 11) " + HourMinStr + " = " + HourMinStr + " + ' " + unitPmStr + "';";
                                time_update += Environment.NewLine + TabInString(9) + "else " + HourMinStr + " = " + HourMinStr + " + ' " + unitAmStr + "';";
                                time_update += Environment.NewLine + TabInString(8) + "};";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(8) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(9) + "if (hour > 11) " + HourMinStr + " = '" + unitPmStr + " ' + " + HourMinStr;
                                time_update += Environment.NewLine + TabInString(9) + "else " + HourMinStr + " = '" + unitAmStr + " ' + " + HourMinStr;
                                time_update += Environment.NewLine + TabInString(8) + "};";
                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + HourMinStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                        // Hour_Min_Sec_Font
                        if (index == hourMinSecPosition_Font_v2 && optionsHourMinSec_Font_v2.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DigitalTime_v2.Hour_Min_Sec_Font.font != null && DigitalTime_v2.Hour_Min_Sec_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DigitalTime_v2.Hour_Min_Sec_Font.font + "; FontSize: " + DigitalTime_v2.Hour_Min_Sec_Font.text_size.ToString();
                                //if (DigitalTime_v2.Hour_Min_Sec_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DigitalTime_v2.Hour_Min_Sec_Font.font + "; FontSize: " + DigitalTime_v2.Hour_Min_Sec_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DigitalTime_v2.Hour_Min_Sec_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "time_hour_min_sec_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0 && timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    optionsHourMinSec_Font_v2 + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('hour:min:sec font');";
                            //time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            string HourMinSecStr = optionNameStart + "HourMinSecStr";
                            time_update += Environment.NewLine + TabInString(7) + "let " + HourMinSecStr + " = format_hour.toString();";
                            if (DigitalTime_v2.Hour_Min_Sec_Font.padding) time_update += Environment.NewLine + TabInString(7) + HourMinSecStr + " = " + HourMinSecStr + ".padStart(2, '0');";
                            string delimeter = ":";
                            if (DigitalTime_v2.Hour_Min_Sec_Font.unit_string.Length > 0) delimeter = DigitalTime_v2.Hour_Min_Sec_Font.unit_string;
                            time_update += Environment.NewLine + TabInString(7) + HourMinSecStr + " = " + HourMinSecStr + " + '" + delimeter +
                                "' + minute.toString().padStart(2, '0') + '" + delimeter + "' + second.toString().padStart(2, '0');";
                            string unitAmStr = "Am";
                            string unitPmStr = "Pm";
                            if (DigitalTime_v2.Hour_Min_Sec_Font.unit_type == 0)
                            {
                                unitAmStr = unitAmStr.ToLower();
                                unitPmStr = unitPmStr.ToLower();
                            }
                            if (DigitalTime_v2.Hour_Min_Sec_Font.unit_type == 2)
                            {
                                unitAmStr = unitAmStr.ToUpper();
                                unitPmStr = unitPmStr.ToUpper();
                            }
                            if (DigitalTime_v2.Hour_Min_Sec_Font.unit_end)
                            {
                                time_update += Environment.NewLine + TabInString(7) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(8) + "if (hour > 11) " + HourMinSecStr + " = " + HourMinSecStr + " + ' " + unitPmStr + "';";
                                time_update += Environment.NewLine + TabInString(8) + "else " + HourMinSecStr + " = " + HourMinSecStr + " + ' " + unitAmStr + "';";
                                time_update += Environment.NewLine + TabInString(7) + "};";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(7) + "if (!timeSensor.is24Hour) {";
                                time_update += Environment.NewLine + TabInString(8) + "if (hour > 11) " + HourMinSecStr + " = '" + unitPmStr + " ' + " + HourMinSecStr;
                                time_update += Environment.NewLine + TabInString(8) + "else " + HourMinSecStr + " = '" + unitAmStr + " ' + " + HourMinSecStr;
                                time_update += Environment.NewLine + TabInString(7) + "};";
                            }
                            time_update += Environment.NewLine + TabInString(7) + variableName + ".setProperty(hmUI.prop.TEXT, " + HourMinSecStr + " );";

                            //time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                    }
                    break;
                #endregion

                #region ElementAnalogTime
                case "ElementAnalogTime":
                    ElementAnalogTime AnalogTime = (ElementAnalogTime)element;
                    if (!AnalogTime.visible) return;
                    int hourPointerPosition = 99;
                    int minutePointerPosition = 99;
                    int secondPointerPosition = 99;
                    string optionsPointerHour = "";
                    string optionsPointerMinute = "";
                    string optionsPointerSecond = "";
                    if (AnalogTime.Hour != null && AnalogTime.Hour.visible)
                    {
                        hourPointerPosition = AnalogTime.Hour.position;
                        hmUI_widget_IMG_POINTER img_pointer_hour = AnalogTime.Hour;
                        optionsPointerHour = IMG_POINTER_Hour_Options(img_pointer_hour, show_level);
                    }
                    if (AnalogTime.Minute != null && AnalogTime.Minute.visible)
                    {
                        minutePointerPosition = AnalogTime.Minute.position;
                        hmUI_widget_IMG_POINTER img_pointer_minute = AnalogTime.Minute;
                        optionsPointerMinute = IMG_POINTER_Minute_Options(img_pointer_minute, show_level);
                    }
                    if (AnalogTime.Second != null && AnalogTime.Second.visible)
                    {
                        secondPointerPosition = AnalogTime.Second.position;
                        hmUI_widget_IMG_POINTER img_pointer_second = AnalogTime.Second;
                        optionsPointerSecond = IMG_POINTER_Second_Options(img_pointer_second, show_level);
                    }

                    for (int index = 1; index <= 3; index++)
                    {
                        if (index == hourPointerPosition && optionsPointerHour.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "analog_clock_time_pointer_hour = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "analog_clock_time_pointer_hour = hmUI.createWidget(hmUI.widget.TIME_POINTER, {" +
                                    optionsPointerHour + TabInString(6) + "});" + Environment.NewLine;
                        }

                        if (index == minutePointerPosition && optionsPointerMinute.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "analog_clock_time_pointer_minute = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "analog_clock_time_pointer_minute = hmUI.createWidget(hmUI.widget.TIME_POINTER, {" +
                                    optionsPointerMinute + TabInString(6) + "});" + Environment.NewLine;
                        }
                        
                        if (index == secondPointerPosition && optionsPointerSecond.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "analog_clock_time_pointer_second = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "analog_clock_time_pointer_second = hmUI.createWidget(hmUI.widget.TIME_POINTER, {" +
                                    optionsPointerSecond + TabInString(6) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementAnalogTimePro
                case "ElementAnalogTimePro":
                    ElementAnalogTimePro AnalogTimePro = (ElementAnalogTimePro)element;
                    if (!AnalogTimePro.visible) return;
                    int hourPointerProPosition = 99;
                    int minutePointerProPosition = 99;
                    int secondPointerProPosition = 99;
                    int smoothSecondPointerProPosition = 99;
                    string optionsPointerProHour = "";
                    string optionsPointerProMinute = "";
                    string optionsPointerProSecond = "";
                    string readOptionsPointerProHour = "";
                    string readOptionsPointerProMinute = "";
                    string readOptionsPointerProSecond = "";
                    string readOptionsPointerProSmoothSecond = "";
                    string coverPointerProHour = "";
                    string coverPointerProMinute = "";
                    string coverPointerProSecond = "";

                    if (AnalogTimePro.Hour != null && AnalogTimePro.Hour.visible)
                    {
                        hourPointerProPosition = AnalogTimePro.Hour.position;
                        hmUI_widget_IMG_POINTER img_pointer_hour = AnalogTimePro.Hour;
                        optionsPointerProHour = TIME_PRO_POINTER_Options(img_pointer_hour, show_level);
                        readOptionsPointerProHour = TIME_PRO_POINTER_OptionsRead(img_pointer_hour, optionNameStart, "hour", show_level, AnalogTimePro.Format_24hour);

                        coverPointerProHour = IMG_Pointer_Cover_Options(img_pointer_hour, show_level);
                    }
                    if (AnalogTimePro.Minute != null && AnalogTimePro.Minute.visible)
                    {
                        minutePointerProPosition = AnalogTimePro.Minute.position;
                        hmUI_widget_IMG_POINTER img_pointer_minute = AnalogTimePro.Minute;
                        optionsPointerProMinute = TIME_PRO_POINTER_Options(img_pointer_minute, show_level);
                        readOptionsPointerProMinute = TIME_PRO_POINTER_OptionsRead(img_pointer_minute, optionNameStart, "minute", show_level);

                        coverPointerProMinute = IMG_Pointer_Cover_Options(img_pointer_minute, show_level);
                    }
                    if (AnalogTimePro.Second != null && AnalogTimePro.Second.visible)
                    {
                        secondPointerProPosition = AnalogTimePro.Second.position;
                        hmUI_widget_IMG_POINTER img_pointer_second = AnalogTimePro.Second;
                        optionsPointerProSecond = TIME_PRO_POINTER_Options(img_pointer_second, show_level);
                        readOptionsPointerProSecond = TIME_PRO_POINTER_OptionsRead(img_pointer_second, optionNameStart, "second", show_level);

                        coverPointerProSecond = IMG_Pointer_Cover_Options(img_pointer_second, show_level);
                    }
                    if (AnalogTimePro.SmoothSecond != null && AnalogTimePro.SmoothSecond.enable)
                    {
                        smoothSecondPointerProPosition = AnalogTimePro.SmoothSecond.position;
                        readOptionsPointerProSmoothSecond = TIME_PRO_SMOOTH_POINTER_OptionsRead(AnalogTimePro.SmoothSecond, optionNameStart, show_level);
                    }

                    for (int index = 1; index <= 5; index++)
                    {
                        // часы
                        if (index == hourPointerProPosition && optionsPointerProHour.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "analog_clock_pro_hour_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";
                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {";
                                items += Environment.NewLine + TabInString(7) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(7) + "time_update(updateHour, true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += readOptionsPointerProHour + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "analog_clock_pro_hour_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    optionsPointerProHour + TabInString(6) + "});" + Environment.NewLine;

                            if (coverPointerProHour.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart + 
                                    "analog_clock_pro_hour_cover_pointer_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "analog_clock_pro_hour_cover_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    coverPointerProHour + TabInString(6) + "});" + Environment.NewLine;
                            }

                            time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";
                            time_update += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "hour = hour;";
                            string tempAngleName = optionNameStart + "fullAngle_hour";
                            time_update += Environment.NewLine + TabInString(8) + "let " + tempAngleName +
                                " = " + (AnalogTimePro.Hour.end_angle - AnalogTimePro.Hour.start_angle).ToString() + ";" ;
                            if (!AnalogTimePro.Format_24hour) 
                            {
                                time_update += Environment.NewLine + TabInString(8) + 
                                    "if (" + optionNameStart + "hour > 11) " + optionNameStart + "hour -= 12;";
                                time_update += Environment.NewLine + TabInString(8) +
                                    "let " + optionNameStart + "angle_hour = " + AnalogTimePro.Hour.start_angle.ToString() + " + " +
                                    tempAngleName + "*" + optionNameStart + "hour/12 + (" + tempAngleName + "/12)*minute/60;";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(8) +
                                    "let " + optionNameStart + "angle_hour = " + AnalogTimePro.Hour.start_angle.ToString() + " + " +
                                    tempAngleName + "*" + optionNameStart + "hour/24 + (" + tempAngleName + "/24)*minute/60;";
                            }
                            time_update += Environment.NewLine + TabInString(8) +
                                    "if (" + optionNameStart + "analog_clock_pro_hour_pointer_img) " + 
                                    optionNameStart + "analog_clock_pro_hour_pointer_img.setProperty(hmUI.prop.ANGLE, " + 
                                    optionNameStart + "angle_hour);";
                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // минуты
                        if (index == minutePointerProPosition && optionsPointerProMinute.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "analog_clock_pro_minute_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";

                            string tempAngleName = optionNameStart + "fullAngle_minute";
                            if (AnalogTimePro.SmoothSecond == null || !AnalogTimePro.SmoothSecond.enable) 
                                time_update += Environment.NewLine + TabInString(7) + "if (updateMinute) {";  // перескакивает между минутами
                            time_update += Environment.NewLine + TabInString(8) + "let " + tempAngleName +
                                " = " + (AnalogTimePro.Minute.end_angle - AnalogTimePro.Minute.start_angle).ToString() + ";";

                            if (AnalogTimePro.SmoothSecond == null || !AnalogTimePro.SmoothSecond.enable)  // перескакивает между минутами
                            {
                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                                if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {") < 0)
                                {
                                    items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.MINUTEEND, function() {";
                                    items += Environment.NewLine + TabInString(7) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(7) + "time_update(updateHour, true);";
                                    items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                                }

                                time_update += Environment.NewLine + TabInString(8) +
                                    "let " + optionNameStart + "angle_minute = " + AnalogTimePro.Minute.start_angle.ToString() + " + " +
                                    tempAngleName + "*minute/60;";
                            }
                            else  // минутная стрелка движеться плавно
                            {
                                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                string timerName = optionNameStart + "timerUpdateSec";
                                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animDelay = timeSensor.utc % 1000;" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animRepeat = 1000;" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(animDelay, animRepeat, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(false, true);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;
                                }
                                else  // если такой таймер уже есть
                                {
                                    int strIndex = resume_call.IndexOf(timerName + " = timer.createTimer");
                                    strIndex = resume_call.IndexOf("time_update(false, false);", strIndex);
                                    if (strIndex > 0)
                                    {
                                        resume_call.Remove(strIndex, "time_update(false, false);".Length);
                                        resume_call.Insert(strIndex, "time_update(false, true);"); 
                                    }
                                }

                                time_update += Environment.NewLine + TabInString(8) +
                                    "let " + optionNameStart + "angle_minute = " + AnalogTimePro.Minute.start_angle.ToString() + " + " +
                                    tempAngleName + "*(minute + second/60)/60;";


                            }

                            items += readOptionsPointerProMinute + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "analog_clock_pro_minute_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    optionsPointerProMinute + TabInString(6) + "});" + Environment.NewLine;

                            if (coverPointerProMinute.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "analog_clock_pro_minute_cover_pointer_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "analog_clock_pro_minute_cover_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    coverPointerProMinute + TabInString(6) + "});" + Environment.NewLine;
                            }

                            time_update += Environment.NewLine + TabInString(8) +
                                    "if (" + optionNameStart + "analog_clock_pro_minute_pointer_img) " +
                                    optionNameStart + "analog_clock_pro_minute_pointer_img.setProperty(hmUI.prop.ANGLE, " +
                                    optionNameStart + "angle_minute);";
                            if (AnalogTimePro.SmoothSecond == null || !AnalogTimePro.SmoothSecond.enable) 
                                time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;  // перескакивает между минутами

                        }

                        // секунды
                        if (index == secondPointerProPosition && optionsPointerProSecond.Length > 5)
                        {
                            string tempAngleName = optionNameStart + "fullAngle_second";
                            //time_update += Environment.NewLine + TabInString(7) + "let " + tempAngleName +
                            //    " = " + (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + ";";

                            if (AnalogTimePro.SmoothSecond == null || !AnalogTimePro.SmoothSecond.enable)  // обычный ход стрелки
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "analog_clock_pro_second_pointer_img = ''" + Environment.NewLine;

                                if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";
                                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                items += readOptionsPointerProSecond + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "analog_clock_pro_second_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        optionsPointerProSecond + TabInString(6) + "});" + Environment.NewLine;

                                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                string timerName = optionNameStart + "timerUpdateSec";
                                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    //resume_call += TabInString(10) + "let animDelay = 0;" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animDelay = timeSensor.utc % 1000;" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animRepeat = 1000;" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(animDelay, animRepeat, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(false, false);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;

                                    time_update += Environment.NewLine + TabInString(7) + "let " + tempAngleName +
                                        " = " + (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + ";";
                                    time_update += Environment.NewLine + TabInString(7) +
                                        "let " + optionNameStart + "angle_second = " + AnalogTimePro.Second.start_angle.ToString() + " + " +
                                        tempAngleName + "*second/60;";

                                    time_update += Environment.NewLine + TabInString(7) +
                                            "if (" + optionNameStart + "analog_clock_pro_second_pointer_img) " +
                                            optionNameStart + "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANGLE, " +
                                            optionNameStart + "angle_second);" + Environment.NewLine; 
                                }
                            }
                            else  // секундная стрелка движеться плавно
                            {
                                if (AnalogTimePro.SmoothSecond.type == 1)
                                {
                                    if(optionNameStart == "normal_")
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "analog_clock_pro_second_pointer_img = ''" + Environment.NewLine;

                                        if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                            items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                                        if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                            items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";
                                        if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                            items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                        items += readOptionsPointerProSecond + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "analog_clock_pro_second_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                                optionsPointerProSecond + TabInString(6) + "});" + Environment.NewLine;

                                        items += Environment.NewLine + TabInString(6) + "function startSecAnim(sec, animDuration) {";
                                        items += Environment.NewLine + TabInString(7) + "const secAnim = {";
                                        items += Environment.NewLine + TabInString(8) + "anim_rate: 'linear',";
                                        items += Environment.NewLine + TabInString(8) + "anim_duration: animDuration,";
                                        items += Environment.NewLine + TabInString(8) + "anim_from: sec,";
                                        items += Environment.NewLine + TabInString(8) + "anim_to: sec + (" + 
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + "*(animDuration*6/1000))/360,";
                                        items += Environment.NewLine + TabInString(8) + "repeat_count: 1,";
                                        items += Environment.NewLine + TabInString(8) + "anim_fps: " + AnalogTimePro.SmoothSecond.fps.ToString() + ",";
                                        items += Environment.NewLine + TabInString(8) + "anim_key: 'angle',";
                                        items += Environment.NewLine + TabInString(8) + "anim_status: 1,";
                                        items += Environment.NewLine + TabInString(7) + "}";
                                        items += Environment.NewLine + TabInString(7) + optionNameStart + 
                                            "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANIM, secAnim);";
                                        items += Environment.NewLine + TabInString(6) + "}";

                                        string timerName = optionNameStart + "timerUpdateSecSmooth";
                                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                        variables += TabInString(4) + "let lastTime = 0;" + Environment.NewLine;

                                        resume_call += TabInString(8) + "let secAngle = " + AnalogTimePro.Second.start_angle.ToString() + " + (" + 
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + 
                                            "*6)*(timeSensor.second + ((timeSensor.utc % 1000) / 1000))/360;" + Environment.NewLine;
                                        resume_call += TabInString(8) + optionNameStart +
                                            "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANGLE, secAngle);" + Environment.NewLine;

                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;
                                        resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let duration = 0;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let animDuration = 5000;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "if (timeSensor.second > 55) animDuration = 1000*(60.1 - (timeSensor.second - (timeSensor.utc % 1000) / 1000));" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let diffTime = timeSensor.utc - lastTime;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "if (diffTime < animDuration) duration = animDuration - diffTime;" + Environment.NewLine;
                                        resume_call += TabInString(10) + timerName + " = timer.createTimer(duration, animDuration, (function (option) {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "lastTime = timeSensor.utc;" + Environment.NewLine;
                                        resume_call += TabInString(11) + "secAngle = " + AnalogTimePro.Second.start_angle.ToString() + " + (" +
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() +
                                            "*6)*(timeSensor.second + ((timeSensor.utc % 1000) / 1000))/360;" + Environment.NewLine;
                                        resume_call += TabInString(11) + "startSecAnim(secAngle, animDuration);" + Environment.NewLine;
                                        resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                        resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                        resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                        pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                        pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                        pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                        pause_call += TabInString(8) + "}" + Environment.NewLine;
                                    }
                                }
                                else if (AnalogTimePro.SmoothSecond.type == 2)
                                {
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "analog_clock_pro_second_pointer_img = ''" + Environment.NewLine;

                                    if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                        items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";
                                    if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                        items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                    items += readOptionsPointerProSecond + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "analog_clock_pro_second_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            optionsPointerProSecond + TabInString(6) + "});" + Environment.NewLine;

                                    if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                        items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                                    if (optionNameStart == "normal_")
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                    }
                                    string timerName = optionNameStart + "timerUpdateSecSmooth";
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animDelay = 0;" + Environment.NewLine;
                                    //resume_call += TabInString(10) + "let animDelay = timeSensor.utc % 1000;" + Environment.NewLine;
                                    resume_call += TabInString(10) + "let animRepeat = 1000/" + AnalogTimePro.SmoothSecond.fps.ToString() + ";" + Environment.NewLine;
                                    resume_call += TabInString(10) + timerName + " = timer.createTimer(animDelay, animRepeat, (function (option) {" + Environment.NewLine;
                                    resume_call += TabInString(11) + "time_update(false, false);" + Environment.NewLine;
                                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                    pause_call += TabInString(8) + "}" + Environment.NewLine;

                                    time_update += Environment.NewLine + TabInString(7) + "let " + tempAngleName +
                                        " = " + (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + ";";
                                    time_update += Environment.NewLine + TabInString(7) +
                                        "let " + optionNameStart + "angle_second = " + AnalogTimePro.Second.start_angle.ToString() + " + " +
                                        tempAngleName + "*(second + (timeSensor.utc % 1000)/1000)/60;";

                                    time_update += Environment.NewLine + TabInString(7) +
                                            "if (" + optionNameStart + "analog_clock_pro_second_pointer_img) " +
                                            optionNameStart + "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANGLE, " +
                                            optionNameStart + "angle_second);" + Environment.NewLine;
                                }
                                else if (AnalogTimePro.SmoothSecond.type == 3)
                                {
                                    coverPointerProSecond = "";
                                    if (optionNameStart == "normal_" &&  AnalogTimePro.Second.start_angle == 0 && AnalogTimePro.Second.end_angle == 360)
                                    {
                                        optionsPointerProSecond = IMG_POINTER_Smooth_Second_Options(AnalogTimePro.Second, AnalogTimePro.SmoothSecond.fps, show_level);
                                        if (optionsPointerProSecond.Length > 5)
                                        {
                                            items += readOptionsPointerProSecond + Environment.NewLine;
                                            variables += TabInString(4) + "let " + optionNameStart +
                                                "analog_clock_time_pointer_smooth_second = ''" + Environment.NewLine;
                                            items += Environment.NewLine + TabInString(6) +
                                                optionNameStart + "analog_clock_time_pointer_smooth_second = hmUI.createWidget(hmUI.widget.TIME_POINTER, {" +
                                                    optionsPointerProSecond + TabInString(6) + "});" + Environment.NewLine;
                                        }

                                    }
                                }
                                else if (AnalogTimePro.SmoothSecond.type == 4)
                                {
                                    if (optionNameStart == "normal_")
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "analog_clock_pro_second_pointer_img = ''" + Environment.NewLine;

                                        if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                            items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                                        if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                            items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";
                                        if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                            items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                                        items += readOptionsPointerProSecond + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "analog_clock_pro_second_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                                optionsPointerProSecond + TabInString(6) + "});" + Environment.NewLine;

                                        items += Environment.NewLine + TabInString(6) + "function startSecAnim(sec, animDuration) {";
                                        items += Environment.NewLine + TabInString(7) + "const secAnim = {";
                                        items += Environment.NewLine + TabInString(8) + "anim_steps: [{";
                                        items += Environment.NewLine + TabInString(9) + "anim_rate: 'linear',";
                                        items += Environment.NewLine + TabInString(9) + "anim_duration: animDuration,";
                                        items += Environment.NewLine + TabInString(9) + "anim_from: sec,";
                                        items += Environment.NewLine + TabInString(9) + "anim_to: sec + (" +
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() + "*(animDuration*6/1000))/360,";
                                        items += Environment.NewLine + TabInString(9) + "anim_key: 'angle',";
                                        items += Environment.NewLine + TabInString(8) + "}],";
                                        items += Environment.NewLine + TabInString(8) + "anim_fps: " + AnalogTimePro.SmoothSecond.fps.ToString() + ",";
                                        //items += Environment.NewLine + TabInString(8) + "anim_status: 1,";
                                        items += Environment.NewLine + TabInString(8) + "anim_auto_start: 1,";
                                        //items += Environment.NewLine + TabInString(8) + "repeat_count: 1,";
                                        items += Environment.NewLine + TabInString(8) + "anim_repeat: 0,";
                                        items += Environment.NewLine + TabInString(8) + "anim_auto_destroy: 1,";
                                        items += Environment.NewLine + TabInString(7) + "}";
                                        items += Environment.NewLine + TabInString(7) + optionNameStart +
                                            "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANIM, secAnim);";
                                        items += Environment.NewLine + TabInString(6) + "}";

                                        string timerName = optionNameStart + "timerUpdateSecSmooth";
                                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                        variables += TabInString(4) + "let lastTime = 0;" + Environment.NewLine;

                                        resume_call += TabInString(8) + "let secAngle = " + AnalogTimePro.Second.start_angle.ToString() + " + (" +
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() +
                                            "*6)*(timeSensor.second + ((timeSensor.utc % 1000) / 1000))/360;" + Environment.NewLine;
                                        resume_call += TabInString(8) + optionNameStart +
                                            "analog_clock_pro_second_pointer_img.setProperty(hmUI.prop.ANGLE, secAngle);" + Environment.NewLine;

                                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;
                                        resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let duration = 0;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let animDuration = 5000;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "if (timeSensor.second > 55) animDuration = 1000*(60.1 - (timeSensor.second - (timeSensor.utc % 1000) / 1000));" + Environment.NewLine;
                                        resume_call += TabInString(10) + "let diffTime = timeSensor.utc - lastTime;" + Environment.NewLine;
                                        resume_call += TabInString(10) + "if (diffTime < animDuration) duration = animDuration - diffTime;" + Environment.NewLine;
                                        resume_call += TabInString(10) + timerName + " = timer.createTimer(duration, animDuration, (function (option) {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "lastTime = timeSensor.utc;" + Environment.NewLine;
                                        resume_call += TabInString(11) + "secAngle = " + AnalogTimePro.Second.start_angle.ToString() + " + (" +
                                            (AnalogTimePro.Second.end_angle - AnalogTimePro.Second.start_angle).ToString() +
                                            "*6)*(timeSensor.second + ((timeSensor.utc % 1000) / 1000))/360;" + Environment.NewLine;
                                        resume_call += TabInString(11) + "startSecAnim(secAngle, animDuration);" + Environment.NewLine;
                                        resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                        resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                        resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                        pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                        pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                        pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                        pause_call += TabInString(8) + "}" + Environment.NewLine;
                                    }
                                }
                            }

                            if (coverPointerProSecond.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "analog_clock_pro_second_cover_pointer_img = ''" + Environment.NewLine;

                                //items += readOptionsPointerProSecond + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "analog_clock_pro_second_cover_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    coverPointerProSecond + TabInString(6) + "});" + Environment.NewLine;
                            }

                        }


                        // плавные секунды
                        if (index == smoothSecondPointerProPosition && readOptionsPointerProSmoothSecond.Length > 5)
                        {
                            items += readOptionsPointerProSmoothSecond + Environment.NewLine;
                        }
                    }


                    break;
                #endregion

                #region ElementDateDay
                case "ElementDateDay":
                    ElementDateDay DateDay = (ElementDateDay)element;
                    if (!DateDay.visible) return;
                    int pointerPositionDay = 99;
                    int numberPositionDay = 99;
                    int numberPositionDayMonth = 99;
                    int numberPositionDayMonthYear = 99;
                    string optionsPointerDay = "";
                    string optionsNumberDay = "";
                    string dayMonthFontOptions = "";
                    string dayMonthYearFontOptions = "";
                    string optionsNumberDay_separator = "";
                    if (DateDay.Pointer != null && DateDay.Pointer.visible)
                    {
                        pointerPositionDay = DateDay.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateDay.Pointer;
                        optionsPointerDay = DATE_POINTER_Options(img_pointer, "DAY", show_level);
                    }
                    if (DateDay.Number != null && DateDay.Number.visible)
                    {
                        numberPositionDay = DateDay.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = DateDay.Number;
                        optionsNumberDay = IMG_NUMBER_Day_Options(img_number, show_level);

                        optionsNumberDay_separator = IMG_Separator_Options(img_number, show_level);
                    }

                    if (DateDay.Number_Font != null && DateDay.Number_Font.visible)
                    {
                        numberFontPosition = DateDay.Number_Font.position;
                        hmUI_widget_TEXT text = DateDay.Number_Font;
                        numberFontOptions = TEXT_Options(text, show_level);
                    }

                    if (DateDay.Day_Month_Font != null && DateDay.Day_Month_Font.visible)
                    {
                        numberPositionDayMonth = DateDay.Day_Month_Font.position;
                        hmUI_widget_TEXT text = DateDay.Day_Month_Font;
                        dayMonthFontOptions = TEXT_Options(text, show_level);
                    }
                    if (DateDay.Day_Month_Year_Font != null && DateDay.Day_Month_Year_Font.visible)
                    {
                        numberPositionDayMonthYear = DateDay.Day_Month_Year_Font.position;
                        hmUI_widget_TEXT text = DateDay.Day_Month_Year_Font;
                        dayMonthYearFontOptions = TEXT_Options(text, show_level);
                    }

                    if (DateDay.Text_rotation != null && DateDay.Text_rotation.visible)
                    {
                        textRotatePosition = DateDay.Text_rotation.position;
                        text_rotate = DateDay.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "DAY", show_level, false);
                    }
                    if (DateDay.Text_circle != null && DateDay.Text_circle.visible)
                    {
                        textCirclePosition = DateDay.Text_circle.position;
                        text_circle = DateDay.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "DAY", show_level, false);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Pointer
                        if (index == pointerPositionDay && optionsPointerDay.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "day_pointer_progress_date_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "day_pointer_progress_date_pointer = hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                                    optionsPointerDay + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPositionDay && optionsNumberDay.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "date_img_date_day = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "date_img_date_day = hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsNumberDay + TabInString(6) + "});" + Environment.NewLine;

                            if (optionsNumberDay_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "date_day_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "date_day_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        optionsNumberDay_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DateDay.Number_Font.font != null && DateDay.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateDay.Number_Font.font + "; FontSize: " + DateDay.Number_Font.text_size.ToString();
                                bool cachFull = false;
                                if (DateDay.Number_Font.unit_type > 0)
                                {
                                    cacheName = "// FontName: " + DateDay.Number_Font.font + "; FontSize: " + DateDay.Number_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateDay.Number_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "day_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {";
                                items += Environment.NewLine + TabInString(7) + "time_update(true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('day font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string dayStr = optionNameStart + "dayStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + dayStr + " = timeSensor.day.toString();";
                            if(DateDay.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + dayStr + " = " + dayStr + ".padStart(2, '0');";
                            if (DateDay.Number_Font.unit_type > 0)
                            {
                                string unitStr = "day";
                                if (DateDay.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + dayStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + dayStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                       
                        // Day_Month_Font
                        if (index == numberPositionDayMonth && dayMonthFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DateDay.Day_Month_Font.font != null && DateDay.Day_Month_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateDay.Day_Month_Font.font + "; FontSize: " + DateDay.Day_Month_Font.text_size.ToString();
                                //if (DateDay.Day_Month_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DateDay.Day_Month_Font.font + "; FontSize: " + DateDay.Day_Month_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateDay.Day_Month_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "day_month_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    dayMonthFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('day/month font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string DayStr = optionNameStart + "DayStr";
                            string MonthStr = optionNameStart + "MonthStr";
                            string DayMonthStr = optionNameStart + "DayMonthStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + DayStr + " = timeSensor.day.toString();";
                            time_update += Environment.NewLine + TabInString(8) + "let " + MonthStr + " = timeSensor.month.toString();";
                            if (DateDay.Day_Month_Font.padding) 
                            {
                                time_update += Environment.NewLine + TabInString(8) + DayStr + " = " + DayStr + ".padStart(2, '0');";
                                time_update += Environment.NewLine + TabInString(8) + MonthStr + " = " + MonthStr + ".padStart(2, '0');";
                            }
                            time_update += Environment.NewLine + TabInString(8) + "let " + DayMonthStr + " = '--';";
                            string delimeter = "/";
                            if (DateDay.Day_Month_Font.unit_string.Length > 0) delimeter = DateDay.Day_Month_Font.unit_string;

                            time_update += Environment.NewLine + TabInString(8) + "const dateFormat = hmSetting.getDateFormat();";
                            time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 0 || dateFormat == 2) {";
                            time_update += Environment.NewLine + TabInString(9) + DayMonthStr + " = " + MonthStr + " + '" + delimeter + "' + " + DayStr + ";";
                            time_update += Environment.NewLine + TabInString(8) + "}";

                            time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 1) {";
                            time_update += Environment.NewLine + TabInString(9) + DayMonthStr + " = " + DayStr + " + '" + delimeter + "' + " + MonthStr + ";";
                            time_update += Environment.NewLine + TabInString(8) + "}";

                            //time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 2) {";
                            //time_update += Environment.NewLine + TabInString(9) + DayMonthStr + " = " + MonthStr + " + '" + delimeter + "' + " + DayStr + " + ";";
                            //time_update += Environment.NewLine + TabInString(8) + "}";

                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + DayMonthStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                        // Day_Month_Year_Font
                        if (index == numberPositionDayMonthYear && dayMonthYearFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DateDay.Day_Month_Year_Font.font != null && DateDay.Day_Month_Year_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateDay.Day_Month_Year_Font.font + "; FontSize: " + DateDay.Day_Month_Year_Font.text_size.ToString();
                                //if (DateDay.Day_Month_Year_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + DateDay.Day_Month_Year_Font.font + "; FontSize: " + DateDay.Day_Month_Year_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateDay.Day_Month_Year_Font, false);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "day_month_year_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                            #region add listenet update time
                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            string timerName = optionNameStart + "timerTimeUpdate";
                            if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                            {

                                if (optionNameStart == "normal_")
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                                }
                                else
                                {
                                    resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                }
                                if (variables.IndexOf("let " + timerName + " =") < 0)
                                {
                                    variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine;
                                }
                                resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                                resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateHour = timeSensor.minute == 0;" + Environment.NewLine;
                                resume_call += TabInString(11) + "let updateMinute = timeSensor.second < 2;" + Environment.NewLine;
                                resume_call += TabInString(11) + "time_update(updateHour, updateMinute);" + Environment.NewLine;
                                resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                                resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                                resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                                pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                                pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                                pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                                pause_call += TabInString(8) + "}" + Environment.NewLine;
                            }
                            #endregion

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    dayMonthYearFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('day/month/year font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string DayStr = optionNameStart + "DayStr";
                            string MonthStr = optionNameStart + "MonthStr";
                            string YearStr = optionNameStart + "YearStr";
                            string DayMonthYearStr = optionNameStart + "DayMonthYearStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + DayStr + " = timeSensor.day.toString();";
                            time_update += Environment.NewLine + TabInString(8) + "let " + MonthStr + " = timeSensor.month.toString();";
                            if (DateDay.Day_Month_Year_Font.unit_type == 1 || (DateDay.Day_Month_Year_Font.unit_type == 2 && DateDay.Day_Month_Year_Font.padding))
                            {
                                time_update += Environment.NewLine + TabInString(8) + "let " + YearStr + " = timeSensor.year.toString();";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(8) + "let " + YearStr + " = (timeSensor.year % 100).toString();";
                            }
                            if (DateDay.Day_Month_Year_Font.padding)
                            {
                                time_update += Environment.NewLine + TabInString(8) + DayStr + " = " + DayStr + ".padStart(2, '0');";
                                time_update += Environment.NewLine + TabInString(8) + MonthStr + " = " + MonthStr + ".padStart(2, '0');";
                            }
                            time_update += Environment.NewLine + TabInString(8) + "let " + DayMonthYearStr + " = '--';";
                            string delimeter = "/";
                            if (DateDay.Day_Month_Year_Font.unit_string.Length > 0) delimeter = DateDay.Day_Month_Year_Font.unit_string;

                            time_update += Environment.NewLine + TabInString(8) + "const dateFormat = hmSetting.getDateFormat();";
                            time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 0) {";
                            time_update += Environment.NewLine + TabInString(9) + DayMonthYearStr + " = " + YearStr + " + '" + delimeter +
                                "' + " + MonthStr + " + '" + delimeter + "' + " + DayStr + ";";
                            time_update += Environment.NewLine + TabInString(8) + "}";

                            time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 1) {";
                            time_update += Environment.NewLine + TabInString(9) + DayMonthYearStr + " = " + DayStr + " + '" + delimeter +
                                "' + " + MonthStr + " + '" + delimeter + "' + " + YearStr + ";";
                            time_update += Environment.NewLine + TabInString(8) + "}";

                            time_update += Environment.NewLine + TabInString(8) + "if (dateFormat == 2) {";
                            time_update += Environment.NewLine + TabInString(9) + DayMonthYearStr + " = " + MonthStr + " + '" + delimeter +
                                "' + " + DayStr + " + '" + delimeter + "' + " + YearStr + ";";
                            time_update += Environment.NewLine + TabInString(8) + "}";

                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + DayMonthYearStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(DateDay.Text_rotation, optionNameStart, "day_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "timeSensor", "TIME", "valueDay", "day", 2, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(DateDay.Text_circle, optionNameStart, "day_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "timeSensor", "TIME", "valueDay", "day", 2, ref resume_call, ref pause_call);
                        }
                    }
                    break;
                #endregion

                #region ElementDateMonth
                case "ElementDateMonth":
                    ElementDateMonth DateMonth = (ElementDateMonth)element;
                    if (!DateMonth.visible) return;
                    int pointerPositionMonth = 99;
                    int numberPositionMonth = 99;
                    int imagesPositionMonth = 99;
                    int monthFontPosition = 99;
                    string optionsPointerMonth = "";
                    string optionsNumberMonth = "";
                    string optionsNumberMonth_separator = "";
                    string optionsImagesMonth = "";
                    string monthFontOptions = "";
                    string[] Month_Array = null;

                    if (DateMonth.Pointer != null && DateMonth.Pointer.visible)
                    {
                        pointerPositionMonth = DateMonth.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateMonth.Pointer;
                        optionsPointerMonth = DATE_POINTER_Options(img_pointer, "MONTH", show_level);
                    }
                    if (DateMonth.Number != null && DateMonth.Number.visible)
                    {
                        numberPositionMonth = DateMonth.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = DateMonth.Number;
                        optionsNumberMonth = IMG_NUMBER_Month_Options(img_number, show_level);

                        optionsNumberMonth_separator = IMG_Separator_Options(img_number, show_level);
                    }

                    if (DateMonth.Number_Font != null && DateMonth.Number_Font.visible)
                    {
                        numberFontPosition = DateMonth.Number_Font.position;
                        hmUI_widget_TEXT text = DateMonth.Number_Font;
                        numberFontOptions = TEXT_Options(text, show_level);
                    }

                    if (DateMonth.Month_Font != null && DateMonth.Month_Font.visible)
                    {
                        monthFontPosition = DateMonth.Month_Font.position;
                        hmUI_widget_TEXT text = DateMonth.Month_Font;
                        monthFontOptions = TEXT_Options(text, show_level);
                        Month_Array = DateMonth.Month_Font.unit_string.Split(',');
                    }

                    if (DateMonth.Text_rotation != null && DateMonth.Text_rotation.visible)
                    {
                        textRotatePosition = DateMonth.Text_rotation.position;
                        text_rotate = DateMonth.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "MONTH", show_level, false);
                    }
                    if (DateMonth.Text_circle != null && DateMonth.Text_circle.visible)
                    {
                        textCirclePosition = DateMonth.Text_circle.position;
                        text_circle = DateMonth.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "MONTH", show_level, false);
                    }

                    if (DateMonth.Images != null && DateMonth.Images.visible)
                    {
                        imagesPositionMonth = DateMonth.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = DateMonth.Images;
                        optionsImagesMonth = IMG_IMAGES_Month_Options(img_images, show_level);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Pointer
                        if (index == pointerPositionMonth && optionsPointerMonth.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "month_pointer_progress_date_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "month_pointer_progress_date_pointer = hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                                    optionsPointerMonth + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPositionMonth && optionsNumberMonth.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "date_img_date_month = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "date_img_date_month = hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsNumberMonth + TabInString(6) + "});" + Environment.NewLine;

                            if (optionsNumberMonth_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "date_month_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "date_month_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        optionsNumberMonth_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DateMonth.Number_Font.font != null && DateMonth.Number_Font.font.Length > 3)
                            {
                                bool cachFull = false;
                                string cacheName = "// FontName: " + DateMonth.Number_Font.font + "; FontSize: " + DateMonth.Number_Font.text_size.ToString();
                                if (DateMonth.Number_Font.unit_type > 0)
                                { 
                                    cacheName = "// FontName: " + DateMonth.Number_Font.font + "; FontSize: " + DateMonth.Number_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateMonth.Number_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "month_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {";
                                items += Environment.NewLine + TabInString(7) + "time_update(true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('month font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string monthStr = optionNameStart + "monthStr";
                            time_update += Environment.NewLine + TabInString(8) + "let " + monthStr + " = timeSensor.month.toString();";
                            if (DateMonth.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + monthStr + " = " + monthStr + ".padStart(2, '0');";
                            if (DateMonth.Number_Font.unit_type > 0)
                            {
                                string unitStr = "month";
                                if (DateMonth.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + monthStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + monthStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Month_Font
                        if (index == monthFontPosition && monthFontOptions.Length > 5 && Month_Array.Length == 12)
                        {
                            if (SelectedModel.versionOS >= 2 && DateMonth.Month_Font.font != null && DateMonth.Month_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateMonth.Month_Font.font + "; FontSize: " + DateMonth.Month_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateMonth.Month_Font, true);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "month_name_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;
                            variables += TabInString(4) + "let " + optionNameStart + "Month_Array = [";
                            foreach (string str in Month_Array)
                            {
                                variables += "'" + str.Trim() + "', ";
                            }
                            variables += "];" + Environment.NewLine;


                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {";
                                items += Environment.NewLine + TabInString(7) + "time_update(true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    monthFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('month font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string Month_Str = optionNameStart + "Month_Str";
                            time_update += Environment.NewLine + TabInString(8) + "let " + Month_Str + " = " + optionNameStart + "Month_Array[timeSensor.month-1];";
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + Month_Str + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(DateMonth.Text_rotation, optionNameStart, "month_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "timeSensor", "TIME", "valueMonth", "month", 2, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(DateMonth.Text_circle, optionNameStart, "month_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "timeSensor", "TIME", "valueMonth", "month", 2, ref resume_call, ref pause_call);
                        }

                        // Images
                        if (index == imagesPositionMonth && optionsImagesMonth.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "date_img_date_month_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "date_img_date_month_img = hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsImagesMonth + TabInString(6) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementDateYear
                case "ElementDateYear":
                    ElementDateYear DateYear = (ElementDateYear)element;
                    if (!DateYear.visible) return;
                    string optionsNumberYear = "";
                    string optionsNumberYear_separator = "";
                    if (DateYear.Number != null && DateYear.Number.visible)
                    {
                        numberPosition = DateYear.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = DateYear.Number;
                        optionsNumberYear = IMG_NUMBER_Year_Options(img_number, show_level);

                        optionsNumberYear_separator = IMG_Separator_Options(img_number, show_level);
                    }

                    if (DateYear.Number_Font != null && DateYear.Number_Font.visible)
                    {
                        numberFontPosition = DateYear.Number_Font.position;
                        hmUI_widget_TEXT text = DateYear.Number_Font;
                        numberFontOptions = TEXT_Options(text, show_level);
                    }

                    if (DateYear.Text_rotation != null && DateYear.Text_rotation.visible)
                    {
                        textRotatePosition = DateYear.Text_rotation.position;
                        text_rotate = DateYear.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "YEAR", show_level, false);
                    }
                    if (DateYear.Text_circle != null && DateYear.Text_circle.visible)
                    {
                        textCirclePosition = DateYear.Text_circle.position;
                        text_circle = DateYear.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "YEAR", show_level, false);
                    }

                    if (DateYear.Icon != null && DateYear.Icon.visible)
                    {
                        iconPosition = DateYear.Icon.position;
                        hmUI_widget_IMG img_icon = DateYear.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Number
                        if (index == numberPosition && optionsNumberYear.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "date_img_date_year = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "date_img_date_year = hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsNumberYear + TabInString(6) + "});" + Environment.NewLine;

                            if (optionsNumberYear_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "date_year_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "date_year_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        optionsNumberYear_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && DateYear.Number_Font.font != null && DateYear.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateYear.Number_Font.font + "; FontSize: " + DateYear.Number_Font.text_size.ToString();
                                bool cachFull = false;
                                if (DateYear.Number_Font.unit_type > 0)
                                {
                                    cacheName = "// FontName: " + DateYear.Number_Font.font + "; FontSize: " + DateYear.Number_Font.text_size.ToString() + "; Cache: full";
                                    cachFull = true;
                                }
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateYear.Number_Font, cachFull);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "year_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;

                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {";
                                items += Environment.NewLine + TabInString(7) + "time_update(true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('year font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            //string yearStr = optionNameStart + "yearStr";
                            //time_update += Environment.NewLine + TabInString(8) + "let " + yearStr + " = timeSensor.year.toString();";
                            //if (DateYear.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + yearStr + " = " + yearStr + ".padStart(2, '0');";
                            string yearStr = optionNameStart + "yearStr";
                            if (DateYear.Number_Font.padding)
                            {
                                time_update += Environment.NewLine + TabInString(8) + "let " + yearStr + " = timeSensor.year.toString();";
                            }
                            else
                            {
                                time_update += Environment.NewLine + TabInString(8) + "let " + yearStr + " = (timeSensor.year % 100).toString();";
                                if (DateYear.Number_Font.padding) time_update += Environment.NewLine + TabInString(8) + yearStr + " = " + yearStr + ".padStart(2, '0');";
                            }

                            if (DateYear.Number_Font.unit_type > 0)
                            {
                                string unitStr = "year";
                                if (DateYear.Number_Font.unit_type == 2) unitStr = unitStr.ToUpper();
                                time_update += Environment.NewLine + TabInString(8) + yearStr + " += '" + unitStr + "';";

                            }
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + yearStr + " );";

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(DateYear.Text_rotation, optionNameStart, "year_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "timeSensor", "TIME", "valueYear", "year", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(DateYear.Text_circle, optionNameStart, "year_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "timeSensor", "TIME", "valueYear", "year", 4, ref resume_call, ref pause_call);
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "year_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "year_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (DateYear.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart + 
                                    "year_icon_img.setAlpha(" + DateYear.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementDateWeek
                case "ElementDateWeek":
                    ElementDateWeek DateWeek = (ElementDateWeek)element;
                    if (!DateWeek.visible) return;
                    int pointerPositionWeek = 99;
                    int imagesPositionWeek = 99;
                    string optionsPointerWeek = "";
                    string optionsImagesWeek = "";
                    string[] DOW_Array = null;

                    if (DateWeek.Pointer != null && DateWeek.Pointer.visible)
                    {
                        pointerPositionWeek = DateWeek.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateWeek.Pointer;
                        optionsPointerWeek = DATE_POINTER_Options(img_pointer, "WEEK", show_level);
                    }
                    if (DateWeek.Images != null && DateWeek.Images.visible)
                    {
                        imagesPositionWeek = DateWeek.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = DateWeek.Images;
                        optionsImagesWeek = IMG_IMAGES_Week_Options(img_images, show_level);
                    }

                    if (DateWeek.DayOfWeek_Font != null && DateWeek.DayOfWeek_Font.visible)
                    {
                        numberFontPosition = DateWeek.DayOfWeek_Font.position;
                        hmUI_widget_TEXT text = DateWeek.DayOfWeek_Font;
                        numberFontOptions = TEXT_Options(text, show_level);
                        DOW_Array = DateWeek.DayOfWeek_Font.unit_string.Split(',');
                    }

                    for (int index = 1; index <= 5; index++)
                    {
                        if (index == pointerPositionWeek && optionsPointerWeek.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "week_pointer_progress_date_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "week_pointer_progress_date_pointer = hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                                    optionsPointerWeek + TabInString(6) + "});" + Environment.NewLine;
                        }

                        if (index == imagesPositionWeek && optionsImagesWeek.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "date_img_date_week_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "date_img_date_week_img = hmUI.createWidget(hmUI.widget.IMG_WEEK, {" +
                                    optionsImagesWeek + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5 && DOW_Array.Length == 7)
                        {
                            if (SelectedModel.versionOS >= 2 && DateWeek.DayOfWeek_Font.font != null && DateWeek.DayOfWeek_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + DateWeek.DayOfWeek_Font.font + "; FontSize: " + DateWeek.DayOfWeek_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(DateWeek.DayOfWeek_Font, true);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            string variableName = optionNameStart + "dow_text_font";
                            variables += TabInString(4) + "let " + variableName + " = ''" + Environment.NewLine;
                            variables += TabInString(4) + "let " + optionNameStart + "DOW_Array = [" ;
                            foreach (string str in DOW_Array)
                            {
                                variables += "'" + str.Trim() + "', ";
                            }
                            variables = variables.TrimEnd();
                            variables = variables.TrimEnd(',');
                            variables += "];" + Environment.NewLine;


                            if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                            if (items.IndexOf("timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "timeSensor.addEventListener(timeSensor.event.DAYCHANGE, function() {";
                                items += Environment.NewLine + TabInString(7) + "time_update(true);";
                                items += Environment.NewLine + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) + variableName + " = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            time_update += Environment.NewLine + TabInString(7) + "console.log('day of week font');";
                            time_update += Environment.NewLine + TabInString(7) + "if (updateHour) {";
                            string DOW_Str = optionNameStart + "DOW_Str";
                            time_update += Environment.NewLine + TabInString(8) + "let " + DOW_Str + " = " + optionNameStart + "DOW_Array[timeSensor.week-1];";
                            time_update += Environment.NewLine + TabInString(8) + variableName + ".setProperty(hmUI.prop.TEXT, " + DOW_Str + " );";

                            if (DateWeek.DayOfWeek_Font.use_color_2 && DateWeek.DayOfWeek_Font.color != DateWeek.DayOfWeek_Font.color_2)
                            {
                                time_update += Environment.NewLine + TabInString(8) + "if (timeSensor.week >= 6) " + variableName + ".setProperty(hmUI.prop.COLOR, " + DateWeek.DayOfWeek_Font.color_2 + ");";
                                time_update += Environment.NewLine + TabInString(8) + "else " + variableName + ".setProperty(hmUI.prop.COLOR, " + DateWeek.DayOfWeek_Font.color + ");";
                            }

                            time_update += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }
                    }
                    break;
                #endregion

                #region ElementStatuses
                case "ElementStatuses":
                    ElementStatuses Statuses = (ElementStatuses)element;

                    if (!Statuses.visible) return;
                    int positionStatusAlarm = 99;
                    int positionStatusBluetooth = 99;
                    int positionStatusDND = 99;
                    int positionStatusLock = 99;
                    string optionsStatusAlarm = "";
                    string optionsStatusBluetooth = "";
                    string optionsStatusDND = "";
                    string optionsStatusLock = "";

                    if (Statuses.Alarm != null && Statuses.Alarm.visible)
                    {
                        positionStatusAlarm = Statuses.Alarm.position;
                        hmUI_widget_IMG_STATUS img_status = Statuses.Alarm;
                        optionsStatusAlarm = IMG_STATUS_Options(img_status, "CLOCK", show_level);
                    }
                    if (Statuses.Bluetooth != null && Statuses.Bluetooth.visible)
                    {
                        positionStatusBluetooth = Statuses.Bluetooth.position;
                        hmUI_widget_IMG_STATUS img_bluetooth = Statuses.Bluetooth;
                        optionsStatusBluetooth = IMG_STATUS_Options(img_bluetooth, "DISCONNECT", show_level);
                    }
                    if (Statuses.DND != null && Statuses.DND.visible)
                    {
                        positionStatusDND = Statuses.DND.position;
                        hmUI_widget_IMG_STATUS img_DND = Statuses.DND;
                        optionsStatusDND = IMG_STATUS_Options(img_DND, "DISTURB", show_level);
                    }
                    if (Statuses.Lock != null && Statuses.Lock.visible)
                    {
                        positionStatusLock = Statuses.Lock.position;
                        hmUI_widget_IMG_STATUS img_lock = Statuses.Lock;
                        optionsStatusLock = IMG_STATUS_Options(img_lock, "LOCK", show_level);
                    }

                    for (int index = 1; index <= 4; index++)
                    {
                        // Alarm
                        if (index == positionStatusAlarm && optionsStatusAlarm.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "system_clock_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "system_clock_img = hmUI.createWidget(hmUI.widget.IMG_STATUS, {" +
                                    optionsStatusAlarm + TabInString(6) + "});" + Environment.NewLine;

                            //if (Statuses.Alarm.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                            //        "system_clock_img.setAlpha(" + Statuses.Alarm.alpha.ToString() + ");" + Environment.NewLine;
                        }

                        // Bluetooth
                        if (index == positionStatusBluetooth && optionsStatusBluetooth.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "system_disconnect_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "system_disconnect_img = hmUI.createWidget(hmUI.widget.IMG_STATUS, {" +
                                    optionsStatusBluetooth + TabInString(6) + "});" + Environment.NewLine;

                            //if (Statuses.Bluetooth.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                            //        "system_disconnect_img.setAlpha(" + Statuses.Bluetooth.alpha.ToString() + ");" + Environment.NewLine;
                        }

                        // DND
                        if (index == positionStatusDND && optionsStatusDND.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "system_dnd_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "system_dnd_img = hmUI.createWidget(hmUI.widget.IMG_STATUS, {" +
                                    optionsStatusDND + TabInString(6) + "});" + Environment.NewLine;

                            //if (Statuses.DND.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                            //        "system_dnd_img.setAlpha(" + Statuses.DND.alpha.ToString() + ");" + Environment.NewLine;
                        }

                        // Lock
                        if (index == positionStatusLock && optionsStatusLock.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "system_lock_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "system_lock_img = hmUI.createWidget(hmUI.widget.IMG_STATUS, {" +
                                    optionsStatusLock + TabInString(6) + "});" + Environment.NewLine;

                            //if (Statuses.Lock.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                            //        "system_lock_img.setAlpha(" + Statuses.Lock.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementShortcuts
                case "ElementShortcuts":
                    ElementShortcuts Shortcuts = (ElementShortcuts)element;

                    if (!Shortcuts.visible) return;
                    int positionShortcutsStep = 99;
                    int positionShortcutsCal = 99;
                    int positionShortcutsHeart = 99;
                    int positionShortcutsPAI = 99;
                    int positionShortcutsBattery = 99;
                    int positionShortcutsSunrise = 99;
                    int positionShortcutsMoon = 99;
                    int positionShortcutsBodyTemp = 99;
                    int positionShortcutsWeather = 99;
                    int positionShortcutsStand = 99;
                    int positionShortcutsSPO2 = 99;
                    int positionShortcutsAltimeter = 99;
                    int positionShortcutsStress = 99;
                    int positionShortcutsCountdown = 99;
                    int positionShortcutsStopwatch = 99;
                    int positionShortcutsAlarm = 99;
                    int positionShortcutsSleep = 99;
                    int positionShortcutsAltitude = 99;
                    int positionShortcutsReadiness = 99;
                    int positionShortcutsOutdoorRunning = 99;
                    int positionShortcutsWalking = 99;
                    int positionShortcutsOutdoorCycling = 99;
                    int positionShortcutsFreeTraining = 99;
                    int positionShortcutsPoolSwimming = 99;
                    int positionShortcutsOpenWaterSwimming = 99;
                    int positionShortcutsTrainingLoad = 99;
                    int positionShortcutsVO2max = 99;
                    int positionShortcutsRecoveryTime = 99;
                    int positionShortcutsBreathTrain = 99;
                    int positionShortcutsFatBurning = 99;

                    string optionsShortcutsStep = "";
                    string optionsShortcutsCal = "";
                    string optionsShortcutsHeart = "";
                    string optionsShortcutsPAI = "";
                    string optionsShortcutsBattery = "";
                    string optionsShortcutsSunrise = "";
                    string optionsShortcutsMoon = "";
                    string optionsShortcutsBodyTemp = "";
                    string optionsShortcutsWeather = "";
                    string optionsShortcutsStand = "";
                    string optionsShortcutsSPO2 = "";
                    string optionsShortcutsAltimeter = "";
                    string optionsShortcutsStress = "";
                    string optionsShortcutsCountdown = "";
                    string optionsShortcutsStopwatch = "";
                    string optionsShortcutsAlarm = "";
                    string optionsShortcutsSleep = "";
                    string optionsShortcutsAltitude = "";
                    string optionsShortcutsReadiness = "";
                    string optionsShortcutsOutdoorRunning = "";
                    string optionsShortcutsWalking = "";
                    string optionsShortcutsOutdoorCycling = "";
                    string optionsShortcutsFreeTraining = "";
                    string optionsShortcutsPoolSwimming = "";
                    string optionsShortcutsOpenWaterSwimming = "";
                    string optionsShortcutsTrainingLoad = "";
                    string optionsShortcutsVO2max = "";
                    string optionsShortcutsRecoveryTime = "";
                    string optionsShortcutsBreathTrain = "";
                    string optionsShortcutsFatBurning = "";

                    if (Shortcuts.Step != null && Shortcuts.Step.visible)
                    {
                        positionShortcutsStep = Shortcuts.Step.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Step;
                        optionsShortcutsStep = IMG_CLICK_Options(img_clic, "STEP", show_level);
                    }
                    if (Shortcuts.Cal != null && Shortcuts.Cal.visible)
                    {
                        positionShortcutsCal = Shortcuts.Cal.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Cal;
                        optionsShortcutsCal = IMG_CLICK_Options(img_clic, "CAL", show_level);
                    }
                    if (Shortcuts.Heart != null && Shortcuts.Heart.visible)
                    {
                        positionShortcutsHeart = Shortcuts.Heart.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Heart;
                        optionsShortcutsHeart = IMG_CLICK_Options(img_clic, "HEART", show_level);
                    }
                    if (Shortcuts.PAI != null && Shortcuts.PAI.visible)
                    {
                        positionShortcutsPAI = Shortcuts.PAI.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.PAI;
                        optionsShortcutsPAI = IMG_CLICK_Options(img_clic, "PAI_WEEKLY", show_level);
                    }
                    if (Shortcuts.Battery != null && Shortcuts.Battery.visible)
                    {
                        positionShortcutsBattery = Shortcuts.Battery.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Battery;
                        optionsShortcutsBattery = IMG_CLICK_Options(img_clic, "BATTERY", show_level);
                    }
                    if (Shortcuts.Sunrise != null && Shortcuts.Sunrise.visible)
                    {
                        positionShortcutsSunrise = Shortcuts.Sunrise.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Sunrise;
                        optionsShortcutsSunrise = IMG_CLICK_Options(img_clic, "SUN_CURRENT", show_level);
                    }
                    if (Shortcuts.Moon != null && Shortcuts.Moon.visible)
                    {
                        positionShortcutsMoon = Shortcuts.Moon.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Moon;
                        optionsShortcutsMoon = IMG_CLICK_Options(img_clic, "MOON_CURRENT", show_level);
                    }
                    if (Shortcuts.BodyTemp != null && Shortcuts.BodyTemp.visible)
                    {
                        positionShortcutsBodyTemp = Shortcuts.BodyTemp.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.BodyTemp;
                        optionsShortcutsBodyTemp = IMG_CLICK_Options(img_clic, "BODY_TEMP", show_level);
                    }
                    if (Shortcuts.Weather != null && Shortcuts.Weather.visible)
                    {
                        positionShortcutsWeather = Shortcuts.Weather.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Weather;
                        optionsShortcutsWeather = IMG_CLICK_Options(img_clic, "WEATHER_CURRENT", show_level);
                    }
                    if (Shortcuts.Stand != null && Shortcuts.Stand.visible)
                    {
                        positionShortcutsStand = Shortcuts.Stand.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Stand;
                        optionsShortcutsStand = IMG_CLICK_Options(img_clic, "STAND", show_level);
                    }
                    if (Shortcuts.SPO2 != null && Shortcuts.SPO2.visible)
                    {
                        positionShortcutsSPO2 = Shortcuts.SPO2.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.SPO2;
                        optionsShortcutsSPO2 = IMG_CLICK_Options(img_clic, "SPO2", show_level);
                    }
                    if (Shortcuts.Altimeter != null && Shortcuts.Altimeter.visible)
                    {
                        positionShortcutsAltimeter = Shortcuts.Altimeter.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Altimeter;
                        optionsShortcutsAltimeter = IMG_CLICK_Options(img_clic, "ALTIMETER", show_level);
                    }
                    if (Shortcuts.Stress != null && Shortcuts.Stress.visible)
                    {
                        positionShortcutsStress = Shortcuts.Stress.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Stress;
                        optionsShortcutsStress = IMG_CLICK_Options(img_clic, "STRESS", show_level);
                    }
                    if (Shortcuts.Countdown != null && Shortcuts.Countdown.visible)
                    {
                        positionShortcutsCountdown = Shortcuts.Countdown.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Countdown;
                        optionsShortcutsCountdown = IMG_CLICK_Options(img_clic, "COUNT_DOWN", show_level);
                    }
                    if (Shortcuts.Stopwatch != null && Shortcuts.Stopwatch.visible)
                    {
                        positionShortcutsStopwatch = Shortcuts.Stopwatch.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Stopwatch;
                        optionsShortcutsStopwatch = IMG_CLICK_Options(img_clic, "STOP_WATCH", show_level);
                    }
                    if (Shortcuts.Alarm != null && Shortcuts.Alarm.visible)
                    {
                        positionShortcutsAlarm = Shortcuts.Alarm.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Alarm;
                        optionsShortcutsAlarm = IMG_CLICK_Options(img_clic, "ALARM_CLOCK", show_level);
                    }
                    if (Shortcuts.Sleep != null && Shortcuts.Sleep.visible)
                    {
                        positionShortcutsSleep = Shortcuts.Sleep.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Sleep;
                        optionsShortcutsSleep = IMG_CLICK_Options(img_clic, "SLEEP", show_level);
                    }
                    if (Shortcuts.Altitude != null && Shortcuts.Altitude.visible)
                    {
                        positionShortcutsAltitude = Shortcuts.Altitude.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Altitude;
                        optionsShortcutsAltitude = IMG_CLICK_Options(img_clic, "ALTITUDE", show_level);
                    }
                    if (Shortcuts.Readiness != null && Shortcuts.Readiness.visible)
                    {
                        positionShortcutsReadiness = Shortcuts.Readiness.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Readiness;
                        optionsShortcutsReadiness = IMG_CLICK_Options(img_clic, "READINESS", show_level);
                    }
                    if (Shortcuts.OutdoorRunning != null && Shortcuts.OutdoorRunning.visible)
                    {
                        positionShortcutsOutdoorRunning = Shortcuts.OutdoorRunning.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.OutdoorRunning;
                        optionsShortcutsOutdoorRunning = IMG_CLICK_Options(img_clic, "OUTDOOR_RUNNING", show_level);
                    }
                    if (Shortcuts.Walking != null && Shortcuts.Walking.visible)
                    {
                        positionShortcutsWalking = Shortcuts.Walking.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.Walking;
                        optionsShortcutsWalking = IMG_CLICK_Options(img_clic, "WALKING", show_level);
                    }
                    if (Shortcuts.OutdoorCycling != null && Shortcuts.OutdoorCycling.visible)
                    {
                        positionShortcutsOutdoorCycling = Shortcuts.OutdoorCycling.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.OutdoorCycling;
                        optionsShortcutsOutdoorCycling = IMG_CLICK_Options(img_clic, "OUTDOOR_CYCLING", show_level);
                    }
                    if (Shortcuts.FreeTraining != null && Shortcuts.FreeTraining.visible)
                    {
                        positionShortcutsFreeTraining = Shortcuts.FreeTraining.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.FreeTraining;
                        optionsShortcutsFreeTraining = IMG_CLICK_Options(img_clic, "FREE_TRAINING", show_level);
                    }
                    if (Shortcuts.PoolSwimming != null && Shortcuts.PoolSwimming.visible)
                    {
                        positionShortcutsPoolSwimming = Shortcuts.PoolSwimming.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.PoolSwimming;
                        optionsShortcutsPoolSwimming = IMG_CLICK_Options(img_clic, "POOL_SWIMMING", show_level);
                    }
                    if (Shortcuts.OpenWaterSwimming != null && Shortcuts.OpenWaterSwimming.visible)
                    {
                        positionShortcutsOpenWaterSwimming = Shortcuts.OpenWaterSwimming.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.OpenWaterSwimming;
                        optionsShortcutsOpenWaterSwimming = IMG_CLICK_Options(img_clic, "OPEN_WATER_SWIMMING", show_level);
                    }
                    if (Shortcuts.TrainingLoad != null && Shortcuts.TrainingLoad.visible)
                    {
                        positionShortcutsTrainingLoad = Shortcuts.TrainingLoad.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.TrainingLoad;
                        optionsShortcutsTrainingLoad = IMG_CLICK_Options(img_clic, "TRAINING_LOAD", show_level);
                    }
                    if (Shortcuts.VO2max != null && Shortcuts.VO2max.visible)
                    {
                        positionShortcutsVO2max = Shortcuts.VO2max.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.VO2max;
                        optionsShortcutsVO2max = IMG_CLICK_Options(img_clic, "VO2MAX", show_level);
                    }
                    if (Shortcuts.RecoveryTime != null && Shortcuts.RecoveryTime.visible)
                    {
                        positionShortcutsRecoveryTime = Shortcuts.RecoveryTime.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.RecoveryTime;
                        optionsShortcutsRecoveryTime = IMG_CLICK_Options(img_clic, "RECOVERY_TIME", show_level);
                    }
                    if (Shortcuts.BreathTrain != null && Shortcuts.BreathTrain.visible)
                    {
                        positionShortcutsBreathTrain = Shortcuts.BreathTrain.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.BreathTrain;
                        optionsShortcutsBreathTrain = IMG_CLICK_Options(img_clic, "BREATH_TRAIN", show_level);
                    }
                    if (Shortcuts.FatBurning != null && Shortcuts.FatBurning.visible)
                    {
                        positionShortcutsFatBurning = Shortcuts.FatBurning.position;
                        hmUI_widget_IMG_CLICK img_clic = Shortcuts.FatBurning;
                        optionsShortcutsFatBurning = IMG_CLICK_Options(img_clic, "FAT_BURNING", show_level);
                    }

                    for (int index = -1; index <= 35; index++)
                    {

                        // Step
                        if (index == positionShortcutsStep && optionsShortcutsStep.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsStep + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Cal
                        if (index == positionShortcutsCal && optionsShortcutsCal.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "cal_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "cal_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsCal + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Heart
                        if (index == positionShortcutsHeart && optionsShortcutsHeart.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsHeart + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // PAI
                        if (index == positionShortcutsPAI && optionsShortcutsPAI.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsPAI + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Battery
                        if (index == positionShortcutsBattery && optionsShortcutsBattery.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsBattery + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Sunrise
                        if (index == positionShortcutsSunrise && optionsShortcutsSunrise.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sunrise_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sunrise_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsSunrise + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Moon
                        if (index == positionShortcutsMoon && optionsShortcutsMoon.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsMoon + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // BodyTemp
                        if (index == positionShortcutsBodyTemp && optionsShortcutsBodyTemp.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "bodyTemp_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "bodyTemp_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsBodyTemp + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Weather
                        if (index == positionShortcutsWeather && optionsShortcutsWeather.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsWeather + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Stand
                        if (index == positionShortcutsStand && optionsShortcutsStand.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsStand + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // SPO2
                        if (index == positionShortcutsSPO2 && optionsShortcutsSPO2.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "spo2_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "spo2_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsSPO2 + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Altimeter
                        if (index == positionShortcutsAltimeter && optionsShortcutsAltimeter.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altimeter_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altimeter_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsAltimeter + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Stress
                        if (index == positionShortcutsStress && optionsShortcutsStress.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsStress + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Countdown
                        if (index == positionShortcutsCountdown && optionsShortcutsCountdown.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "countdown_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "countdown_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsCountdown + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Stopwatch
                        if (index == positionShortcutsStopwatch && optionsShortcutsStopwatch.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stopwatch_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stopwatch_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsStopwatch + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Alarm
                        if (index == positionShortcutsAlarm && optionsShortcutsAlarm.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "alarm_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "alarm_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsAlarm + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Sleep
                        if (index == positionShortcutsSleep && optionsShortcutsSleep.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sleep_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sleep_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsSleep + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Altitude
                        if (index == positionShortcutsAltitude && optionsShortcutsAltitude.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altitude_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altitude_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsAltitude + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Readiness
                        if (index == positionShortcutsReadiness && optionsShortcutsReadiness.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "readiness_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "readiness_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsReadiness + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // OutdoorRunning
                        if (index == positionShortcutsOutdoorRunning && optionsShortcutsOutdoorRunning.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "outdoorRunning_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "outdoorRunning_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsOutdoorRunning + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Walking
                        if (index == positionShortcutsWalking && optionsShortcutsWalking.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "walking_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "walking_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsWalking + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // OutdoorCycling
                        if (index == positionShortcutsOutdoorCycling && optionsShortcutsOutdoorCycling.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "outdoorCycling_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "outdoorCycling_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsOutdoorCycling + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // FreeTraining
                        if (index == positionShortcutsFreeTraining && optionsShortcutsFreeTraining.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "freeTraining_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "freeTraining_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsFreeTraining + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // PoolSwimming
                        if (index == positionShortcutsPoolSwimming && optionsShortcutsPoolSwimming.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "poolSwimming_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "poolSwimming_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsPoolSwimming + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // OpenWaterSwimming
                        if (index == positionShortcutsOpenWaterSwimming && optionsShortcutsOpenWaterSwimming.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "openWaterSwimming_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "openWaterSwimming_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsOpenWaterSwimming + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // TrainingLoad
                        if (index == positionShortcutsTrainingLoad && optionsShortcutsTrainingLoad.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "trainingLoad_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "trainingLoad_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsTrainingLoad + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // VO2max
                        if (index == positionShortcutsVO2max && optionsShortcutsVO2max.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "vo2max_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "vo2max_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsVO2max + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // RecoveryTime
                        if (index == positionShortcutsRecoveryTime && optionsShortcutsRecoveryTime.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "recoveryTime_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "recoveryTime_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsRecoveryTime + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // BreathTrain
                        if (index == positionShortcutsBreathTrain && optionsShortcutsBreathTrain.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "breathTrain_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "breathTrain_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsBreathTrain + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // FatBurning
                        if (index == positionShortcutsFatBurning && optionsShortcutsFatBurning.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fatBurning_jumpable_img_click = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fatBurning_jumpable_img_click = hmUI.createWidget(hmUI.widget.IMG_CLICK, {" +
                                    optionsShortcutsFatBurning + TabInString(6) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion


                #region ElementSteps
                case "ElementSteps":
                    ElementSteps Steps = (ElementSteps)element;

                    if (!Steps.visible) return;
                    if (Steps.Images != null && Steps.Images.visible)
                    {
                        imagesPosition = Steps.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Steps.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STEP", show_level);
                    }
                    if (Steps.Segments != null && Steps.Segments.visible)
                    {
                        segmentsPosition = Steps.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Steps.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STEP", show_level);
                    }

                    if (Steps.Number != null && Steps.Number.visible)
                    {
                        numberPosition = Steps.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Steps.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STEP", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Steps.Number_Font != null && Steps.Number_Font.visible)
                    {
                        numberFontPosition = Steps.Number_Font.position;
                        hmUI_widget_TEXT text = Steps.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "STEP", show_level);
                    }
                    if (Steps.Text_rotation != null && Steps.Text_rotation.visible)
                    {
                        textRotatePosition = Steps.Text_rotation.position;
                        text_rotate = Steps.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "STEP", show_level, false);
                    }
                    if (Steps.Text_circle != null && Steps.Text_circle.visible)
                    {
                        textCirclePosition = Steps.Text_circle.position;
                        text_circle = Steps.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "STEP", show_level, false);
                    }

                    if (Steps.Number_Target != null && Steps.Number_Target.visible)
                    {
                        numberTargetPosition = Steps.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Steps.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "STEP_TARGET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Steps.Number_Target_Font != null && Steps.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = Steps.Number_Target_Font.position;
                        hmUI_widget_TEXT text = Steps.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "STEP_TARGET", show_level);
                    }
                    if (Steps.Text_rotation_Target != null && Steps.Text_rotation_Target.visible)
                    {
                        textRotateTargetPosition = Steps.Text_rotation_Target.position;
                        text_rotate = Steps.Text_rotation_Target;

                        textRotateTargetOptions = Text_Rotate_Options(text_rotate, "STEP_TARGET", show_level, false);
                    }
                    if (Steps.Text_circle_Target != null && Steps.Text_circle_Target.visible)
                    {
                        textCircleTargetPosition = Steps.Text_circle_Target.position;
                        text_circle = Steps.Text_circle_Target;

                        textCircleTargetOptions = Text_Circle_Options(text_circle, "STEP_TARGET", show_level, false);
                    }

                    if (Steps.Pointer != null && Steps.Pointer.visible)
                    {
                        pointerPosition = Steps.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Steps.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STEP", show_level);
                    }

                    if (Steps.Circle_Scale != null && Steps.Circle_Scale.visible)
                    {
                        circleScalePosition = Steps.Circle_Scale.position;
                        circle_scale = Steps.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "STEP", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Steps.Linear_Scale != null && Steps.Linear_Scale.visible)
                    {
                        linearScalePosition = Steps.Linear_Scale.position;
                        linear_scale = Steps.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "STEP", "step", show_level);
                    }

                    if (Steps.Icon != null && Steps.Icon.visible)
                    {
                        iconPosition = Steps.Icon.position;
                        hmUI_widget_IMG img_icon = Steps.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "step_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "step_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Steps.Number_Font.font != null && Steps.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Steps.Number_Font.font + "; FontSize: " + Steps.Number_Font.text_size.ToString();
                                if (Steps.Number_Font.unit_type > 0) 
                                    cacheName = "// FontName: " + Steps.Number_Font.font + "; FontSize: " + Steps.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Steps.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Steps.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Steps.Text_rotation, optionNameStart, "step_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "step", "STEP", "valueStep", "current", 5, ref resume_call, ref pause_call);

                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Steps.Text_circle, optionNameStart, "step_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "step", "STEP", "valueStep", "current", 5, ref resume_call, ref pause_call);

                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "step_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "step_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Steps.Number_Target_Font.font != null && Steps.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Steps.Number_Target_Font.font + "; FontSize: " + Steps.Number_Target_Font.text_size.ToString();
                                if (Steps.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Steps.Number_Target_Font.font + "; FontSize: " + Steps.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Steps.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Steps.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate_Target
                        if (index == textRotateTargetPosition && textRotateTargetOptions.Length > 5)
                        {
                            AddTextRotationJS(Steps.Text_rotation_Target, optionNameStart, "step_target_", ref variables, ref items, ref text_update,
                                textRotateTargetOptions, show_level, "step", "STEP", "targetStep", "target", 5, ref resume_call, ref pause_call);

                        }

                        // Text_Circle_Target
                        if (index == textCircleTargetPosition && textCircleTargetOptions.Length > 5)
                        {
                            AddTextCircleJS(Steps.Text_circle_Target, optionNameStart, "step_target_", ref variables, ref items,ref text_update,
                                textCircleTargetOptions, show_level, "step", "STEP", "targetStep", "target", 5, ref resume_call, ref pause_call);

                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "step_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "step_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;

                                //items += TabInString(7) + optionNameStart +
                                //    "step_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;
                            }

                            //items += TabInString(6) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales STEP');" + Environment.NewLine;
                            if (items.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const step = hmSensor.createSensor(hmSensor.id.STEP);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "step", "valueStep", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressStep") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStep = step.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStep = step.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStep = valueStep/targetStep;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStep > 1) progressStep = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "step = 1 - progressStep;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "step = progressStep;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "step_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "step_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "step";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) + 
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) + 
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "step_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "step_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "step_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "step_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "step_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales STEP');" + Environment.NewLine;
                            if (items.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const step = hmSensor.createSensor(hmSensor.id.STEP);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "step", "valueStep", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressStep") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStep = step.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStep = step.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStep = valueStep/targetStep;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStep > 1) progressStep = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "step = 1 - progressStep;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "step = progressStep;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) + 
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "step", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) + 
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "step", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "step_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "step_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Steps.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "step_icon_img.setAlpha(" + Steps.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementBattery
                case "ElementBattery":
                    ElementBattery Battery = (ElementBattery)element;

                    if (!Battery.visible) return;
                    if (Battery.Images != null && Battery.Images.visible)
                    {
                        imagesPosition = Battery.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Battery.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "BATTERY", show_level);
                    }
                    if (Battery.Segments != null && Battery.Segments.visible)
                    {
                        segmentsPosition = Battery.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Battery.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "BATTERY", show_level);
                    }

                    if (Battery.Number != null && Battery.Number.visible)
                    {
                        numberPosition = Battery.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Battery.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "BATTERY", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Battery.Number_Font != null && Battery.Number_Font.visible)
                    {
                        numberFontPosition = Battery.Number_Font.position;
                        hmUI_widget_TEXT text = Battery.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "BATTERY", show_level);
                    }
                    if (Battery.Text_rotation != null && Battery.Text_rotation.visible)
                    {
                        textRotatePosition = Battery.Text_rotation.position;
                        text_rotate = Battery.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "BATTERY", show_level, false);
                    }
                    if (Battery.Text_circle != null && Battery.Text_circle.visible)
                    {
                        textCirclePosition = Battery.Text_circle.position;
                        text_circle = Battery.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "BATTERY", show_level, false);
                    }

                    if (Battery.Pointer != null && Battery.Pointer.visible)
                    {
                        pointerPosition = Battery.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Battery.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "BATTERY", show_level);
                    }

                    if (Battery.Circle_Scale != null && Battery.Circle_Scale.visible)
                    {
                        circleScalePosition = Battery.Circle_Scale.position;
                        circle_scale = Battery.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "BATTERY", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Battery.Linear_Scale != null && Battery.Linear_Scale.visible)
                    {
                        linearScalePosition = Battery.Linear_Scale.position;
                        linear_scale = Battery.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "BATTERY", "battery", show_level);
                    }

                    if (Battery.Icon != null && Battery.Icon.visible)
                    {
                        iconPosition = Battery.Icon.position;
                        hmUI_widget_IMG img_icon = Battery.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "battery_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "battery_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Battery.Number_Font.font != null && Battery.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Battery.Number_Font.font + "; FontSize: " + Battery.Number_Font.text_size.ToString();
                                //if (Battery.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Battery.Number_Font.font + "; FontSize: " + Battery.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Battery.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Battery.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Battery.Text_rotation, optionNameStart, "battery_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "battery", "BATTERY", "valueBattery", "current", 3, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Battery.Text_circle, optionNameStart, "battery_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "battery", "BATTERY", "valueBattery", "current", 3, ref resume_call, ref pause_call);
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "battery_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "battery_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales BATTERY');" + Environment.NewLine;
                            if (items.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const battery = hmSensor.createSensor(hmSensor.id.BATTERY);" + Environment.NewLine;
                                if (items.IndexOf("battery.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "battery.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressBattery") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueBattery = battery.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetBattery = 100;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetBattery = battery.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressBattery = valueBattery/targetBattery;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressBattery > 1) progressBattery = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "battery = 1 - progressBattery;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "battery = progressBattery;" + Environment.NewLine;
                            }
                            /*if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_WidgetDelegate_Options(circle_scale, optionNameStart, "battery");
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_WidgetDelegate_Options(circle_scale, optionNameStart, "battery");
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }*/

                            string optionName = optionNameStart + "battery_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "battery_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "battery";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "battery_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "battery_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "battery_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "battery_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "battery_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales BATTERY');" + Environment.NewLine;
                            if (items.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const battery = hmSensor.createSensor(hmSensor.id.BATTERY);" + Environment.NewLine;
                                if (items.IndexOf("battery.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "battery.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressBattery") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueBattery = battery.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetBattery = 100;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetBattery = battery.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressBattery = valueBattery/targetBattery;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressBattery > 1) progressBattery = 1;" + Environment.NewLine;
                            }

                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "battery = 1 - progressBattery;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "battery = progressBattery;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "battery", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "battery", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "battery_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "battery_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Battery.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "battery_icon_img.setAlpha(" + Battery.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementCalories
                case "ElementCalories":
                    ElementCalories Calories = (ElementCalories)element;

                    if (!Calories.visible) return;
                    if (Calories.Images != null && Calories.Images.visible)
                    {
                        imagesPosition = Calories.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Calories.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "CAL", show_level);
                    }
                    if (Calories.Segments != null && Calories.Segments.visible)
                    {
                        segmentsPosition = Calories.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Calories.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "CAL", show_level);
                    }

                    if (Calories.Number != null && Calories.Number.visible)
                    {
                        numberPosition = Calories.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Calories.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "CAL", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Calories.Number_Font != null && Calories.Number_Font.visible)
                    {
                        numberFontPosition = Calories.Number_Font.position;
                        hmUI_widget_TEXT text = Calories.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "CAL", show_level);
                    }
                    if (Calories.Text_rotation != null && Calories.Text_rotation.visible)
                    {
                        textRotatePosition = Calories.Text_rotation.position;
                        text_rotate = Calories.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "CAL", show_level, false);
                    }
                    if (Calories.Text_circle != null && Calories.Text_circle.visible)
                    {
                        textCirclePosition = Calories.Text_circle.position;
                        text_circle = Calories.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "CAL", show_level, false);
                    }

                    if (Calories.Number_Target != null && Calories.Number_Target.visible)
                    {
                        numberTargetPosition = Calories.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Calories.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "CAL_TARGET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Calories.Number_Target_Font != null && Calories.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = Calories.Number_Target_Font.position;
                        hmUI_widget_TEXT text = Calories.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "CAL_TARGET", show_level);
                    }
                    if (Calories.Text_rotation_Target != null && Calories.Text_rotation_Target.visible)
                    {
                        textRotateTargetPosition = Calories.Text_rotation_Target.position;
                        text_rotate = Calories.Text_rotation_Target;

                        textRotateTargetOptions = Text_Rotate_Options(text_rotate, "CAL_TARGET", show_level, false);
                    }
                    if (Calories.Text_circle_Target != null && Calories.Text_circle_Target.visible)
                    {
                        textCircleTargetPosition = Calories.Text_circle_Target.position;
                        text_circle = Calories.Text_circle_Target;

                        textCircleTargetOptions = Text_Circle_Options(text_circle, "CAL_TARGET", show_level, false);
                    }

                    if (Calories.Pointer != null && Calories.Pointer.visible)
                    {
                        pointerPosition = Calories.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Calories.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "CAL", show_level);
                    }

                    if (Calories.Circle_Scale != null && Calories.Circle_Scale.visible)
                    {
                        circleScalePosition = Calories.Circle_Scale.position;
                        circle_scale = Calories.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "CAL", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Calories.Linear_Scale != null && Calories.Linear_Scale.visible)
                    {
                        linearScalePosition = Calories.Linear_Scale.position;
                        linear_scale = Calories.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "CAL", "calorie", show_level);
                    }

                    if (Calories.Icon != null && Calories.Icon.visible)
                    {
                        iconPosition = Calories.Icon.position;
                        hmUI_widget_IMG img_icon = Calories.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "calorie_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "calorie_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Calories.Number_Font.font != null && Calories.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Calories.Number_Font.font + "; FontSize: " + Calories.Number_Font.text_size.ToString();
                                if (Calories.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Calories.Number_Font.font + "; FontSize: " + Calories.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Calories.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Calories.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Calories.Text_rotation, optionNameStart, "calorie_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "calorie", "CALORIE", "valueCalories", "current", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Calories.Text_circle, optionNameStart, "calorie_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "calorie", "CALORIE", "valueCalories", "current", 4, ref resume_call, ref pause_call);
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "calorie_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "calorie_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Calories.Number_Target_Font.font != null && Calories.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Calories.Number_Target_Font.font + "; FontSize: " + Calories.Number_Target_Font.text_size.ToString();
                                if (Calories.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Calories.Number_Target_Font.font + "; FontSize: " + Calories.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Calories.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Calories.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate_Target
                        if (index == textRotateTargetPosition && textRotateTargetOptions.Length > 5)
                        {
                            AddTextRotationJS(Calories.Text_rotation_Target, optionNameStart, "calorie_target_", ref variables, ref items, ref text_update,
                                textRotateTargetOptions, show_level, "calorie", "CALORIE", "targetCalories", "target", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle_Target
                        if (index == textCircleTargetPosition && textCircleTargetOptions.Length > 5)
                        {
                            AddTextCircleJS(Calories.Text_circle_Target, optionNameStart, "calorie_target_", ref variables, ref items, ref text_update,
                                textCircleTargetOptions, show_level, "calorie", "CALORIE", "targetCalories", "target", 4, ref resume_call, ref pause_call);
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "calorie_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales CALORIE');" + Environment.NewLine;
                            if (items.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "calorie.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressCalories") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueCalories = calorie.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetCalories = calorie.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressCalories = valueCalories/targetCalories;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressCalories > 1) progressCalories = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "calorie = 1 - progressCalories;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "calorie = progressCalories;" + Environment.NewLine;
                            }
                            /*if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_WidgetDelegate_Options(circle_scale, optionNameStart, "calorie");
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_WidgetDelegate_Options(circle_scale, optionNameStart, "calorie");
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }*/

                            string optionName = optionNameStart + "calorie_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "calorie_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "calorie";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "calorie_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "calorie_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "calorie_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "calorie_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales CALORIE');" + Environment.NewLine;
                            if (items.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "calorie.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressCalories") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueCalories = calorie.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetCalories = calorie.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressCalories = valueCalories/targetCalories;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressCalories > 1) progressCalories = 1;" + Environment.NewLine;
                            }

                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "calorie = 1 - progressCalories;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "calorie = progressCalories;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "calorie", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "calorie", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "calorie_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "calorie_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Calories.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "calorie_icon_img.setAlpha(" + Calories.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementHeart
                case "ElementHeart":
                    ElementHeart Heart = (ElementHeart)element;

                    if (!Heart.visible) return;
                    if (Heart.Images != null && Heart.Images.visible)
                    {
                        imagesPosition = Heart.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Heart.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "HEART", show_level);
                    }
                    if (Heart.Segments != null && Heart.Segments.visible)
                    {
                        segmentsPosition = Heart.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Heart.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "HEART", show_level);
                    }

                    if (Heart.Number != null && Heart.Number.visible)
                    {
                        numberPosition = Heart.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Heart.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "HEART", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Heart.Number_Font != null && Heart.Number_Font.visible)
                    {
                        numberFontPosition = Heart.Number_Font.position;
                        hmUI_widget_TEXT text = Heart.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "HEART", show_level);
                    }
                    if (Heart.Text_rotation != null && Heart.Text_rotation.visible)
                    {
                        textRotatePosition = Heart.Text_rotation.position;
                        text_rotate = Heart.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "HEART", show_level, false);
                    }
                    if (Heart.Text_circle != null && Heart.Text_circle.visible)
                    {
                        textCirclePosition = Heart.Text_circle.position;
                        text_circle = Heart.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "HEART", show_level, false);
                    }

                    if (Heart.Pointer != null && Heart.Pointer.visible)
                    {
                        pointerPosition = Heart.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Heart.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "HEART", show_level);
                    }

                    if (Heart.Circle_Scale != null && Heart.Circle_Scale.visible)
                    {
                        circleScalePosition = Heart.Circle_Scale.position;
                        circle_scale = Heart.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "HEART", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Heart.Linear_Scale != null && Heart.Linear_Scale.visible)
                    {
                        linearScalePosition = Heart.Linear_Scale.position;
                        linear_scale = Heart.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "HEART", "heart_rate", show_level);
                    }

                    if (Heart.Icon != null && Heart.Icon.visible)
                    {
                        iconPosition = Heart.Icon.position;
                        hmUI_widget_IMG img_icon = Heart.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "heart_rate_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "heart_rate_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Heart.Number_Font.font != null && Heart.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Heart.Number_Font.font + "; FontSize: " + Heart.Number_Font.text_size.ToString();
                                if (Heart.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Heart.Number_Font.font + "; FontSize: " + Heart.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Heart.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Heart.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Heart.Text_rotation, optionNameStart, "heart_rate_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "heart_rate", "HEART", "valueHeartRate", "last", 3, ref resume_call, ref pause_call);
                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Heart.Text_circle, optionNameStart, "heart_rate_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "heart_rate", "HEART", "valueHeartRate", "last", 3, ref resume_call, ref pause_call);
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0 )
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "heart_rate_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales HEART');" + Environment.NewLine;
                            if (items.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                if (items.IndexOf("heart_rate.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "heart_rate.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine; 
                                }
                            }
                            if (scale_update_function.IndexOf("progressHeartRate") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.last;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetHeartRate = 179;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetHeartRate = heart_rate.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressHeartRate = (valueHeartRate - 71)/(targetHeartRate - 71);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate < 0) progressHeartRate = 0;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate > 1) progressHeartRate = 1;" + Environment.NewLine;
                            }
                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "heart_rate = 1 - progressHeartRate;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "heart_rate = progressHeartRate;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "heart_rate_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "heart_rate_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "heart_rate";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "heart_rate_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "heart_rate_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "heart_rate_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "heart_rate_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales HEART');" + Environment.NewLine;
                            if (items.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                if (items.IndexOf("heart_rate.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "heart_rate.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }
                            
                            if (scale_update_function.IndexOf("progressHeartRate") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.last;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetHeartRate = 179;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetHeartRate = heart_rate.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressHeartRate = (valueHeartRate - 71)/(targetHeartRate - 71);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate < 0) progressHeartRate = 0;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate > 1) progressHeartRate = 1;" + Environment.NewLine;
                            }
                            
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "heart_rate = 1 - progressHeartRate;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "heart_rate = progressHeartRate;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "heart_rate", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "heart_rate", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "heart_rate_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "heart_rate_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Heart.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart + 
                                    "heart_rate_icon_img.setAlpha(" + Heart.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementPAI
                case "ElementPAI":
                    ElementPAI PAI = (ElementPAI)element;

                    if (!PAI.visible) return;
                    if (PAI.Images != null && PAI.Images.visible)
                    {
                        imagesPosition = PAI.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = PAI.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "PAI_WEEKLY", show_level);
                    }
                    if (PAI.Segments != null && PAI.Segments.visible)
                    {
                        segmentsPosition = PAI.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = PAI.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "PAI_WEEKLY", show_level);
                    }

                    if (PAI.Number != null && PAI.Number.visible)
                    {
                        numberPosition = PAI.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = PAI.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "PAI_DAILY", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    //if (PAI.Number_Font != null && PAI.Number_Font.visible)
                    //{
                    //    numberFontPosition = PAI.Number_Font.position;
                    //    hmUI_widget_TEXT text = PAI.Number_Font;
                    //    numberFontOptions = TEXT_FONT_Options(text, "PAI_DAILY", show_level);
                    //}

                    if (PAI.Number_Target != null && PAI.Number_Target.visible)
                    {
                        numberTargetPosition = PAI.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = PAI.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "PAI_WEEKLY", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (PAI.Number_Target_Font != null && PAI.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = PAI.Number_Target_Font.position;
                        hmUI_widget_TEXT text = PAI.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "PAI_WEEKLY", show_level);
                    }
                    if (PAI.Text_rotation_Target != null && PAI.Text_rotation_Target.visible)
                    {
                        textRotateTargetPosition = PAI.Text_rotation_Target.position;
                        text_rotate = PAI.Text_rotation_Target;

                        textRotateTargetOptions = Text_Rotate_Options(text_rotate, "PAI_WEEKLY", show_level, false);
                    }
                    if (PAI.Text_circle_Target != null && PAI.Text_circle_Target.visible)
                    {
                        textCircleTargetPosition = PAI.Text_circle_Target.position;
                        text_circle = PAI.Text_circle_Target;

                        textCircleTargetOptions = Text_Circle_Options(text_circle, "PAI_WEEKLY", show_level, false);
                    }

                    if (PAI.Pointer != null && PAI.Pointer.visible)
                    {
                        pointerPosition = PAI.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = PAI.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "PAI_WEEKLY", show_level);
                    }

                    if (PAI.Circle_Scale != null && PAI.Circle_Scale.visible)
                    {
                        circleScalePosition = PAI.Circle_Scale.position;
                        circle_scale = PAI.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "PAI_WEEKLY", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (PAI.Linear_Scale != null && PAI.Linear_Scale.visible)
                    {
                        linearScalePosition = PAI.Linear_Scale.position;
                        linear_scale = PAI.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "PAI_WEEKLY", "pai", show_level);
                    }

                    if (PAI.Icon != null && PAI.Icon.visible)
                    {
                        iconPosition = PAI.Icon.position;
                        hmUI_widget_IMG img_icon = PAI.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_day_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_day_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "pai_day_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "pai_day_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        //// Number_Font
                        //if (index == numberFontPosition && numberFontOptions.Length > 5)
                        //{
                        //    if (SelectedModel.versionOS >= 2 && PAI.Number_Font.font != null && PAI.Number_Font.font.Length > 3)
                        //    {
                        //        string cacheName = "// FontName: " + PAI.Number_Font.font + "; FontSize: " + PAI.Number_Font.text_size.ToString();
                        //        if (fonts_cache.IndexOf(cacheName) < 0)
                        //        {
                        //            string fontCacheOptions = TEXT_Cache_Options(PAI.Number_Font, false);
                        //            if (fontCacheOptions.Length > 5)
                        //            {
                        //                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                        //                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                        //                    TabInString(6) + "});" + Environment.NewLine;
                        //            }
                        //        }
                        //    }

                        //    variables += TabInString(4) + "let " + optionNameStart +
                        //        "pai_day_text_font = ''" + Environment.NewLine;
                        //    items += Environment.NewLine + TabInString(6) +
                        //        optionNameStart + "pai_day_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                        //            numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        //}

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_weekly_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_weekly_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "pai_weekly_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "pai_weekly_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && PAI.Number_Target_Font.font != null && PAI.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + PAI.Number_Target_Font.font + "; FontSize: " + PAI.Number_Target_Font.text_size.ToString();
                                if (PAI.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + PAI.Number_Target_Font.font + "; FontSize: " + PAI.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = PAI.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(PAI.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_weekly_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_weekly_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate_Target
                        if (index == textRotateTargetPosition && textRotateTargetOptions.Length > 5)
                        {
                            AddTextRotationJS(PAI.Text_rotation_Target, optionNameStart, "pai_total_", ref variables, ref items, ref text_update,
                                textRotateTargetOptions, show_level, "pai", "PAI", "totalPAI", "totalpai", 3, ref resume_call, ref pause_call);
                        }

                        // Text_Circle_Target
                        if (index == textCircleTargetPosition && textCircleTargetOptions.Length > 5)
                        {
                            AddTextCircleJS(PAI.Text_circle_Target, optionNameStart, "pai_total_", ref variables, ref items, ref text_update,
                                textCircleTargetOptions, show_level, "pai", "PAI", "totalPAI", "totalpai", 3, ref resume_call, ref pause_call);
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "pai_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "pai_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales PAI');" + Environment.NewLine;
                            if (items.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const pai = hmSensor.createSensor(hmSensor.id.PAI);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "pai.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressPAI") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valuePAI = pai.totalpai;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetPAI = 100;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetPAI = pai.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressPAI = valuePAI/targetPAI;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressPAI > 1) progressPAI = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "pai = 1 - progressPAI;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "pai = progressPAI;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "pai_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "pai_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "pai";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "pai_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "pai_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "pai_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "pai_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "pai_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales PAI');" + Environment.NewLine;
                            if (items.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const pai = hmSensor.createSensor(hmSensor.id.PAI);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "pai.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressPAI") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valuePAI = pai.totalpai;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetPAI = 100;" + Environment.NewLine;
                                //scale_update_function += TabInString(8) + "let targetPAI = pai.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressPAI = valuePAI/targetPAI;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressPAI > 1) progressPAI = 1;" + Environment.NewLine;
                            }

                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "pai = 1 - progressPAI;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "pai = progressPAI;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "pai", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "pai", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "pai_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "pai_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (PAI.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "pai_icon_img.setAlpha(" + PAI.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementDistance
                case "ElementDistance":
                    ElementDistance Distance = (ElementDistance)element;

                    if (!Distance.visible) return;
                    if (Distance.Number != null && Distance.Number.visible)
                    {
                        numberPosition = Distance.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Distance.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "DISTANCE", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Distance.Number_Font != null && Distance.Number_Font.visible)
                    {
                        numberFontPosition = Distance.Number_Font.position;
                        hmUI_widget_TEXT text = Distance.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "DISTANCE", show_level);
                    }

                    if (Distance.Text_rotation != null && Distance.Text_rotation.visible)
                    {
                        textRotatePosition = Distance.Text_rotation.position;
                        text_rotate = Distance.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "DISTANCE", show_level, true);
                    }
                    if (Distance.Text_circle != null && Distance.Text_circle.visible)
                    {
                        textCirclePosition = Distance.Text_circle.position;
                        text_circle = Distance.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "DISTANCE", show_level, true);
                        //textCircleFunctionOptions = Text_Circle_Function_Options(text_rotate, optionNameStart, show_level, true);
                    }

                    if (Distance.Icon != null && Distance.Icon.visible)
                    {
                        iconPosition = Distance.Icon.position;
                        hmUI_widget_IMG img_icon = Distance.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 10; index++)
                    {
                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "distance_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "distance_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "distance_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "distance_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Distance.Number_Font.font != null && Distance.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Distance.Number_Font.font + "; FontSize: " + Distance.Number_Font.text_size.ToString();
                                if (Distance.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Distance.Number_Font.font + "; FontSize: " + Distance.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Distance.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Distance.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "distance_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "distance_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            string variableStartName = optionNameStart + "distance_";
                            Bitmap src = null;
                            int image_index = ListImages.IndexOf(text_rotate.img_First);
                            src = OpenFileStream(ListImagesFullName[image_index]);
                            int img_width = src.Width;
                            int img_height = src.Height;

                            variables += TabInString(4) + "let " + variableStartName + "TextRotate = new Array(5);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextRotate_ASCIIARRAY = new Array(10);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
                            //variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) +
                                "// " + variableStartName + "text_rotate_img = hmUI.createWidget(hmUI.widget.Text_Rotate, {" +
                                    textRotateOptions + TabInString(6) + "// });" + Environment.NewLine;

                            //items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 10; i++) {";
                            image_index = ListImages.IndexOf(text_rotate.img_First);
                            for (int i = 0; i < 10; i++)
                            {
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_ASCIIARRAY[" +
                                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
                            }
                            //items += Environment.NewLine + TabInString(6) + "};";
                            items += Environment.NewLine;

                            img_height = SelectedModel.background.h;
                            img_width = SelectedModel.background.w;

                            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 5; i++) {";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i] = hmUI.createWidget(hmUI.widget.IMG, {";
                            items += Environment.NewLine + TabInString(8) + "x: 0,";
                            items += Environment.NewLine + TabInString(8) + "y: 0,";
                            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_x: " + text_rotate.imageX.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_y: " + text_rotate.imageY.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "angle: " + text_rotate.angle.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "src: '" + text_rotate.img_First + ".png',";
                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(7) + "});";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i].setProperty(hmUI.prop.VISIBLE, false);";
                            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

                            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_rotate.unit);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int unit_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit = null;" + Environment.NewLine;
                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                                items += Environment.NewLine + TabInString(7) + "x: 0,";
                                items += Environment.NewLine + TabInString(7) + "y: 0,";
                                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_x: " + text_rotate.imageX.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_y: " + text_rotate.imageY.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "angle: " + text_rotate.angle.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "src: '" + text_rotate.unit + ".png',";
                                if (show_level.Length > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                                }
                                items += Environment.NewLine + TabInString(6) + "});";
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;
                            }
                            if (text_rotate.imperial_unit != null && text_rotate.imperial_unit.Length > 0)
                            {
                                if (items.IndexOf("const mileageUnit = hmSetting.getMileageUnit();") < 0)
                                {
                                    items += Environment.NewLine + TabInString(6) + "const mileageUnit = hmSetting.getMileageUnit();"; 
                                }
                                items += Environment.NewLine + TabInString(6) + "if (mileageUnit == 1) {";
                                items += Environment.NewLine + TabInString(7) + variableStartName +
                                    "TextRotate_unit.setProperty(hmUI.prop.SRC, '" + text_rotate.imperial_unit + ".png');";
                                items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                            }
                            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

                            if (text_rotate.dot_image != null && text_rotate.dot_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_rotate.dot_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }

                            if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_rotate.invalid_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }
                            if (items.IndexOf("const distance = hmSensor.createSensor(hmSensor.id.DISTANCE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const distance = hmSensor.createSensor(hmSensor.id.DISTANCE);" + Environment.NewLine;
                                if (items.IndexOf("distance.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "distance.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "text_update();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }
                            if (items.IndexOf("function toDegree (radian) {") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "function toDegree (radian) {" + Environment.NewLine;
                                items += TabInString(7) + "return radian * (180 / Math.PI);" + Environment.NewLine;
                                items += TabInString(6) + "};" + Environment.NewLine;
                            }


                            text_update += Environment.NewLine + TabInString(7) + "console.log('update text rotate DISTANCE');" + Environment.NewLine;
                            if (text_update.IndexOf("let distanceCurrent = distance.current;") < 0)
                            {
                                text_update += TabInString(7) + "let distanceCurrent = distance.current;" + Environment.NewLine;
                            }

                            text_update += TabInString(7) + "let " + variableStartName + "rotate_string = (distanceCurrent / 1000).toFixed(2);" + Environment.NewLine;
                            if (text_rotate.zero)
                                text_update += TabInString(7) + variableStartName + "rotate_string = " + variableStartName + "rotate_string.padStart(5, '0');" + Environment.NewLine;
                            if (optionNameStart == "normal_")
                            {
                                text_update += Environment.NewLine + TabInString(7) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, "distanceCurrent", variableStartName + "rotate_string", true, "DISTANCE", 5) + Environment.NewLine;
                                text_update += TabInString(7) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                text_update += Environment.NewLine + TabInString(7) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, "distanceCurrent", variableStartName + "rotate_string", true, "DISTANCE", 5) + Environment.NewLine;
                                text_update += TabInString(7) + "};" + Environment.NewLine;
                            }

                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            string variableStartName = optionNameStart + "distance_";
                            Bitmap src = null;
                            int image_index = ListImages.IndexOf(text_circle.img_First);
                            src = OpenFileStream(ListImagesFullName[image_index]);
                            int img_width = src.Width;
                            int img_height = src.Height;

                            int radius = text_circle.radius;
                            if (!text_circle.reverse_direction)
                            {
                                if (text_circle.vertical_alignment == "CENTER_V") radius += img_height / 2;
                                if (text_circle.vertical_alignment == "BOTTOM") radius += img_height;
                            }
                            else
                            {
                                if (text_circle.vertical_alignment == "CENTER_V") radius -= img_height / 2;
                                if (text_circle.vertical_alignment == "BOTTOM") radius -= img_height;
                                radius = -radius;
                            }

                            variables += TabInString(4) + "let " + variableStartName + "TextCircle = new Array(5);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_ASCIIARRAY = new Array(10);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_height = " + img_height.ToString() + ";" + Environment.NewLine;
                            
                            items += Environment.NewLine + TabInString(6) +
                                "// " + variableStartName + "text_circle_img = hmUI.createWidget(hmUI.widget.Text_Circle, {" +
                                    textCircleOptions + TabInString(6) + "// });" + Environment.NewLine;

                            //items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 10; i++) {";
                            image_index = ListImages.IndexOf(text_circle.img_First);
                            for (int i = 0; i < 10; i++)
                            {
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_ASCIIARRAY[" +
                                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers"; 
                            }
                            //items += Environment.NewLine + TabInString(6) + "};";
                            items += Environment.NewLine;

                            /*img_height = 454;
                            img_width = 454;
                            switch (ProgramSettings.Watch_Model)
                            {
                                case "GTR 3":
                                    img_height = 454;
                                    img_width = 454;
                                    break;
                                case "GTR 3 Pro":
                                    img_height = 480;
                                    img_width = 480;
                                    break;
                                case "GTS 3":
                                    img_height = 450;
                                    img_width = 390;
                                    break;
                                case "T-Rex 2":
                                    img_height = 454;
                                    img_width = 454;
                                    break;
                                case "T-Rex Ultra":
                                    img_height = 454;
                                    img_width = 454;
                                    break;
                                case "GTR 4":
                                    img_height = 466;
                                    img_width = 466;
                                    break;
                                case "Amazfit Band 7":
                                    img_height = 368;
                                    img_width = 194;
                                    break;
                                case "GTS 4 mini":
                                    img_height = 384;
                                    img_width = 336;
                                    break;
                                case "Falcon":
                                    img_height = 416;
                                    img_width = 416;
                                    break;
                                case "GTR mini":
                                    img_height = 416;
                                    img_width = 416;
                                    break;
                                case "GTS 4":
                                    img_height = 450;
                                    img_width = 390;
                                    break;
                            }*/
                            img_height = SelectedModel.background.h;
                            img_width = SelectedModel.background.w;

                            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 5; i++) {";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i] = hmUI.createWidget(hmUI.widget.IMG, {";
                            items += Environment.NewLine + TabInString(8) + "x: 0,";
                            items += Environment.NewLine + TabInString(8) + "y: 0,";
                            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_img_width / 2,";
                            if (radius > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ","; 
                            }
                            else
                            {
                                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                            }
                            items += Environment.NewLine + TabInString(8) + "src: '" + text_circle.img_First + ".png',";
                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(7) + "});";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i].setProperty(hmUI.prop.VISIBLE, false);";
                            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

                            if (text_circle.unit != null && text_circle.unit.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_circle.unit);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int unit_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit = null;" + Environment.NewLine;
                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                                items += Environment.NewLine + TabInString(7) + "x: 0,";
                                items += Environment.NewLine + TabInString(7) + "y: 0,";
                                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_unit_width / 2,";
                                if (radius > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ","; 
                                }
                                else
                                {
                                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                                }
                                items += Environment.NewLine + TabInString(7) + "src: '" + text_circle.unit + ".png',";
                                if (show_level.Length > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                                }
                                items += Environment.NewLine + TabInString(6) + "});";
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;
                            }
                            if (text_circle.imperial_unit != null && text_circle.imperial_unit.Length > 0)
                            {
                                if (items.IndexOf("const mileageUnit = hmSetting.getMileageUnit();") < 0)
                                {
                                    items += Environment.NewLine + TabInString(6) + "const mileageUnit = hmSetting.getMileageUnit();"; 
                                }
                                items += Environment.NewLine + TabInString(6) + "if (mileageUnit == 1) {";
                                items += Environment.NewLine + TabInString(7) + variableStartName + 
                                    "TextCircle_unit.setProperty(hmUI.prop.SRC, '" + text_circle.imperial_unit + ".png');";
                                items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                            }
                            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

                            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_circle.dot_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }

                            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_circle.error_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }
                            if (items.IndexOf("const distance = hmSensor.createSensor(hmSensor.id.DISTANCE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const distance = hmSensor.createSensor(hmSensor.id.DISTANCE);" + Environment.NewLine;
                                if (items.IndexOf("distance.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "distance.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "text_update();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }
                            if (items.IndexOf("function toDegree (radian) {") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "function toDegree (radian) {" + Environment.NewLine;
                                items += TabInString(7) + "return radian * (180 / Math.PI);" + Environment.NewLine;
                                items += TabInString(6) + "};" + Environment.NewLine;
                            }


                            text_update += Environment.NewLine + TabInString(7) + "console.log('update text circle DISTANCE');" + Environment.NewLine;
                            if (text_update.IndexOf("let distanceCurrent = distance.current;") < 0)
                            {
                                text_update += TabInString(7) + "let distanceCurrent = distance.current;" + Environment.NewLine;
                            }

                            text_update += TabInString(7) + "let " + variableStartName + "circle_string = (distanceCurrent / 1000).toFixed(2);" + Environment.NewLine;
                            if (text_circle.zero)
                                text_update += TabInString(7) + variableStartName + "circle_string = " + variableStartName + "circle_string.padStart(5, '0');" + Environment.NewLine;
                            if (optionNameStart == "normal_")
                            {
                                text_update += Environment.NewLine + TabInString(7) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                text_update += Text_Circle_Function_Options(text_circle, variableStartName, "distanceCurrent", variableStartName + "circle_string", true, "DISTANCE", 5) + Environment.NewLine;
                                text_update += TabInString(7) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                text_update += Environment.NewLine + TabInString(7) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                text_update += Text_Circle_Function_Options(text_circle, variableStartName, "distanceCurrent", variableStartName + "circle_string", true, "DISTANCE", 5) + Environment.NewLine;
                                text_update += TabInString(7) + "};" + Environment.NewLine;
                            }

                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "distance_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "distance_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Distance.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "distance_icon_img.setAlpha(" + Distance.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementStand
                case "ElementStand":
                    ElementStand Stand = (ElementStand)element;

                    if (!Stand.visible) return;
                    if (Stand.Images != null && Stand.Images.visible)
                    {
                        imagesPosition = Stand.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Stand.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STAND", show_level);
                    }
                    if (Stand.Segments != null && Stand.Segments.visible)
                    {
                        segmentsPosition = Stand.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Stand.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STAND", show_level);
                    }

                    if (Stand.Number != null && Stand.Number.visible)
                    {
                        numberPosition = Stand.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Stand.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STAND", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Stand.Number_Font != null && Stand.Number_Font.visible)
                    {
                        numberFontPosition = Stand.Number_Font.position;
                        hmUI_widget_TEXT text = Stand.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "STAND", show_level);
                    }
                    if (Stand.Text_rotation != null && Stand.Text_rotation.visible)
                    {
                        textRotatePosition = Stand.Text_rotation.position;
                        text_rotate = Stand.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "STAND", show_level, false);
                    }
                    if (Stand.Text_circle != null && Stand.Text_circle.visible)
                    {
                        textCirclePosition = Stand.Text_circle.position;
                        text_circle = Stand.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "STAND", show_level, false);
                    }

                    if (Stand.Number_Target != null && Stand.Number_Target.visible)
                    {
                        numberTargetPosition = Stand.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Stand.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "STAND_TARGET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Stand.Number_Target_Font != null && Stand.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = Stand.Number_Target_Font.position;
                        hmUI_widget_TEXT text = Stand.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "STAND_TARGET", show_level);
                    }
                    if (Stand.Text_rotation_Target != null && Stand.Text_rotation_Target.visible)
                    {
                        textRotateTargetPosition = Stand.Text_rotation_Target.position;
                        text_rotate = Stand.Text_rotation_Target;

                        textRotateTargetOptions = Text_Rotate_Options(text_rotate, "STAND_TARGET", show_level, false);
                    }
                    if (Stand.Text_circle_Target != null && Stand.Text_circle_Target.visible)
                    {
                        textCircleTargetPosition = Stand.Text_circle_Target.position;
                        text_circle = Stand.Text_circle_Target;

                        textCircleTargetOptions = Text_Circle_Options(text_circle, "STAND_TARGET", show_level, false);
                    }

                    if (Stand.Pointer != null && Stand.Pointer.visible)
                    {
                        pointerPosition = Stand.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Stand.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STAND", show_level);
                    }

                    if (Stand.Circle_Scale != null && Stand.Circle_Scale.visible)
                    {
                        circleScalePosition = Stand.Circle_Scale.position;
                        circle_scale = Stand.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "STAND", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Stand.Linear_Scale != null && Stand.Linear_Scale.visible)
                    {
                        linearScalePosition = Stand.Linear_Scale.position;
                        linear_scale = Stand.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "STAND", "stand", show_level);
                    }

                    if (Stand.Icon != null && Stand.Icon.visible)
                    {
                        iconPosition = Stand.Icon.position;
                        hmUI_widget_IMG img_icon = Stand.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "stand_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "stand_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Stand.Number_Font.font != null && Stand.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Stand.Number_Font.font + "; FontSize: " + Stand.Number_Font.text_size.ToString();
                                //if (Stand.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Stand.Number_Font.font + "; FontSize: " + Stand.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Stand.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Stand.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Stand.Text_rotation, optionNameStart, "stand_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "stand", "STAND", "valueStand", "current", 2, ref resume_call, ref pause_call);

                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Stand.Text_circle, optionNameStart, "stand_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "stand", "STAND", "valueStand", "current", 2, ref resume_call, ref pause_call);

                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "stand_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "stand_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Stand.Number_Target_Font.font != null && Stand.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Stand.Number_Target_Font.font + "; FontSize: " + Stand.Number_Target_Font.text_size.ToString();
                                //if (Stand.Number_Target_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Stand.Number_Target_Font.font + "; FontSize: " + Stand.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Stand.Number_Target_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Stand.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate_Target
                        if (index == textRotateTargetPosition && textRotateTargetOptions.Length > 5)
                        {
                            AddTextRotationJS(Stand.Text_rotation_Target, optionNameStart, "stand_target_", ref variables, ref items, ref text_update,
                                textRotateTargetOptions, show_level, "stand", "STAND", "targetStand", "target", 2, ref resume_call, ref pause_call);

                        }

                        // Text_Circle_Target
                        if (index == textCircleTargetPosition && textCircleTargetOptions.Length > 5)
                        {
                            AddTextCircleJS(Stand.Text_circle_Target, optionNameStart, "stand_target_", ref variables, ref items, ref text_update,
                                textCircleTargetOptions, show_level, "stand", "STAND", "targetStand", "target", 2, ref resume_call, ref pause_call);

                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "stand_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "stand_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales STAND');" + Environment.NewLine;
                            if (items.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const stand = hmSensor.createSensor(hmSensor.id.STAND);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "stand", "valueStand", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressStand") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStand = stand.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStand = stand.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStand = valueStand/targetStand;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStand > 1) progressStand = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "stand = 1 - progressStand;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "stand = progressStand;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "stand_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "stand_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "stand";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "stand_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "stand_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "stand_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "stand_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "stand_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales STAND');" + Environment.NewLine;
                            if (items.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0 )
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const stand = hmSensor.createSensor(hmSensor.id.STAND);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "stand", "valueStand", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressStand") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStand = stand.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStand = stand.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStand = valueStand/targetStand;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStand > 1) progressStand = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "stand = 1 - progressStand;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "stand = progressStand;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "stand", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "stand", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stand_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stand_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Stand.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "stand_icon_img.setAlpha(" + Stand.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementActivity
                case "ElementActivity":
                    ElementActivity Activity = (ElementActivity)element;

                    if (!Activity.visible) return;
                    if (Activity.Images != null && Activity.Images.visible)
                    {
                        imagesPosition = Activity.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Activity.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "ACTIVITY", show_level);
                    }
                    if (Activity.Segments != null && Activity.Segments.visible)
                    {
                        segmentsPosition = Activity.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Activity.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "ACTIVITY", show_level);
                    }

                    if (Activity.Number != null && Activity.Number.visible)
                    {
                        numberPosition = Activity.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Activity.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "ACTIVITY", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Activity.Number_Font != null && Activity.Number_Font.visible)
                    {
                        numberFontPosition = Activity.Number_Font.position;
                        hmUI_widget_TEXT text = Activity.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "ACTIVITY", show_level);
                    }

                    if (Activity.Number_Target != null && Activity.Number_Target.visible)
                    {
                        numberTargetPosition = Activity.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Activity.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "ACTIVITY_TARGET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Activity.Number_Target_Font != null && Activity.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = Activity.Number_Target_Font.position;
                        hmUI_widget_TEXT text = Activity.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "ACTIVITY_TARGET", show_level);
                    }

                    if (Activity.Pointer != null && Activity.Pointer.visible)
                    {
                        pointerPosition = Activity.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Activity.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "ACTIVITY", show_level);
                    }
                    if (Activity.Circle_Scale != null && Activity.Circle_Scale.visible)
                    {
                        circleScalePosition = Activity.Circle_Scale.position;
                        circle_scale = Activity.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "ACTIVITY", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (Activity.Linear_Scale != null && Activity.Linear_Scale.visible)
                    {
                        linearScalePosition = Activity.Linear_Scale.position;
                        linear_scale = Activity.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "ACTIVITY", "activity", show_level);
                    }
                    if (Activity.Icon != null && Activity.Icon.visible)
                    {
                        iconPosition = Activity.Icon.position;
                        hmUI_widget_IMG img_icon = Activity.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 10; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "activity_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "activity_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Activity.Number_Font.font != null && Activity.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Activity.Number_Font.font + "; FontSize: " + Activity.Number_Font.text_size.ToString();
                                if (Activity.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Activity.Number_Font.font + "; FontSize: " + Activity.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Activity.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Activity.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "activity_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "activity_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Activity.Number_Target_Font.font != null && Activity.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Activity.Number_Target_Font.font + "; FontSize: " + Activity.Number_Target_Font.text_size.ToString();
                                if (Activity.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Activity.Number_Target_Font.font + "; FontSize: " + Activity.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Activity.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Activity.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "activity_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "activity_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales ACTIVITY');" + Environment.NewLine;
                            if (items.IndexOf("const activity = hmSensor.createSensor(hmSensor.id.ACTIVITY);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const activity = hmSensor.createSensor(hmSensor.id.ACTIVITY);" + Environment.NewLine;
                                if (items.IndexOf("activity.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "activity.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressActivity") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueActivity = activity.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetActivity = activity.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressActivity = valueActivity/targetActivity;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressActivity > 1) progressActivity = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "activity = 1 - progressActivity;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "activity = progressActivity;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "activity_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "activity_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "activity";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "activity_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "activity_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "activity_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "activity_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "activity_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales ACTIVITY');" + Environment.NewLine;
                            if (items.IndexOf("const activity = hmSensor.createSensor(hmSensor.id.ACTIVITY);") < 0 )
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const activity = hmSensor.createSensor(hmSensor.id.ACTIVITY);" + Environment.NewLine;
                                if (items.IndexOf("activity.addEventListener") < 0)
                                {
                                    items += TabInString(6) + "activity.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    items += TabInString(7) + "scale_call();" + Environment.NewLine;
                                    items += TabInString(6) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressActivity") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueActivity = activity.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetActivity = activity.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressActivity = valueActivity/targetActivity;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressActivity > 1) progressActivity = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "activity = 1 - progressActivity;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "activity = progressActivity;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "activity", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "activity", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "activity_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "activity_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Activity.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "activity_icon_img.setAlpha(" + Activity.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementSpO2
                case "ElementSpO2":
                    ElementSpO2 SpO2 = (ElementSpO2)element;

                    if (!SpO2.visible) return;
                    if (SpO2.Number != null && SpO2.Number.visible)
                    {
                        numberPosition = SpO2.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = SpO2.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "SPO2", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (SpO2.Number_Font != null && SpO2.Number_Font.visible)
                    {
                        numberFontPosition = SpO2.Number_Font.position;
                        hmUI_widget_TEXT text = SpO2.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "SPO2", show_level);
                    }

                    if (SpO2.Text_rotation != null && SpO2.Text_rotation.visible)
                    {
                        textRotatePosition = SpO2.Text_rotation.position;
                        text_rotate = SpO2.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "SPO2", show_level, false);
                    }
                    if (SpO2.Text_circle != null && SpO2.Text_circle.visible)
                    {
                        textCirclePosition = SpO2.Text_circle.position;
                        text_circle = SpO2.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "SPO2", show_level, false);
                    }

                    if (SpO2.Icon != null && SpO2.Icon.visible)
                    {
                        iconPosition = SpO2.Icon.position;
                        hmUI_widget_IMG img_icon = SpO2.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 10; index++)
                    {
                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                            "spo2_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "spo2_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "spo2_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "spo2_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && SpO2.Number_Font.font != null && SpO2.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + SpO2.Number_Font.font + "; FontSize: " + SpO2.Number_Font.text_size.ToString();
                                //if (SpO2.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + SpO2.Number_Font.font + "; FontSize: " + SpO2.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = SpO2.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(SpO2.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "spo2_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "spo2_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(SpO2.Text_rotation, optionNameStart, "spo2_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "spo2", "SPO2", "valueSpO2", "current", 3, ref resume_call, ref pause_call);

                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(SpO2.Text_circle, optionNameStart, "spo2_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "spo2", "SPO2", "valueSpO2", "current", 3, ref resume_call, ref pause_call);
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "spo2_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "spo2_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (SpO2.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "spo2_icon_img.setAlpha(" + SpO2.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementStress
                case "ElementStress":
                    ElementStress Stress = (ElementStress)element;

                    if (!Stress.visible) return;
                    if (Stress.Images != null && Stress.Images.visible)
                    {
                        imagesPosition = Stress.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Stress.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STRESS", show_level);
                    }
                    if (Stress.Segments != null && Stress.Segments.visible)
                    {
                        segmentsPosition = Stress.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Stress.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STRESS", show_level);
                    }

                    if (Stress.Number != null && Stress.Number.visible)
                    {
                        numberPosition = Stress.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Stress.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STRESS", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Stress.Number_Font != null && Stress.Number_Font.visible)
                    {
                        numberFontPosition = Stress.Number_Font.position;
                        hmUI_widget_TEXT text = Stress.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "STRESS", show_level);
                    }

                    if (Stress.Pointer != null && Stress.Pointer.visible)
                    {
                        pointerPosition = Stress.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Stress.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STRESS", show_level);
                    }


                    if (Stress.Icon != null && Stress.Icon.visible)
                    {
                        iconPosition = Stress.Icon.position;
                        hmUI_widget_IMG img_icon = Stress.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 10; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "stress_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "stress_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Stress.Number_Font.font != null && Stress.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Stress.Number_Font.font + "; FontSize: " + Stress.Number_Font.text_size.ToString();
                                //if (Stress.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Stress.Number_Font.font + "; FontSize: " + Stress.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Stress.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Stress.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "stress_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "stress_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Stress.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "stress_icon_img.setAlpha(" + Stress.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementFatBurning
                case "ElementFatBurning":
                    ElementFatBurning FatBurning = (ElementFatBurning)element;

                    if (!FatBurning.visible) return;
                    if (FatBurning.Images != null && FatBurning.Images.visible)
                    {
                        imagesPosition = FatBurning.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = FatBurning.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "FAT_BURNING", show_level);
                    }
                    if (FatBurning.Segments != null && FatBurning.Segments.visible)
                    {
                        segmentsPosition = FatBurning.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = FatBurning.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "FAT_BURNING", show_level);
                    }

                    if (FatBurning.Number != null && FatBurning.Number.visible)
                    {
                        numberPosition = FatBurning.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = FatBurning.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "FAT_BURNING", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (FatBurning.Number_Font != null && FatBurning.Number_Font.visible)
                    {
                        numberFontPosition = FatBurning.Number_Font.position;
                        hmUI_widget_TEXT text = FatBurning.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "FAT_BURNING", show_level);
                    }
                    if (FatBurning.Text_rotation != null && FatBurning.Text_rotation.visible)
                    {
                        textRotatePosition = FatBurning.Text_rotation.position;
                        text_rotate = FatBurning.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "FAT_BURNING", show_level, false);
                    }
                    if (FatBurning.Text_circle != null && FatBurning.Text_circle.visible)
                    {
                        textCirclePosition = FatBurning.Text_circle.position;
                        text_circle = FatBurning.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "FAT_BURNING", show_level, false);
                    }

                    if (FatBurning.Number_Target != null && FatBurning.Number_Target.visible)
                    {
                        numberTargetPosition = FatBurning.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = FatBurning.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "FAT_BURNING_TARGET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (FatBurning.Number_Target_Font != null && FatBurning.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = FatBurning.Number_Target_Font.position;
                        hmUI_widget_TEXT text = FatBurning.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "FAT_BURNING_TARGET", show_level);
                    }
                    if (FatBurning.Text_rotation_Target != null && FatBurning.Text_rotation_Target.visible)
                    {
                        textRotateTargetPosition = FatBurning.Text_rotation_Target.position;
                        text_rotate = FatBurning.Text_rotation_Target;

                        textRotateTargetOptions = Text_Rotate_Options(text_rotate, "FAT_BURNING_TARGET", show_level, false);
                    }
                    if (FatBurning.Text_circle_Target != null && FatBurning.Text_circle_Target.visible)
                    {
                        textCircleTargetPosition = FatBurning.Text_circle_Target.position;
                        text_circle = FatBurning.Text_circle_Target;

                        textCircleTargetOptions = Text_Circle_Options(text_circle, "FAT_BURNING_TARGET", show_level, false);
                    }

                    if (FatBurning.Pointer != null && FatBurning.Pointer.visible)
                    {
                        pointerPosition = FatBurning.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = FatBurning.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "FAT_BURNING", show_level);
                    }

                    if (FatBurning.Circle_Scale != null && FatBurning.Circle_Scale.visible)
                    {
                        circleScalePosition = FatBurning.Circle_Scale.position;
                        circle_scale = FatBurning.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "FAT_BURNING", show_level);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level);
                    }
                    if (FatBurning.Linear_Scale != null && FatBurning.Linear_Scale.visible)
                    {
                        linearScalePosition = FatBurning.Linear_Scale.position;
                        linear_scale = FatBurning.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "FAT_BURNING", "fat_burning", show_level);
                    }

                    if (FatBurning.Icon != null && FatBurning.Icon.visible)
                    {
                        iconPosition = FatBurning.Icon.position;
                        hmUI_widget_IMG img_icon = FatBurning.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "fat_burning_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "fat_burning_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && FatBurning.Number_Font.font != null && FatBurning.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + FatBurning.Number_Font.font + "; FontSize: " + FatBurning.Number_Font.text_size.ToString();
                                if (FatBurning.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + FatBurning.Number_Font.font + "; FontSize: " + FatBurning.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = FatBurning.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(FatBurning.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(FatBurning.Text_rotation, optionNameStart, "fat_burning_", ref variables, ref items, ref text_update,
                                textRotateOptions, show_level, "fat_burning", "FAT_BURRING", "valueFatBurning", "current", 3, ref resume_call, ref pause_call);

                        }

                        // Text_Circle
                        if (index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(FatBurning.Text_circle, optionNameStart, "fat_burning_", ref variables, ref items, ref text_update,
                                textCircleOptions, show_level, "fat_burning", "FAT_BURRING", "valueFatBurning", "current", 3, ref resume_call, ref pause_call);

                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "fat_burning_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "fat_burning_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && FatBurning.Number_Target_Font.font != null && FatBurning.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + FatBurning.Number_Target_Font.font + "; FontSize: " + FatBurning.Number_Target_Font.text_size.ToString();
                                if (FatBurning.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + FatBurning.Number_Target_Font.font + "; FontSize: " + FatBurning.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = FatBurning.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(FatBurning.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate_Target
                        if (index == textRotateTargetPosition && textRotateTargetOptions.Length > 5)
                        {
                            AddTextRotationJS(FatBurning.Text_rotation_Target, optionNameStart, "fat_burning_target_", ref variables, ref items, ref text_update,
                                textRotateTargetOptions, show_level, "fat_burning", "FAT_BURRING", "targetFatBurning", "target", 3, ref resume_call, ref pause_call);

                        }

                        // Text_Circle_Target
                        if (index == textCircleTargetPosition && textCircleTargetOptions.Length > 5)
                        {
                            AddTextCircleJS(FatBurning.Text_circle_Target, optionNameStart, "fat_burning_target_fat_burning_target_", ref variables, ref items, ref text_update,
                                textCircleTargetOptions, show_level, "fat_burning", "FAT_BURRING", "targetFatBurning", "target", 3, ref resume_call, ref pause_call);

                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_circle_scale = ''" + Environment.NewLine;

                            items += circleScaleOptions;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_circle_scale = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_circle_scale_mirror = ''" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "fat_burning_circle_scale_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(6) + "});" + Environment.NewLine;
                            }

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales FAT_BURNING');" + Environment.NewLine;
                            if (items.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "fat_burning", "valueFatBurning", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressFatBurning") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueFatBurning = fat_burning.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetFatBurning = fat_burning.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressFatBurning = valueFatBurning/targetFatBurning;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressFatBurning > 1) progressFatBurning = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "fat_burning = 1 - progressFatBurning;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "fat_burning = progressFatBurning;" + Environment.NewLine;
                            }

                            string optionName = optionNameStart + "fat_burning_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "fat_burning_circle_scale_mirror";
                            string progress_name = "progress_cs_" + optionNameStart + "fat_burning";
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, optionName, optionNameMirror, progress_name, show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_linear_scale = ''" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "fat_burning_linear_scale_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (optionNameStart == "normal_")
                                items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";

                            items += Environment.NewLine + TabInString(7) +
                                optionNameStart + "fat_burning_linear_scale = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_linear_scale_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "fat_burning_linear_scale_pointer_img_mirror = ''" + Environment.NewLine;

                                items += TabInString(7) + optionNameStart +
                                    "fat_burning_linear_scale_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            items += TabInString(6) + "};" + Environment.NewLine;

                            items += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update scales FAT_BURNING');" + Environment.NewLine;
                            if (items.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);" + Environment.NewLine;
                            }
                            AddListener(ref variables, ref items, "fat_burning", "valueFatBurning", "scale_call();", ref resume_call, ref pause_call, optionNameStart);

                            if (scale_update_function.IndexOf("progressFatBurning") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueFatBurning = fat_burning.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetFatBurning = fat_burning.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressFatBurning = valueFatBurning/targetFatBurning;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressFatBurning > 1) progressFatBurning = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "fat_burning = 1 - progressFatBurning;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "fat_burning = progressFatBurning;" + Environment.NewLine;
                            }
                            if (optionNameStart == "normal_")
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "fat_burning", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "fat_burning", show_level);
                                scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                            }




                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "fat_burning_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "fat_burning_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (FatBurning.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "fat_burning_icon_img.setAlpha(" + FatBurning.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion



                /*#region ElementWeather
                case "ElementWeather":
                    ElementWeather Weather = (ElementWeather)element;
                    int numberMinPosition = 99;
                    int numberMaxPosition = 99;
                    int cityNamePosition = 99; 
                    int numberMinFontPosition = 99;
                    int numberMaxFontPosition = 99;
                    int numberMinMaxFontPosition = 99;

                    string numberMinOptions = "";
                    string numberMaxOptions = "";
                    string cityNameOptions = "";
                    string numberMinFontOptions = "";
                    string numberMaxFontOptions = "";
                    string numberMinMaxFontOptions = "";

                    string numberMinOptions_separator = "";
                    string numberMaxOptions_separator = "";

                    int numberMinRotatePosition = 99;
                    int numberMinCirclePosition = 99;
                    string numberMinRotateOptions = "";
                    string numberMinCircleOptions = "";

                    int numberMaxRotatePosition = 99;
                    int numberMaxCirclePosition = 99;
                    string numberMaxRotateOptions = "";
                    string numberMaxCircleOptions = "";

                    if (!Weather.visible) return;
                    if (Weather.Images != null && Weather.Images.visible)
                    {
                        imagesPosition = Weather.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Weather.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "WEATHER_CURRENT", show_level);
                    }

                    if (Weather.Number != null && Weather.Number.visible)
                    {
                        numberPosition = Weather.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "WEATHER_CURRENT", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Weather.Number_Font != null && Weather.Number_Font.visible)
                    {
                        numberFontPosition = Weather.Number_Font.position;
                        hmUI_widget_TEXT text = Weather.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "WEATHER_CURRENT", show_level);
                    }

                    if (Weather.Number_Min != null && Weather.Number_Min.visible)
                    {
                        numberMinPosition = Weather.Number_Min.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number_Min;
                        numberMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_LOW", show_level);

                        numberMinOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Weather.Number_Min_Font != null && Weather.Number_Min_Font.visible)
                    {
                        numberMinFontPosition = Weather.Number_Min_Font.position;
                        hmUI_widget_TEXT text = Weather.Number_Min_Font;
                        numberMinFontOptions = TEXT_FONT_Options(text, "WEATHER_LOW", show_level);
                    }
                    if (Weather.Text_Min_rotation != null && Weather.Text_Min_rotation.visible)
                    {
                        numberMinRotatePosition = Weather.Text_Min_rotation.position;
                        text_rotate = Weather.Text_Min_rotation;

                        numberMinRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_LOW", show_level, true);
                    }
                    if (Weather.Text_Min_circle != null && Weather.Text_Min_circle.visible)
                    {
                        numberMinCirclePosition = Weather.Text_Min_circle.position;
                        text_circle = Weather.Text_Min_circle;

                        numberMinCircleOptions = Text_Circle_Options(text_circle, "WEATHER_LOW", show_level, true);
                    }

                    if (Weather.Number_Max != null && Weather.Number_Max.visible)
                    {
                        numberMaxPosition = Weather.Number_Max.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number_Max;
                        numberMaxOptions = IMG_NUMBER_Options(img_number, "WEATHER_HIGH", show_level);

                        numberMaxOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Weather.Number_Max_Font != null && Weather.Number_Max_Font.visible)
                    {
                        numberMaxFontPosition = Weather.Number_Max_Font.position;
                        hmUI_widget_TEXT text = Weather.Number_Max_Font;
                        numberMaxFontOptions = TEXT_FONT_Options(text, "WEATHER_HIGH", show_level);
                    }
                    if (Weather.Text_Max_rotation != null && Weather.Text_Max_rotation.visible)
                    {
                        numberMaxRotatePosition = Weather.Text_Max_rotation.position;
                        text_rotate = Weather.Text_Max_rotation;

                        numberMaxRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_HIGH", show_level, true);
                    }
                    if (Weather.Text_Max_circle != null && Weather.Text_Max_circle.visible)
                    {
                        numberMaxCirclePosition = Weather.Text_Max_circle.position;
                        text_circle = Weather.Text_Max_circle;

                        numberMaxCircleOptions = Text_Circle_Options(text_circle, "WEATHER_HIGH", show_level, true);
                    }

                    if (Weather.Number_Min_Max_Font != null && Weather.Number_Min_Max_Font.visible)
                    {
                        numberMinMaxFontPosition = Weather.Number_Min_Max_Font.position;
                        hmUI_widget_TEXT text = Weather.Number_Min_Max_Font;
                        numberMinMaxFontOptions = TEXT_FONT_Options(text, "WEATHER_HIGH_LOW", show_level);
                    }

                    if (Weather.City_Name != null && Weather.City_Name.visible)
                    {
                        cityNamePosition = Weather.City_Name.position;
                        hmUI_widget_TEXT text = Weather.City_Name;
                        cityNameOptions = TEXT_Options(text, show_level);
                    }

                    if (Weather.Icon != null && Weather.Icon.visible)
                    {
                        iconPosition = Weather.Icon.position;
                        hmUI_widget_IMG img_icon = Weather.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 25; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "weather_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "weather_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }
                       
                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Number_Font.font != null && Weather.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Number_Font.font + "; FontSize: " + Weather.Number_Font.text_size.ToString();
                                //if (Weather.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Weather.Number_Font.font + "; FontSize: " + Weather.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Weather.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number min
                        if (index == numberMinPosition && numberMinOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_low_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_low_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMinOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMinOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_low_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_low_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMinOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Min_Font
                        if (index == numberMinFontPosition && numberMinFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Number_Min_Font.font != null && Weather.Number_Min_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Number_Min_Font.font + "; FontSize: " + Weather.Number_Min_Font.text_size.ToString();
                                //if (Weather.Number_Min_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Weather.Number_Min_Font.font + "; FontSize: " + Weather.Number_Min_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Weather.Number_Min_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Number_Min_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_low_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_low_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMinFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number max
                        if (index == numberMaxPosition && numberMaxOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_high_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_high_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMaxOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMaxOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_high_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_high_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMaxOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Max_Font
                        if (index == numberMaxFontPosition && numberMaxFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Number_Max_Font.font != null && Weather.Number_Max_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Number_Max_Font.font + "; FontSize: " + Weather.Number_Max_Font.text_size.ToString();
                                //if (Weather.Number_Max_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Weather.Number_Max_Font.font + "; FontSize: " + Weather.Number_Max_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Weather.Number_Max_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Number_Max_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_high_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_high_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMaxFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate min
                        if (index == numberMinRotatePosition && numberMinRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Weather.Text_Min_rotation, optionNameStart, "low_", ref variables, ref items, ref text_update,
                                numberMinRotateOptions, show_level, "weatherData", "forecastData", "temperatureLow", "low", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle min
                        if (index == numberMinCirclePosition && numberMinCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Weather.Text_Min_circle, optionNameStart, "low_", ref variables, ref items, ref text_update,
                                numberMinCircleOptions, show_level, "weatherData", "forecastData", "temperatureLow", "low", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Rotate max
                        if (index == numberMaxRotatePosition && numberMaxRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Weather.Text_Max_rotation, optionNameStart, "high_", ref variables, ref items, ref text_update,
                                numberMaxRotateOptions, show_level, "weatherData", "forecastData", "temperatureHigh", "high", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle max
                        if (index == numberMaxCirclePosition && numberMaxCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Weather.Text_Max_circle, optionNameStart, "high_", ref variables, ref items, ref text_update,
                                numberMaxCircleOptions, show_level, "weatherData", "forecastData", "temperatureHigh", "high", 4, ref resume_call, ref pause_call);
                        }

                        // Number_Min_Max_Font
                        if (index == numberMinMaxFontPosition && numberMinMaxFontOptions.Length > 5)
                        {
                            if (Weather.Number_Min_Max_Font.font != null && Weather.Number_Min_Max_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Number_Min_Max_Font.font + "; FontSize: " + Weather.Number_Min_Max_Font.text_size.ToString();
                                //if (Weather.Number_Min_Max_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Weather.Number_Min_Max_Font.font + "; FontSize: " + Weather.Number_Min_Max_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Weather.Number_Min_Max_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Number_Min_Max_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_min_max_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_min_max_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMinMaxFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // City Name
                        if (index == cityNamePosition && cityNameOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.City_Name.font != null && Weather.City_Name.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.City_Name.font + "; FontSize: " + Weather.City_Name.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.City_Name, true);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "city_name_text = ''" + Environment.NewLine;

                            if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
                            {
                                items += TabInString(7) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "city_name_text = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    cityNameOptions + TabInString(6) + "});" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(7) + "console.log('Weather city name');" + Environment.NewLine;

                            if (scale_update_function.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
                            {
                                scale_update_function += TabInString(7) +
                                    "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
                            }
#if DEBUG
                            scale_update_function += TabInString(7) + "// " + optionNameStart +
                                "city_name_text.setProperty(hmUI.prop.TEXT, weatherData.cityName);" + Environment.NewLine;
#endif
#if !DEBUG
                            scale_update_function += TabInString(7) + optionNameStart +
                                "city_name_text.setProperty(hmUI.prop.TEXT, weatherData.cityName);" + Environment.NewLine;
#endif


                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion*/

                #region ElementWeather_v2
                case "ElementWeather_v2":
                    ElementWeather_v2 Weather = (ElementWeather_v2)element;
                    int numberMinPosition = 99;
                    int numberMaxPosition = 99;
                    int cityNamePosition = 99;
                    int numberMinFontPosition = 99;
                    int numberMaxFontPosition = 99;

                    string numberMinOptions = "";
                    string numberMaxOptions = "";
                    string cityNameOptions = "";
                    string numberMinFontOptions = "";
                    string numberMaxFontOptions = "";

                    string numberMinOptions_separator = "";
                    string numberMaxOptions_separator = "";

                    int numberRotatePosition = 99;
                    int numberCirclePosition = 99;
                    string numberRotateOptions = "";
                    string numberCircleOptions = "";

                    int numberMinRotatePosition = 99;
                    int numberMinCirclePosition = 99;
                    string numberMinRotateOptions = "";
                    string numberMinCircleOptions = "";

                    int numberMaxRotatePosition = 99;
                    int numberMaxCirclePosition = 99;
                    string numberMaxRotateOptions = "";
                    string numberMaxCircleOptions = "";

                    int numberMaxMinPosition = 99;
                    int numberMaxMinFontPosition = 99;
                    string numberMaxMinOptions = "";
                    string numberMaxMinFontOptions = "";
                    string numberMaxMinOptions_separator = "";

                    int numberMaxMinRotatePosition = 99;
                    int numberMaxMinCirclePosition = 99;
                    string numberMaxMinRotateOptions = "";
                    string numberMaxMinCircleOptions = "";

                    if (!Weather.visible) return;
                    if (Weather.Images != null && Weather.Images.visible)
                    {
                        imagesPosition = Weather.Images.position;

                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Images.position) imagesPosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Current.position < Weather.Images.position) imagesPosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Current.position < Weather.Images.position) imagesPosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Current.position < Weather.Images.position) imagesPosition += 4;

                        hmUI_widget_IMG_LEVEL img_images = Weather.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "WEATHER_CURRENT", show_level);
                    }

                    if (Weather.Group_Current != null)
                    {
                        int groupPosition = Weather.Group_Current.position;
                        //if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Group_Current.position) groupPosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Min.position < Weather.Group_Current.position) groupPosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Max.position < Weather.Group_Current.position) groupPosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Max_Min.position < Weather.Group_Current.position) groupPosition += 4;

                        if (Weather.Group_Current.Text_circle != null && Weather.Group_Current.Text_circle.visible)
                        {
                            numberCirclePosition = groupPosition++;
                            //numberCirclePosition = Weather.Group_Current.Text_circle.position;
                            text_circle = Weather.Group_Current.Text_circle;

                            numberCircleOptions = Text_Circle_Options(text_circle, "WEATHER_CURRENT", show_level, true);
                        }
                        if (Weather.Group_Current.Text_rotation != null && Weather.Group_Current.Text_rotation.visible)
                        {
                            numberRotatePosition = groupPosition++;
                            //numberMinRotatePosition = Weather.Group_Current.Text_rotation.position;
                            text_rotate = Weather.Group_Current.Text_rotation;

                            numberRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_CURRENT", show_level, true);
                        }
                        if (Weather.Group_Current.Number_Font != null && Weather.Group_Current.Number_Font.visible)
                        {
                            numberFontPosition = groupPosition++;
                            //numberFontPosition = Weather.Group_Current.Number_Font.position;
                            hmUI_widget_TEXT text = Weather.Group_Current.Number_Font;
                            numberFontOptions = TEXT_FONT_Options(text, "WEATHER_CURRENT", show_level);
                        }
                        if (Weather.Group_Current.Number != null && Weather.Group_Current.Number.visible)
                        {
                            numberPosition = groupPosition++;
                            //numberPosition = Weather.Group_Current.Number.position;
                            hmUI_widget_IMG_NUMBER img_number = Weather.Group_Current.Number;
                            numberOptions = IMG_NUMBER_Options(img_number, "WEATHER_CURRENT", show_level);

                            numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                        }
                    }

                    if (Weather.Group_Min != null)
                    {
                        int groupPosition = Weather.Group_Min.position;
                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Group_Min.position) groupPosition += 4;
                        //if (Weather.Group_Min != null && Weather.Group_Min.position < Weather.Group_Min.position) groupPosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Max.position < Weather.Group_Min.position) groupPosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Max_Min.position < Weather.Group_Min.position) groupPosition += 4;

                        if (Weather.Group_Min.Text_circle != null && Weather.Group_Min.Text_circle.visible)
                        {
                            numberMinCirclePosition = groupPosition++;
                            //numberMinCirclePosition = Weather.Group_Min.Text_circle.position;
                            text_circle = Weather.Group_Min.Text_circle;

                            numberMinCircleOptions = Text_Circle_Options(text_circle, "WEATHER_LOW", show_level, true);
                        }
                        if (Weather.Group_Min.Text_rotation != null && Weather.Group_Min.Text_rotation.visible)
                        {
                            numberMinRotatePosition = groupPosition++;
                            //numberMinRotatePosition = Weather.Group_Min.Text_rotation.position;
                            text_rotate = Weather.Group_Min.Text_rotation;

                            numberMinRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_LOW", show_level, true);
                        }
                        if (Weather.Group_Min.Number_Font != null && Weather.Group_Min.Number_Font.visible)
                        {
                            numberMinFontPosition = groupPosition++;
                            //numberMinFontPosition = Weather.Group_Min.Number_Font.position;
                            hmUI_widget_TEXT text = Weather.Group_Min.Number_Font;
                            numberMinFontOptions = TEXT_FONT_Options(text, "WEATHER_LOW", show_level);
                        }
                        if (Weather.Group_Min.Number != null && Weather.Group_Min.Number.visible)
                        {
                            numberMinPosition = groupPosition++;
                            //numberMinPosition = Weather.Group_Min.Number.position;
                            hmUI_widget_IMG_NUMBER img_number = Weather.Group_Min.Number;
                            numberMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_LOW", show_level);

                            numberMinOptions_separator = IMG_Separator_Options(img_number, show_level);
                        }
                    }

                    if (Weather.Group_Max != null)
                    {
                        int groupPosition = Weather.Group_Max.position;
                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Group_Max.position) groupPosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Min.position < Weather.Group_Max.position) groupPosition += 4;
                        //if (Weather.Group_Max != null && Weather.Group_Max.position < Weather.Group_Max.position) groupPosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Max_Min.position < Weather.Group_Max.position) groupPosition += 4;

                        if (Weather.Group_Max.Text_circle != null && Weather.Group_Max.Text_circle.visible)
                        {
                            numberMaxCirclePosition = groupPosition++;
                            //numberMaxCirclePosition = Weather.Group_Max.Text_circle.position;
                            text_circle = Weather.Group_Max.Text_circle;

                            numberMaxCircleOptions = Text_Circle_Options(text_circle, "WEATHER_HIGH", show_level, true);
                        }
                        if (Weather.Group_Max.Text_rotation != null && Weather.Group_Max.Text_rotation.visible)
                        {
                            numberMaxRotatePosition = groupPosition++;
                            //numberMaxRotatePosition = Weather.Group_Max.Text_rotation.position;
                            text_rotate = Weather.Group_Max.Text_rotation;

                            numberMaxRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_HIGH", show_level, true);
                        }
                        if (Weather.Group_Max.Number_Font != null && Weather.Group_Max.Number_Font.visible)
                        {
                            numberMaxFontPosition = groupPosition++;
                            //numberMaxFontPosition = Weather.Group_Max.Number_Font.position;
                            hmUI_widget_TEXT text = Weather.Group_Max.Number_Font;
                            numberMaxFontOptions = TEXT_FONT_Options(text, "WEATHER_HIGH", show_level);
                        }
                        if (Weather.Group_Max.Number != null && Weather.Group_Max.Number.visible)
                        {
                            numberMaxPosition = groupPosition++;
                            //numberMaxPosition = Weather.Group_Max.Number.position;
                            hmUI_widget_IMG_NUMBER img_number = Weather.Group_Max.Number;
                            numberMaxOptions = IMG_NUMBER_Options(img_number, "WEATHER_HIGH", show_level);

                            numberMaxOptions_separator = IMG_Separator_Options(img_number, show_level);
                        }
                    }

                    if (Weather.Group_Max_Min != null)
                    {
                        int groupPosition = Weather.Group_Max_Min.position;
                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Group_Max_Min.position) groupPosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Min.position < Weather.Group_Max_Min.position) groupPosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Max.position < Weather.Group_Max_Min.position) groupPosition += 4;
                        //if (Weather.Group_Max_Min != null && Weather.Group_Max_Min.position < Weather.Group_Max_Min.position) groupPosition += 4;

                        if (Weather.Group_Max_Min.Text_circle != null && Weather.Group_Max_Min.Text_circle.visible)
                        {
                            numberMaxMinCirclePosition = groupPosition++;
                            //numberMaxMinCirclePosition = Weather.Group_Max_Min.Text_circle.position;
                            text_circle = Weather.Group_Max_Min.Text_circle;

                            numberMaxMinCircleOptions = Text_Circle_Options(text_circle, "WEATHER_HIGH_LOW", show_level, true);
                        }
                        if (Weather.Group_Max_Min.Text_rotation != null && Weather.Group_Max_Min.Text_rotation.visible)
                        {
                            numberMaxMinRotatePosition = groupPosition++;
                            //numberMaxMinRotatePosition = Weather.Group_Max_Min.Text_rotation.position;
                            text_rotate = Weather.Group_Max_Min.Text_rotation;

                            numberMaxMinRotateOptions = Text_Rotate_Options(text_rotate, "WEATHER_HIGH_LOW", show_level, true);
                        }
                        if (Weather.Group_Max_Min.Number_Font != null && Weather.Group_Max_Min.Number_Font.visible)
                        {
                            numberMaxMinFontPosition = groupPosition++;
                            //numberMaxMinFontPosition = Weather.Group_Max_Min.Number_Font.position;
                            hmUI_widget_TEXT text = Weather.Group_Max_Min.Number_Font;
                            numberMaxMinFontOptions = TEXT_FONT_Options(text, "WEATHER_HIGH_LOW", show_level);
                        }
                        if (Weather.Group_Max_Min.Number != null && Weather.Group_Max_Min.Number.visible)
                        {
                            numberMaxMinPosition = groupPosition++;
                            //numberMaxMinPosition = Weather.Group_Max_Min.Number.position;
                            hmUI_widget_IMG_NUMBER img_number = Weather.Group_Max_Min.Number;
                            numberMaxMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_HIGH_LOW", show_level);

                            numberMaxMinOptions_separator = IMG_Separator_Options(img_number, show_level);
                        }
                    }

                    if (Weather.City_Name != null && Weather.City_Name.visible)
                    {
                        cityNamePosition = Weather.City_Name.position;

                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.City_Name.position) cityNamePosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Current.position < Weather.City_Name.position) cityNamePosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Current.position < Weather.City_Name.position) cityNamePosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Current.position < Weather.City_Name.position) cityNamePosition += 4;

                        hmUI_widget_TEXT text = Weather.City_Name;
                        cityNameOptions = TEXT_Options(text, show_level);
                    }

                    if (Weather.Icon != null && Weather.Icon.visible)
                    {
                        iconPosition = Weather.Icon.position;

                        if (Weather.Group_Current != null && Weather.Group_Current.position < Weather.Icon.position) iconPosition += 4;
                        if (Weather.Group_Min != null && Weather.Group_Current.position < Weather.Icon.position) iconPosition += 4;
                        if (Weather.Group_Max != null && Weather.Group_Current.position < Weather.Icon.position) iconPosition += 4;
                        if (Weather.Group_Max_Min != null && Weather.Group_Current.position < Weather.Icon.position) iconPosition += 4;

                        hmUI_widget_IMG img_icon = Weather.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 25; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "weather_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "weather_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }

                            if (Weather.Group_Current.Number.imperial_unit != null && Weather.Group_Current.Number.imperial_unit.Length > 0)
                            {
                                if (SelectedModel.versionOS > 2)
                                {
                                    if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                                    }

                                    WeatherGroup group = (WeatherGroup)Weather.Group_Current.Clone();
                                    hmUI_widget_IMG_NUMBER img_number = group.Number;
                                    img_number.imperial_unit = Weather.Group_Current.Number.unit;
                                    img_number.unit = Weather.Group_Current.Number.imperial_unit;
                                    numberOptions = IMG_NUMBER_Options(img_number, "WEATHER_CURRENT", show_level, 1);

                                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                                    items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                                    items += Environment.NewLine + TabInString(7) + optionNameStart + "temperature_current_text_img.setProperty(hmUI.prop.MORE, {";
                                    items += numberOptions + TabInString(7) + "});";
                                    items += Environment.NewLine + TabInString(6) + "};";
                                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                                }
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Group_Current.Number_Font.font != null && Weather.Group_Current.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Group_Current.Number_Font.font + "; FontSize: " +
                                    Weather.Group_Current.Number_Font.text_size.ToString();

                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Group_Current.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Circle
                        if (index == numberCirclePosition && numberCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Weather.Group_Current.Text_circle, optionNameStart, "temperature_current_", ref variables, ref items, ref text_update,
                                numberCircleOptions, show_level, "weatherData", "currentWeather", "temperatureCurrent", "current", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Rotate
                        if (index == numberRotatePosition && numberRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Weather.Group_Current.Text_rotation, optionNameStart, "temperature_current_", ref variables, ref items, ref text_update,
                                numberRotateOptions, show_level, "weatherData", "currentWeather", "temperatureCurrent", "current", 4, ref resume_call, ref pause_call);
                        }

                        // Number min
                        if (index == numberMinPosition && numberMinOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_low_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_low_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMinOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMinOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_low_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_low_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMinOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }

                            if (Weather.Group_Min.Number.imperial_unit != null && Weather.Group_Min.Number.imperial_unit.Length > 0)
                            {
                                if (SelectedModel.versionOS > 2)
                                {
                                    if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                                    }

                                    WeatherGroup group = (WeatherGroup)Weather.Group_Min.Clone();
                                    hmUI_widget_IMG_NUMBER img_number = group.Number;
                                    img_number.imperial_unit = Weather.Group_Min.Number.unit;
                                    img_number.unit = Weather.Group_Min.Number.imperial_unit;
                                    numberMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_LOW", show_level, 1);

                                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                                    items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                                    items += Environment.NewLine + TabInString(7) + optionNameStart + "temperature_low_text_img.setProperty(hmUI.prop.MORE, {";
                                    items += numberMinOptions + TabInString(7) + "});";
                                    items += Environment.NewLine + TabInString(6) + "};";
                                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                                }
                            }
                        }

                        // Number_Min_Font
                        if (index == numberMinFontPosition && numberMinFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Group_Min.Number_Font.font != null && Weather.Group_Min.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Group_Min.Number_Font.font + "; FontSize: " + 
                                    Weather.Group_Min.Number_Font.text_size.ToString();

                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Group_Min.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_low_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_low_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMinFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate min
                        if (index == numberMinRotatePosition && numberMinRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Weather.Group_Min.Text_rotation, optionNameStart, "temperature_low_", ref variables, ref items, ref text_update,
                                numberMinRotateOptions, show_level, "weatherData", "forecastData", "temperatureLow", "low", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle min
                        if (index == numberMinCirclePosition && numberMinCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Weather.Group_Min.Text_circle, optionNameStart, "temperature_low_", ref variables, ref items, ref text_update,
                                numberMinCircleOptions, show_level, "weatherData", "forecastData", "temperatureLow", "low", 4, ref resume_call, ref pause_call);
                        }

                        // Number max
                        if (index == numberMaxPosition && numberMaxOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_high_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_high_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMaxOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMaxOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_high_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_high_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMaxOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }

                            if (Weather.Group_Max.Number.imperial_unit != null && Weather.Group_Max.Number.imperial_unit.Length > 0)
                            {
                                if (SelectedModel.versionOS > 2)
                                {
                                    if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                                    }

                                    WeatherGroup group = (WeatherGroup)Weather.Group_Max.Clone();
                                    hmUI_widget_IMG_NUMBER img_number = group.Number;
                                    img_number.imperial_unit = Weather.Group_Max.Number.unit;
                                    img_number.unit = Weather.Group_Max.Number.imperial_unit;
                                    numberMaxOptions_separator = IMG_NUMBER_Options(img_number, "WEATHER_HIGH", show_level, 1);

                                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                                    items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                                    items += Environment.NewLine + TabInString(7) + optionNameStart + "temperature_high_text_img.setProperty(hmUI.prop.MORE, {";
                                    items += numberMaxOptions_separator + TabInString(7) + "});";
                                    items += Environment.NewLine + TabInString(6) + "};";
                                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                                }
                            }
                        }

                        // Number_Max_Font
                        if (index == numberMaxFontPosition && numberMaxFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.Group_Max.Number_Font.font != null && Weather.Group_Max.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Group_Max.Number_Font.font + "; FontSize: " + 
                                    Weather.Group_Max.Number_Font.text_size.ToString();

                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Group_Max.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_high_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_high_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMaxFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate max
                        if (index == numberMaxRotatePosition && numberMaxRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Weather.Group_Max.Text_rotation, optionNameStart, "temperature_high_", ref variables, ref items, ref text_update,
                                numberMaxRotateOptions, show_level, "weatherData", "forecastData", "temperatureHigh", "high", 4, ref resume_call, ref pause_call);
                        }

                        // Text_Circle max
                        if (index == numberMaxCirclePosition && numberMaxCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Weather.Group_Max.Text_circle, optionNameStart, "temperature_high_", ref variables, ref items, ref text_update,
                                numberMaxCircleOptions, show_level, "weatherData", "forecastData", "temperatureHigh", "high", 4, ref resume_call, ref pause_call);
                        }

                        // Number_Min_Max
                        if (index == numberMaxMinPosition && numberMaxMinOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_max_min_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_max_min_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMaxMinOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMaxMinOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "temperature_max_min_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "temperature_max_min_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }

                            if (Weather.Group_Max_Min.Number.imperial_unit != null && Weather.Group_Max_Min.Number.imperial_unit.Length > 0)
                            {
                                if (SelectedModel.versionOS > 2)
                                {
                                    if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                                    }

                                    WeatherGroup group = (WeatherGroup)Weather.Group_Max_Min.Clone();
                                    hmUI_widget_IMG_NUMBER img_number = group.Number;
                                    img_number.imperial_unit = Weather.Group_Max_Min.Number.unit;
                                    img_number.unit = Weather.Group_Max_Min.Number.imperial_unit;
                                    numberMaxMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_HIGH_LOW", show_level, 1);

                                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                                    items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                                    items += Environment.NewLine + TabInString(7) + optionNameStart + "temperature_max_min_text_img.setProperty(hmUI.prop.MORE, {";
                                    items += numberMaxMinOptions + TabInString(7) + "});";
                                    items += Environment.NewLine + TabInString(6) + "};";
                                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                                }
                            }
                        }

                        // Number_Min_Max_Font
                        if (index == numberMaxMinFontPosition && numberMaxMinFontOptions.Length > 5)
                        {
                            if (Weather.Group_Max_Min.Number_Font.font != null && Weather.Group_Max_Min.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.Group_Max_Min.Number_Font.font + "; FontSize: " + 
                                    Weather.Group_Max_Min.Number_Font.text_size.ToString();
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Weather.Number_Min_Max_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.Group_Max_Min.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_max_min_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_max_min_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberMaxMinFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Text_Rotate max/min
                        if (index == numberMaxMinRotatePosition && numberMaxMinRotateOptions.Length > 5)
                        {
                            //AddTextRotationJS(Weather.Group_Max_Min.Text_rotation, optionNameStart, "high_", ref variables, ref items, ref text_update,
                            //    numberMaxRotateOptions, show_level, "weatherData", "forecastData", "temperatureHigh", "high", 4, ref resume_call, ref pause_call);
                            AddTextMaxMinRotationJS(Weather.Group_Max_Min.Text_rotation, optionNameStart, "temperature_high_low_", ref variables, ref items,
                                ref text_update, numberMaxMinRotateOptions, show_level, "temperatureHighLow", 9);
                        }

                        // Text_Circle max/min
                        if (index == numberMaxMinCirclePosition && numberMaxMinCircleOptions.Length > 5)
                        {
                            AddTextMaxMinCircleJS(Weather.Group_Max_Min.Text_circle, optionNameStart, "temperature_high_low_", ref variables, ref items, ref text_update,
                                numberMaxMinCircleOptions, show_level, "temperatureHighLow", 9);
                        }

                        // City Name
                        if (index == cityNamePosition && cityNameOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Weather.City_Name.font != null && Weather.City_Name.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Weather.City_Name.font + "; FontSize: " + Weather.City_Name.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    string fontCacheOptions = TEXT_Cache_Options(Weather.City_Name, true);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "city_name_text = ''" + Environment.NewLine;

                            if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
                            {
                                items += TabInString(7) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
                            }

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "city_name_text = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    cityNameOptions + TabInString(6) + "});" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(7) + "console.log('Weather city name');" + Environment.NewLine;

                            if (scale_update_function.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
                            {
                                scale_update_function += TabInString(7) +
                                    "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
                            }
#if DEBUG
                            scale_update_function += TabInString(7) + "// " + optionNameStart +
                                "city_name_text.setProperty(hmUI.prop.TEXT, weatherData.cityName);" + Environment.NewLine;
#endif
#if !DEBUG
                            scale_update_function += TabInString(7) + optionNameStart +
                                "city_name_text.setProperty(hmUI.prop.TEXT, weatherData.cityName);" + Environment.NewLine;
#endif


                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "temperature_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "temperature_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Weather.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "temperature_icon_img.setAlpha(" + Weather.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region Element_Weather_FewDays
                case "Element_Weather_FewDays":
                    Element_Weather_FewDays Weather_FewDays = (Element_Weather_FewDays)element;
                    AddWeatherFewDays(Weather_FewDays, show_level, optionNameStart, ref variables, ref items, ref weather_few_days, ref weather_few_days_end, ref fonts_cache);
                    break;
                #endregion

                #region ElementUVIndex
                case "ElementUVIndex":
                    ElementUVIndex UVIndex = (ElementUVIndex)element;

                    if (!UVIndex.visible) return;
                    if (UVIndex.Images != null && UVIndex.Images.visible)
                    {
                        imagesPosition = UVIndex.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = UVIndex.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "UVI", show_level);
                    }
                    if (UVIndex.Segments != null && UVIndex.Segments.visible)
                    {
                        segmentsPosition = UVIndex.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = UVIndex.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "UVI", show_level);
                    }
                    if (UVIndex.Number != null && UVIndex.Number.visible)
                    {
                        numberPosition = UVIndex.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = UVIndex.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "UVI", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (UVIndex.Number_Font != null && UVIndex.Number_Font.visible)
                    {
                        numberFontPosition = UVIndex.Number_Font.position;
                        hmUI_widget_TEXT text = UVIndex.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "UVI", show_level);
                    }
                    if (UVIndex.Pointer != null && UVIndex.Pointer.visible)
                    {
                        pointerPosition = UVIndex.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = UVIndex.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "UVI", show_level);
                    }

                    if (UVIndex.Icon != null && UVIndex.Icon.visible)
                    {
                        iconPosition = UVIndex.Icon.position;
                        hmUI_widget_IMG img_icon = UVIndex.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "uvi_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "uvi_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && UVIndex.Number_Font.font != null && UVIndex.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + UVIndex.Number_Font.font + "; FontSize: " + UVIndex.Number_Font.text_size.ToString();
                                //if (UVIndex.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + UVIndex.Number_Font.font + "; FontSize: " + UVIndex.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = UVIndex.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(UVIndex.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "uvi_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "uvi_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (UVIndex.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "uvi_icon_img.setAlpha(" + UVIndex.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementHumidity
                case "ElementHumidity":
                    ElementHumidity Humidity = (ElementHumidity)element;

                    if (!Humidity.visible) return;
                    if (Humidity.Images != null && Humidity.Images.visible)
                    {
                        imagesPosition = Humidity.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Humidity.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "HUMIDITY", show_level);
                    }
                    if (Humidity.Segments != null && Humidity.Segments.visible)
                    {
                        segmentsPosition = Humidity.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Humidity.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "HUMIDITY", show_level);
                    }
                    if (Humidity.Number != null && Humidity.Number.visible)
                    {
                        numberPosition = Humidity.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Humidity.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "HUMIDITY", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Humidity.Number_Font != null && Humidity.Number_Font.visible)
                    {
                        numberFontPosition = Humidity.Number_Font.position;
                        hmUI_widget_TEXT text = Humidity.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "HUMIDITY", show_level);
                    }
                    if (Humidity.Pointer != null && Humidity.Pointer.visible)
                    {
                        pointerPosition = Humidity.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Humidity.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "HUMIDITY", show_level);
                    }

                    if (Humidity.Icon != null && Humidity.Icon.visible)
                    {
                        iconPosition = Humidity.Icon.position;
                        hmUI_widget_IMG img_icon = Humidity.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "humidity_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "humidity_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Humidity.Number_Font.font != null && Humidity.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Humidity.Number_Font.font + "; FontSize: " + Humidity.Number_Font.text_size.ToString();
                                //if (Humidity.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Humidity.Number_Font.font + "; FontSize: " + Humidity.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Humidity.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Humidity.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "humidity_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "humidity_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Humidity.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "humidity_icon_img.setAlpha(" + Humidity.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementAltimeter
                case "ElementAltimeter":
                    ElementAltimeter Altimeter = (ElementAltimeter)element;

                    if (!Altimeter.visible) return;
                    if (Altimeter.Number != null && Altimeter.Number.visible)
                    {
                        numberPosition = Altimeter.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Altimeter.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "ALTIMETER", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Altimeter.Number_Font != null && Altimeter.Number_Font.visible)
                    {
                        numberFontPosition = Altimeter.Number_Font.position;
                        hmUI_widget_TEXT text = Altimeter.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "ALTIMETER", show_level);
                    }

                    if (Altimeter.Number_Target != null && Altimeter.Number_Target.visible)
                    {
                        numberTargetPosition = Altimeter.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Altimeter.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "ALTITUDE", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Altimeter.Number_Target_Font != null && Altimeter.Number_Target_Font.visible)
                    {
                        numberTargetFontPosition = Altimeter.Number_Target_Font.position;
                        hmUI_widget_TEXT text = Altimeter.Number_Target_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "ALTITUDE", show_level);
                    }

                    if (Altimeter.Pointer != null && Altimeter.Pointer.visible)
                    {
                        pointerPosition = Altimeter.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Altimeter.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "ALTIMETER", show_level);
                    }

                    if (Altimeter.Icon != null && Altimeter.Icon.visible)
                    {
                        iconPosition = Altimeter.Icon.position;
                        hmUI_widget_IMG img_icon = Altimeter.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 10; index++)
                    {
                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altimeter_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altimeter_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "altimeter_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "altimeter_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Altimeter.Number_Font.font != null && Altimeter.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Altimeter.Number_Font.font + "; FontSize: " + Altimeter.Number_Font.text_size.ToString();
                                if (Altimeter.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Altimeter.Number_Font.font + "; FontSize: " + Altimeter.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Altimeter.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Altimeter.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "altimeter_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altimeter_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altitude_target_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altitude_target_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "altitude_target_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "altitude_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Altimeter.Number_Target_Font.font != null && Altimeter.Number_Target_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Altimeter.Number_Target_Font.font + "; FontSize: " + Altimeter.Number_Target_Font.text_size.ToString();
                                if (Altimeter.Number_Target_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Altimeter.Number_Target_Font.font + "; FontSize: " + Altimeter.Number_Target_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Altimeter.Number_Target_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Altimeter.Number_Target_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "altitude_target_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altitude_target_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altimeter_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altimeter_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "altimeter_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "altimeter_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Altimeter.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "altimeter_icon_img.setAlpha(" + Altimeter.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementSunrise
                case "ElementSunrise":
                    ElementSunrise Sunrise = (ElementSunrise)element;
                    string numberSunCurrentOptions = "";
                    string numberSunCurrentOptions_separator = "";
                    int numberSunCurrentPosition = 99;

                    int sunriseRotatePosition = 99;
                    int sunriseCirclePosition = 99;
                    string sunriseRotateOptions = "";
                    string sunriseCircleOptions = "";

                    int sunsetRotatePosition = 99;
                    int sunsetCirclePosition = 99;
                    string sunsetRotateOptions = "";
                    string sunsetCircleOptions = "";

                    if (!Sunrise.visible) return;
                    if (Sunrise.Images != null && Sunrise.Images.visible)
                    {
                        imagesPosition = Sunrise.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Sunrise.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "SUN_CURRENT", show_level);
                    }
                    if (Sunrise.Segments != null && Sunrise.Segments.visible)
                    {
                        segmentsPosition = Sunrise.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Sunrise.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "SUN_CURRENT", show_level);
                    }

                    if (Sunrise.Sunrise != null && Sunrise.Sunrise.visible)
                    {
                        numberPosition = Sunrise.Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunrise;
                        numberOptions = IMG_NUMBER_Options(img_number, "SUN_RISE", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Sunrise.Sunrise_Font != null && Sunrise.Sunrise_Font.visible)
                    {
                        numberFontPosition = Sunrise.Sunrise_Font.position;
                        hmUI_widget_TEXT text = Sunrise.Sunrise_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "SUN_RISE", show_level);
                    }
                    if (Sunrise.Sunrise_rotation != null && Sunrise.Sunrise_rotation.visible)
                    {
                        sunriseRotatePosition = Sunrise.Sunrise_rotation.position;
                        text_rotate = Sunrise.Sunrise_rotation;

                        sunriseRotateOptions = Text_Rotate_Options(text_rotate, "SUN_RISE", show_level, true);
                    }
                    if (Sunrise.Sunrise_circle != null && Sunrise.Sunrise_circle.visible)
                    {
                        sunriseCirclePosition = Sunrise.Sunrise_circle.position;
                        text_circle = Sunrise.Sunrise_circle;

                        sunriseCircleOptions = Text_Circle_Options(text_circle, "SUN_RISE", show_level, true);
                    }

                    if (Sunrise.Sunset != null && Sunrise.Sunset.visible)
                    {
                        numberTargetPosition = Sunrise.Sunset.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunset;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "SUN_SET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Sunrise.Sunset_Font != null && Sunrise.Sunset_Font.visible)
                    {
                        numberTargetFontPosition = Sunrise.Sunset_Font.position;
                        hmUI_widget_TEXT text = Sunrise.Sunset_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "SUN_SET", show_level);
                    }
                    if (Sunrise.Sunset_rotation != null && Sunrise.Sunset_rotation.visible)
                    {
                        sunsetRotatePosition = Sunrise.Sunset_rotation.position;
                        text_rotate = Sunrise.Sunset_rotation;

                        sunsetRotateOptions = Text_Rotate_Options(text_rotate, "SUN_SET", show_level, true);
                    }
                    if (Sunrise.Sunset_circle != null && Sunrise.Sunset_circle.visible)
                    {
                        sunsetCirclePosition = Sunrise.Sunset_circle.position;
                        text_circle = Sunrise.Sunset_circle;

                        sunsetCircleOptions = Text_Circle_Options(text_circle, "SUN_SET", show_level, true);
                    }

                    if (Sunrise.Sunset_Sunrise != null && Sunrise.Sunset_Sunrise.visible)
                    {
                        numberSunCurrentPosition = Sunrise.Sunset_Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunset_Sunrise;
                        numberSunCurrentOptions = IMG_NUMBER_Options(img_number, "SUN_CURRENT", show_level);

                        numberSunCurrentOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Sunrise.Pointer != null && Sunrise.Pointer.visible)
                    {
                        pointerPosition = Sunrise.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Sunrise.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "SUN_CURRENT", show_level);
                    }

                    if (Sunrise.Icon != null && Sunrise.Icon.visible)
                    {
                        iconPosition = Sunrise.Icon.position;
                        hmUI_widget_IMG img_icon = Sunrise.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_high_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_high_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "sun_high_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "sun_high_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Sunrise.Sunrise_Font.font != null && Sunrise.Sunrise_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Sunrise.Sunrise_Font.font + "; FontSize: " + Sunrise.Sunrise_Font.text_size.ToString();
                                //if (Sunrise.Sunrise_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Sunrise.Sunrise_Font.font + "; FontSize: " + Sunrise.Sunrise_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Sunrise.Sunrise_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Sunrise.Sunrise_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_high_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_high_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_low_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_low_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "sun_low_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "sun_low_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Sunrise.Sunset_Font.font != null && Sunrise.Sunset_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Sunrise.Sunset_Font.font + "; FontSize: " + Sunrise.Sunset_Font.text_size.ToString();
                                //if (Sunrise.Sunset_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Sunrise.Sunset_Font.font + "; FontSize: " + Sunrise.Sunset_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Sunrise.Sunset_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Sunrise.Sunset_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_low_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_low_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_SunCurrent
                        if (index == numberSunCurrentPosition && numberSunCurrentOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberSunCurrentOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberSunCurrentOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "sun_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "sun_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberSunCurrentOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Text_Rotate Sunrise
                        if (index == sunriseRotatePosition && sunriseRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Sunrise.Sunrise_rotation, optionNameStart, "sunrise_", ref variables, ref items, ref text_update,
                                sunriseRotateOptions, show_level, "weatherData", "tideData", "sunriseTime", "sunrise", 5, ref resume_call, ref pause_call);
                        }

                        // Text_Circle Sunrise
                        if (index == sunriseCirclePosition && sunriseCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Sunrise.Sunrise_circle, optionNameStart, "sunrise_", ref variables, ref items, ref text_update,
                                sunriseCircleOptions, show_level, "weatherData", "tideData", "sunriseTime", "sunrise", 5, ref resume_call, ref pause_call);
                        }

                        // Text_Rotate Sunset
                        if (index == sunsetRotatePosition && sunsetRotateOptions.Length > 5)
                        {
                            AddTextRotationJS(Sunrise.Sunset_rotation, optionNameStart, "sunset_", ref variables, ref items, ref text_update,
                                sunsetRotateOptions, show_level, "weatherData", "tideData", "sunsetTime", "sunset", 5, ref resume_call, ref pause_call);
                        }

                        // Text_Circle Sunset
                        if (index == sunsetCirclePosition && sunsetCircleOptions.Length > 5)
                        {
                            AddTextCircleJS(Sunrise.Sunset_circle, optionNameStart, "sunset_", ref variables, ref items, ref text_update,
                                sunsetCircleOptions, show_level, "weatherData", "tideData", "sunsetTime", "sunset", 5, ref resume_call, ref pause_call);
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "sun_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "sun_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementWind
                case "ElementWind":
                    ElementWind Wind = (ElementWind)element;
                    int directionPosition = 99;
                    string directionOptions = "";

                    if (!Wind.visible) return;
                    if (Wind.Images != null && Wind.Images.visible)
                    {
                        imagesPosition = Wind.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Wind.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "WIND", show_level);
                    }
                    if (Wind.Segments != null && Wind.Segments.visible)
                    {
                        segmentsPosition = Wind.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Wind.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "WIND", show_level);
                    }
                    if (Wind.Number != null && Wind.Number.visible)
                    {
                        numberPosition = Wind.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Wind.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "WIND", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Wind.Number_Font != null && Wind.Number_Font.visible)
                    {
                        numberFontPosition = Wind.Number_Font.position;
                        hmUI_widget_TEXT text = Wind.Number_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "WIND", show_level);
                    }
                    if (Wind.Pointer != null && Wind.Pointer.visible)
                    {
                        pointerPosition = Wind.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Wind.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "WIND", show_level);
                    }

                    if (Wind.Direction != null && Wind.Direction.visible)
                    {
                        directionPosition = Wind.Direction.position;
                        hmUI_widget_IMG_LEVEL img_images = Wind.Direction;
                        directionOptions = IMG_IMAGES_Options(img_images, "WIND_DIRECTION", show_level);
                    }

                    if (Wind.Icon != null && Wind.Icon.visible)
                    {
                        iconPosition = Wind.Icon.position;
                        hmUI_widget_IMG img_icon = Wind.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_image_progress_img_progress = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_text_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_text_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "wind_text_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "wind_text_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Wind.Number_Font.font != null && Wind.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Wind.Number_Font.font + "; FontSize: " + Wind.Number_Font.text_size.ToString();
                                //if (Wind.Number_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Wind.Number_Font.font + "; FontSize: " + Wind.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Wind.Number_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Wind.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_current_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_current_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Direction
                        if (index == directionPosition && directionOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_direction_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_direction_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    directionOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "wind_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "wind_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementMoon
                case "ElementMoon":
                    ElementMoon Moon = (ElementMoon)element;
                    string numberMoonCurrentOptions = "";
                    string numberMoonCurrentOptions_separator = "";
                    int numberMoonCurrentPosition = 99;

                    //int sunriseRotatePosition = 99;
                    //int sunriseCirclePosition = 99;
                    //string sunriseRotateOptions = "";
                    //string sunriseCircleOptions = "";

                    //int sunsetRotatePosition = 99;
                    //int sunsetCirclePosition = 99;
                    //string sunsetRotateOptions = "";
                    //string sunsetCircleOptions = "";

                    if (!Moon.visible) return;
                    if (Moon.Images != null && Moon.Images.visible)
                    {
                        imagesPosition = Moon.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Moon.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "MOON", show_level);
                    }
                    //if (Moon.Segments != null && Moon.Segments.visible)
                    //{
                    //    segmentsPosition = Moon.Segments.position;
                    //    hmUI_widget_IMG_PROGRESS img_progress = Moon.Segments;
                    //    segmentsOptions = IMG_PROGRESS_Options(img_progress, "MOON", show_level);
                    //}

                    if (Moon.Sunrise != null && Moon.Sunrise.visible)
                    {
                        numberPosition = Moon.Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Moon.Sunrise;
                        numberOptions = IMG_NUMBER_Options(img_number, "MOON_RISE", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Moon.Sunrise_Font != null && Moon.Sunrise_Font.visible)
                    {
                        numberFontPosition = Moon.Sunrise_Font.position;
                        hmUI_widget_TEXT text = Moon.Sunrise_Font;
                        numberFontOptions = TEXT_FONT_Options(text, "MOON_RISE", show_level);
                    }

                    if (Moon.Sunset != null && Moon.Sunset.visible)
                    {
                        numberTargetPosition = Moon.Sunset.position;
                        hmUI_widget_IMG_NUMBER img_number = Moon.Sunset;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "MOON_SET", show_level);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Moon.Sunset_Font != null && Moon.Sunset_Font.visible)
                    {
                        numberTargetFontPosition = Moon.Sunset_Font.position;
                        hmUI_widget_TEXT text = Moon.Sunset_Font;
                        numberTargetFontOptions = TEXT_FONT_Options(text, "MOON_SET", show_level);
                    }

                    if (Moon.Sunset_Sunrise != null && Moon.Sunset_Sunrise.visible)
                    {
                        numberMoonCurrentPosition = Moon.Sunset_Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Moon.Sunset_Sunrise;
                        numberMoonCurrentOptions = IMG_NUMBER_Options(img_number, "MOON_CURRENT", show_level);

                        numberMoonCurrentOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Moon.Pointer != null && Moon.Pointer.visible)
                    {
                        pointerPosition = Moon.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Moon.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "MOON_CURRENT", show_level);
                    }

                    if (Moon.Icon != null && Moon.Icon.visible)
                    {
                        iconPosition = Moon.Icon.position;
                        hmUI_widget_IMG img_icon = Moon.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_image_progress_img_level = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_image_progress_img_level = hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        //// Segments
                        //if (index == segmentsPosition && segmentsOptions.Length > 5)
                        //{
                        //    variables += TabInString(4) + "let " + optionNameStart +
                        //        "moon_image_progress_img_progress = ''" + Environment.NewLine;
                        //    items += Environment.NewLine + TabInString(6) +
                        //        optionNameStart + "moon_image_progress_img_progress = hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                        //            segmentsOptions + TabInString(6) + "});" + Environment.NewLine;
                        //}

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_high_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_high_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "moon_high_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "moon_high_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Moon.Sunrise_Font.font != null && Moon.Sunrise_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Moon.Sunrise_Font.font + "; FontSize: " + Moon.Sunrise_Font.text_size.ToString();
                                //if (Moon.Sunrise_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Moon.Sunrise_Font.font + "; FontSize: " + Moon.Sunrise_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Moon.Sunrise_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Moon.Sunrise_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_high_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_high_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_low_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_low_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "moon_low_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "moon_low_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target_Font
                        if (index == numberTargetFontPosition && numberTargetFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && SelectedModel.versionOS >= 2 && Moon.Sunset_Font.font != null && Moon.Sunset_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Moon.Sunset_Font.font + "; FontSize: " + Moon.Sunset_Font.text_size.ToString();
                                //if (Moon.Sunset_Font.unit_type > 0)
                                //    cacheName = "// FontName: " + Moon.Sunset_Font.font + "; FontSize: " + Moon.Sunset_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    //bool fullCache = Moon.Sunset_Font.unit_type > 0;
                                    bool fullCache = false;
                                    string fontCacheOptions = TEXT_Cache_Options(Moon.Sunset_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_low_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_low_text_font = hmUI.createWidget(hmUI.widget.TEXT_FONT, {" +
                                    numberTargetFontOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Number_SunCurrent
                        if (index == numberMoonCurrentPosition && numberMoonCurrentOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_current_text_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_current_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMoonCurrentOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (numberMoonCurrentOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "moon_current_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "moon_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMoonCurrentOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_pointer_progress_img_pointer = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_pointer_progress_img_pointer = hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "moon_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "moon_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementImage
                case "ElementImage":
                    ElementImage Image = (ElementImage)element;

                    if (!Image.visible) return;

                    if (Image.Icon != null)
                    {
                        hmUI_widget_IMG img_icon = Image.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    // Icon
                    if (iconOptions.Length > 5)
                    {
                        variables += TabInString(4) + "let " + optionNameStart +
                            "image_img = ''" + Environment.NewLine;
                        items += Environment.NewLine + TabInString(6) +
                            optionNameStart + "image_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                iconOptions + TabInString(6) + "});" + Environment.NewLine;
                    }
                    break;
                #endregion

                #region ElementCompass
                case "ElementCompass":
                    ElementCompass Compass = (ElementCompass)element;

                    if (!Compass.visible) return;
                    if (SelectedModel.versionOS < 2) return;
                    
                    string readOptionsCustomPointer = "";
                    string coverPointer = "";
                    if (Compass.Images != null && Compass.Images.visible)
                    {
                        imagesPosition = Compass.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Compass.Images;
                        //imagesOptions = IMG_IMAGES_Options(img_images, "Compass", show_level);
                        hmUI_widget_IMG img = new hmUI_widget_IMG();
                        img.x = img_images.X; 
                        img.y = img_images.Y;
                        img.src = img_images.img_First;
                        imagesOptions = IMG_Options(img, show_level);
                    }

                    if (Compass.Number != null && Compass.Number.visible)
                    {
                        numberPosition = Compass.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Compass.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "COMPASS", show_level);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Compass.Number_Font != null && Compass.Number_Font.visible)
                    {
                        numberFontPosition = Compass.Number_Font.position;
                        hmUI_widget_TEXT text = Compass.Number_Font;
                        //numberFontOptions = TEXT_FONT_Options(text, "COMPASS", show_level);
                        numberFontOptions = TEXT_Options(text, show_level);
                    }
                    if (Compass.Text_rotation != null && Compass.Text_rotation.visible)
                    {
                        textRotatePosition = Compass.Text_rotation.position;
                        text_rotate = Compass.Text_rotation;

                        textRotateOptions = Text_Rotate_Options(text_rotate, "COMPASS", show_level, false);
                    }
                    if (Compass.Text_circle != null && Compass.Text_circle.visible)
                    {
                        textCirclePosition = Compass.Text_circle.position;
                        text_circle = Compass.Text_circle;

                        textCircleOptions = Text_Circle_Options(text_circle, "COMPASS", show_level, false);
                    }

                    if (Compass.Pointer != null && Compass.Pointer.visible)
                    {
                        pointerPosition = Compass.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Compass.Pointer;
                        //pointerOptions = IMG_POINTER_Options(img_pointer, "Compass", show_level);
                        pointerOptions = TIME_PRO_POINTER_Options(img_pointer, show_level);
                        readOptionsCustomPointer = CUSTOM_POINTER_OptionsRead(img_pointer, optionNameStart, "COMPASS", show_level);

                        coverPointer = IMG_Pointer_Cover_Options(img_pointer, show_level);
                    }

                    if (Compass.Icon != null && Compass.Icon.visible)
                    {
                        iconPosition = Compass.Icon.position;
                        hmUI_widget_IMG img_icon = Compass.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 20; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart + "compass_direction_img_level = ''" + Environment.NewLine;
                            string arr_name = optionNameStart + "compass_direction_arr";
                            string compass_direction_arr = "";
                            int imageIndex = ListImages.IndexOf(Compass.Images.img_First);
                            for (int i = imageIndex; i < imageIndex + 8; i++)
                            {
                                string src = "\"" + ListImages[i] + ".png\"";
                                if (compass_direction_arr.Length > 1) compass_direction_arr += ", ";
                                compass_direction_arr += src;
                            }
                            variables += TabInString(4) + "let " + arr_name + " = [" + compass_direction_arr + "];" + Environment.NewLine;

                            if (Compass.Images.img_error.Length > 1)
                                imagesOptions += TabInString(7) + "// img_error: '" + Compass.Images.img_error + ".png'," + Environment.NewLine;
                            imagesOptions += TabInString(7) + "// type: hmUI.data_type.COMPASS," + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "compass_direction_img_level = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    imagesOptions + TabInString(6) + "});" + Environment.NewLine;

                            compass_update += TabInString(8) + "// Compass Images" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;

                            if (compass_update.IndexOf("let compass_direction_index") < 0)
                            {
                                compass_update += TabInString(8) + "let compass_direction_angle_img = compass_direction_angle + 45 / 2;" + Environment.NewLine;
                                compass_update += TabInString(8) + "let compass_direction_index = parseInt(compass_direction_angle_img/45);" + Environment.NewLine;
                                compass_update += TabInString(8) + "if (compass_direction_index > 7) compass_direction_index = 0;" + Environment.NewLine;
                            }

                            compass_update += TabInString(8) + optionNameStart + 
                                "compass_direction_img_level.setProperty(hmUI.prop.SRC, " + arr_name + "[compass_direction_index]);" + Environment.NewLine;
                            if (Compass.Images.img_error.Length > 1)
                            {
                                compass_error += TabInString(8) + optionNameStart + "compass_direction_img_level.setProperty(hmUI.prop.SRC, '" + Compass.Images.img_error + ".png');" + Environment.NewLine;
                            }
                            else
                            {
                                compass_error += TabInString(8) + optionNameStart + "compass_direction_img_level.setProperty(hmUI.prop.SRC, " + arr_name + "[0]);" + Environment.NewLine; 
                            }

                            if (resume_call.IndexOf("compass.start()") < 0)
                                resume_call += TabInString(8) + "if (compass && screenType == hmSetting.screen_type.WATCHFACE) compass.start();" + Environment.NewLine;
                            if (pause_call.IndexOf("compass.stop()") < 0)
                                pause_call += TabInString(8) + "if (compass) compass.stop();" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "compass_text_img = ''" + Environment.NewLine;
                            numberOptions = numberOptions.Replace("type: hmUI.data_type.COMPASS,", "// type: hmUI.data_type.COMPASS,");
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "compass_text_img = hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(6) + "});" + Environment.NewLine;

                            compass_update += TabInString(8) + "// Compass Number" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;

                            if(Compass.Number.zero)
                                compass_update += TabInString(8) + "let " + optionNameStart + "compass_direction_angle_text = compass_direction_angle.toString().padStart(3, '0');" + Environment.NewLine;
                            else compass_update += TabInString(8) + "let " + optionNameStart + "compass_direction_angle_text = compass_direction_angle.toString();" + Environment.NewLine;
                            compass_update += TabInString(8) + optionNameStart + "compass_text_img.setProperty(hmUI.prop.TEXT, " + optionNameStart + "compass_direction_angle_text);" + Environment.NewLine;
                            compass_error += TabInString(8) + optionNameStart + "compass_text_img.setProperty(hmUI.prop.TEXT, '-');" + Environment.NewLine;

                            if (resume_call.IndexOf("compass.start()") < 0)
                                resume_call += TabInString(8) + "if (compass && screenType == hmSetting.screen_type.WATCHFACE) compass.start();" + Environment.NewLine;
                            if (pause_call.IndexOf("compass.stop()") < 0)
                                pause_call += TabInString(8) + "if (compass) compass.stop();" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "compass_separator_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) +
                                    optionNameStart + "compass_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(6) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Font
                        if (index == numberFontPosition && numberFontOptions.Length > 5)
                        {
                            if (SelectedModel.versionOS >= 2 && Compass.Number_Font.font != null && Compass.Number_Font.font.Length > 3)
                            {
                                string cacheName = "// FontName: " + Compass.Number_Font.font + "; FontSize: " + Compass.Number_Font.text_size.ToString();
                                if (Compass.Number_Font.unit_type > 0)
                                    cacheName = "// FontName: " + Compass.Number_Font.font + "; FontSize: " + Compass.Number_Font.text_size.ToString() + "; Cache: full";
                                if (fonts_cache.IndexOf(cacheName) < 0)
                                {
                                    bool fullCache = Compass.Number_Font.unit_type > 0;
                                    string fontCacheOptions = TEXT_Cache_Options(Compass.Number_Font, fullCache);
                                    if (fontCacheOptions.Length > 5)
                                    {
                                        fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                        fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                            TabInString(6) + "});" + Environment.NewLine;
                                    }
                                }
                            }

                            variables += TabInString(4) + "let " + optionNameStart +
                                "compass_text_font = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "compass_text_font = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    numberFontOptions + TabInString(6) + "});" + Environment.NewLine;

                            compass_update += TabInString(8) + "// Compass Font" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;

                            if (Compass.Number_Font.padding)
                                compass_update += TabInString(8) + "let " + optionNameStart + "compass_direction_angle_font = compass_direction_angle.toString().padStart(3, '0');" + Environment.NewLine;
                            else compass_update += TabInString(8) + "let " + optionNameStart + "compass_direction_angle_font = compass_direction_angle.toString();" + Environment.NewLine;

                            if (Compass.Number_Font.unit_type > 0)
                            {
                                if (compass_update.IndexOf("let compass_font_unit") < 0) compass_update += TabInString(8) + "let compass_font_unit = '°';" + Environment.NewLine;

                                if (Compass.Number_Font.unit_type == 2)
                                {
                                    if (compass_update.IndexOf("let compass_direction_index") < 0)
                                    {
                                        compass_update += TabInString(8) + "let compass_direction_angle_img = compass_direction_angle + 45 / 2;" + Environment.NewLine;
                                        compass_update += TabInString(8) + "let compass_direction_index = parseInt(compass_direction_angle_img/45);" + Environment.NewLine;
                                        compass_update += TabInString(8) + "if (compass_direction_index > 7) compass_direction_index = 0;" + Environment.NewLine; 
                                    }

                                    if (compass_update.IndexOf("let compass_direction_font") < 0)
                                    {
                                        compass_update += TabInString(8) + "let compass_direction_font = '';" + Environment.NewLine;
                                        compass_update += TabInString(8) + "switch (compass_direction_index) {" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 0:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' N';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 1:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' NE';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 2:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' E';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 3:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' SE';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 4:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' S';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 5:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' SW';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 6:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' W';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(9) + "case 7:" + Environment.NewLine;
                                        compass_update += TabInString(10) + "compass_direction_font += ' NW';" + Environment.NewLine;
                                        compass_update += TabInString(10) + "break;" + Environment.NewLine;

                                        compass_update += TabInString(8) + "};" + Environment.NewLine;
                                        compass_update += TabInString(8) + "compass_font_unit += compass_direction_font;" + Environment.NewLine;
                                    }
                                }
                                compass_update += TabInString(8) + optionNameStart + "compass_direction_angle_font += compass_font_unit;" + Environment.NewLine;
                            } 
                            
                            compass_update += TabInString(8) + optionNameStart + "compass_text_font.setProperty(hmUI.prop.TEXT, " + optionNameStart + "compass_direction_angle_font);" + Environment.NewLine;
                            compass_error += TabInString(8) + optionNameStart + "compass_text_font.setProperty(hmUI.prop.TEXT, '-');" + Environment.NewLine;

                            if (resume_call.IndexOf("compass.start()") < 0)
                                resume_call += TabInString(8) + "if (compass && screenType == hmSetting.screen_type.WATCHFACE) compass.start();" + Environment.NewLine;
                            if (pause_call.IndexOf("compass.stop()") < 0)
                                pause_call += TabInString(8) + "if (compass) compass.stop();" + Environment.NewLine;
                        }

                        // Text_Rotate
                        if (text_rotate != null && index == textRotatePosition && textRotateOptions.Length > 5)
                        {
                            string variableStartName = optionNameStart + "compass_";
                            int valueLenght = 3;
                            Bitmap src = null;
                            int image_index = ListImages.IndexOf(text_rotate.img_First);
                            src = OpenFileStream(ListImagesFullName[image_index]);
                            int img_width = src.Width;
                            int img_height = src.Height;

                            variables += TabInString(4) + "let " + variableStartName + "TextRotate = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextRotate_ASCIIARRAY = new Array(10);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
                            //variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) +
                                "// " + variableStartName + "text_rotate_img = hmUI.createWidget(hmUI.widget.Text_Rotate, {" +
                                    textRotateOptions + TabInString(6) + "// });" + Environment.NewLine;

                            image_index = ListImages.IndexOf(text_rotate.img_First);
                            for (int i = 0; i < 10; i++)
                            {
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_ASCIIARRAY[" +
                                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
                            }
                            items += Environment.NewLine;

                            img_height = SelectedModel.background.h;
                            img_width = SelectedModel.background.w;

                            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i] = hmUI.createWidget(hmUI.widget.IMG, {";
                            items += Environment.NewLine + TabInString(8) + "x: 0,";
                            items += Environment.NewLine + TabInString(8) + "y: 0,";
                            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_x: " + text_rotate.imageX.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_y: " + text_rotate.imageY.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "angle: " + text_rotate.angle.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "src: '" + text_rotate.img_First + ".png',";
                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(7) + "});";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i].setProperty(hmUI.prop.VISIBLE, false);";
                            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

                            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_rotate.unit);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int unit_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit = null;" + Environment.NewLine;
                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                                items += Environment.NewLine + TabInString(7) + "x: 0,";
                                items += Environment.NewLine + TabInString(7) + "y: 0,";
                                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_x: " + text_rotate.imageX.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_y: " + text_rotate.imageY.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "angle: " + text_rotate.angle.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "src: '" + text_rotate.unit + ".png',";
                                if (show_level.Length > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                                }
                                items += Environment.NewLine + TabInString(6) + "});";
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

                            }
                            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

                            if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_rotate.invalid_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextRotate_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }

                            compass_update += Environment.NewLine + TabInString(8) + "// Compass Text_Rotate" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;
                            string valueName = "compass_direction_angle";

                            compass_update += TabInString(8) + "let " + variableStartName + "rotate_string = " + valueName + ".toString();" + Environment.NewLine;
                            if (text_rotate.zero)
                                compass_update += TabInString(8) + variableStartName + "rotate_string = " + variableStartName + "rotate_string.padStart(" +
                                    valueLenght.ToString() + ", '0');" + Environment.NewLine;


                            if (optionNameStart == "normal_")
                            {
                                //compass_update += Environment.NewLine + TabInString(8) +
                                //    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                compass_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", false, "Compass", valueLenght) + Environment.NewLine;
                                //compass_update += TabInString(8) + "};" + Environment.NewLine;

                                if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
                                {
                                    compass_error += TabInString(8) + "// Compass Text_Rotate" + Environment.NewLine;
                                    switch (text_rotate.align)
                                    {
                                        case "CENTER_H":
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                                            break;
                                        case "RIGHT":
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                                            break;
                                        default:
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + ");" + Environment.NewLine;
                                            break;
                                    }

                                    compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.SRC, '" +
                                        text_rotate.invalid_image + ".png');" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                                }
                            }
                            else
                            {
                                //compass_update += Environment.NewLine + TabInString(8) +
                                //    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                compass_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", false, "Compass", valueLenght) + Environment.NewLine;
                                //compass_update += TabInString(8) + "};" + Environment.NewLine;

                                if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
                                {
                                    compass_error += TabInString(8) + "// Compass Text_Rotate" + Environment.NewLine;
                                    switch (text_rotate.align)
                                    {
                                        case "CENTER_H":
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                                            break;
                                        case "RIGHT":
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                                            break;
                                        default:
                                            compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                                                text_rotate.imageX.ToString() + ");" + Environment.NewLine;
                                            break;
                                    }

                                    compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.SRC, '" +
                                        text_rotate.invalid_image + ".png');" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                                }
                            }
                        }

                        // Text_Circle
                        if (text_rotate != null && index == textCirclePosition && textCircleOptions.Length > 5)
                        {
                            string variableStartName = optionNameStart + "compass_";
                            int valueLenght = 3;
                            Bitmap src = null;
                            int image_index = ListImages.IndexOf(text_circle.img_First);
                            src = OpenFileStream(ListImagesFullName[image_index]);
                            int img_width = src.Width;
                            int img_height = src.Height;

                            int radius = text_circle.radius;
                            if (!text_circle.reverse_direction)
                            {
                                if (text_circle.vertical_alignment == "CENTER_V") radius += img_height / 2;
                                if (text_circle.vertical_alignment == "BOTTOM") radius += img_height;
                            }
                            else
                            {
                                if (text_circle.vertical_alignment == "CENTER_V") radius -= img_height / 2;
                                if (text_circle.vertical_alignment == "BOTTOM") radius -= img_height;
                                radius = -radius;
                            }

                            variables += TabInString(4) + "let " + variableStartName + "TextCircle = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_ASCIIARRAY = new Array(10);" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
                            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) +
                                "// " + variableStartName + "text_circle_img = hmUI.createWidget(hmUI.widget.Text_Circle, {" +
                                    textCircleOptions + TabInString(6) + "// });" + Environment.NewLine;

                            image_index = ListImages.IndexOf(text_circle.img_First);
                            for (int i = 0; i < 10; i++)
                            {
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_ASCIIARRAY[" +
                                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
                            }
                            items += Environment.NewLine;

                            img_height = SelectedModel.background.h;
                            img_width = SelectedModel.background.w;

                            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i] = hmUI.createWidget(hmUI.widget.IMG, {";
                            items += Environment.NewLine + TabInString(8) + "x: 0,";
                            items += Environment.NewLine + TabInString(8) + "y: 0,";
                            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_img_width / 2,";
                            if (radius > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
                            }
                            else
                            {
                                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                            }
                            items += Environment.NewLine + TabInString(8) + "src: '" + text_circle.img_First + ".png',";
                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(7) + "});";
                            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i].setProperty(hmUI.prop.VISIBLE, false);";
                            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

                            if (text_circle.unit != null && text_circle.unit.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_circle.unit);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int unit_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit = null;" + Environment.NewLine;
                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                                items += Environment.NewLine + TabInString(7) + "x: 0,";
                                items += Environment.NewLine + TabInString(7) + "y: 0,";
                                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_unit_width / 2,";
                                if (radius > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
                                }
                                else
                                {
                                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                                }
                                items += Environment.NewLine + TabInString(7) + "src: '" + text_circle.unit + ".png',";
                                if (show_level.Length > 0)
                                {
                                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                                }
                                items += Environment.NewLine + TabInString(6) + "});";
                                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;
                            }
                            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

                            //if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
                            //{
                            //    image_index = ListImages.IndexOf(text_circle.dot_image);
                            //    src = OpenFileStream(ListImagesFullName[image_index]);
                            //    int dot_width = src.Width;

                            //    variables += TabInString(4) + "let " + variableStartName + "TextCircle_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            //}

                            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
                            {
                                image_index = ListImages.IndexOf(text_circle.error_image);
                                src = OpenFileStream(ListImagesFullName[image_index]);
                                int dot_width = src.Width;

                                variables += TabInString(4) + "let " + variableStartName + "TextCircle_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
                            }

                            compass_update += Environment.NewLine + TabInString(8) + "// Compass Text_Circle" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;
                            string valueName = "compass_direction_angle";

                            compass_update += TabInString(8) + "let " + variableStartName + "circle_string = " + valueName + ".toString();" + Environment.NewLine;
                            if (text_circle.zero)
                                compass_update += TabInString(8) + variableStartName + "circle_string = " + variableStartName + "circle_string.padStart(" +
                                    valueLenght.ToString() + ", '0');" + Environment.NewLine;

                            

                            if (items.IndexOf("function toDegree (radian) {") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "function toDegree (radian) {" + Environment.NewLine;
                                items += TabInString(7) + "return radian * (180 / Math.PI);" + Environment.NewLine;
                                items += TabInString(6) + "};" + Environment.NewLine;
                            }


                            if (optionNameStart == "normal_")
                            {
                                //compass_update += Environment.NewLine + TabInString(8) +
                                //    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                compass_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", false, "Compass", valueLenght) + Environment.NewLine;
                                //compass_update += TabInString(8) + "};" + Environment.NewLine;

                                if (text_circle.error_image != null && text_circle.error_image.Length > 0)
                                {
                                    compass_error += TabInString(8) + "// Compass Text_Circle" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                                        " - " + optionNameStart + "TextCircle_error_img_width / 2);" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.SRC, '" +
                                        text_circle.error_image + ".png');" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                                }
                            }
                            else
                            {
                                //compass_update += Environment.NewLine + TabInString(8) +
                                //    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                                compass_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", false, "Compass", valueLenght) + Environment.NewLine;
                                //compass_update += TabInString(8) + "};" + Environment.NewLine;

                                if (text_circle.error_image != null && text_circle.error_image.Length > 0)
                                {
                                    compass_error += TabInString(8) + "// Compass Text_Circle" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                                        " - " + optionNameStart + "TextCircle_error_img_width / 2);" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.SRC, '" +
                                        text_circle.error_image + ".png');" + Environment.NewLine;
                                    compass_error += TabInString(8) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                                }
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "compass_direction_pointer_img = ''" + Environment.NewLine;

                            if (items.IndexOf("const deviceInfo = hmSetting.getDeviceInfo();") < 0)
                                items += Environment.NewLine + TabInString(6) + "const deviceInfo = hmSetting.getDeviceInfo();";

                            items += Environment.NewLine + TabInString(6) + readOptionsCustomPointer  + Environment.NewLine;

                            items += Environment.NewLine + TabInString(6) + "//start of ignored block";

                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "compass_direction_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    pointerOptions + TabInString(6) + "});" + Environment.NewLine;

                            compass_update += TabInString(8) + "// Compass Pointer" + Environment.NewLine;
                            if (compass_update.IndexOf("compass_direction_angle = parseInt") < 0)
                                compass_update += TabInString(8) + "let compass_direction_angle = parseInt(compass.direction_angle);" + Environment.NewLine;

                            compass_update += TabInString(8) + optionNameStart + "compass_direction_pointer_img.setProperty(hmUI.prop.ANGLE, -compass_direction_angle);" + Environment.NewLine;
                            compass_error += TabInString(8) + optionNameStart + "compass_direction_pointer_img.setProperty(hmUI.prop.ANGLE, 0);" + Environment.NewLine;

                            if (resume_call.IndexOf("compass.start()") < 0) 
                                resume_call += TabInString(8) + "if (compass && screenType == hmSetting.screen_type.WATCHFACE) compass.start();" + Environment.NewLine;
                            if (pause_call.IndexOf("compass.stop()") < 0) 
                                pause_call += TabInString(8) + "if (compass) compass.stop();" + Environment.NewLine;

                            if (coverPointer.Length > 5)
                            {
                                variables += TabInString(4) + "let " + optionNameStart +
                                    "compass_direction_cover_pointer_img = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "compass_direction_cover_pointer_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    coverPointer + TabInString(6) + "});" + Environment.NewLine;
                            }

                            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "compass_icon_img = ''" + Environment.NewLine;
                            items += Environment.NewLine + TabInString(6) +
                                optionNameStart + "compass_icon_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(6) + "});" + Environment.NewLine;

                            if (Compass.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                                    "compass_icon_img.setAlpha(" + Compass.Icon.alpha.ToString() + ");" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementAnimation
                case "ElementAnimation":
                    ElementAnimation Anim = (ElementAnimation)element;

                    if (!Anim.visible) return;
                    for (int index = 1; index <= 3; index++)
                    {
                        // покадровая анимация
                        if (Anim.Frame_Animation_List != null && Anim.Frame_Animation_List.position == index && 
                            Anim.Frame_Animation_List.visible && Anim.Frame_Animation_List.Frame_Animation != null)
                        {
                            int fps_index = 1;
                            foreach (hmUI_widget_IMG_ANIM anim_fps in Anim.Frame_Animation_List.Frame_Animation)
                            {
                                if (anim_fps.anim_prefix != null && anim_fps.anim_prefix != "-")
                                {
                                    string animFpsOptions = IMG_ANIM_Options(anim_fps, show_level);

                                    if (animFpsOptions.Length > 5)
                                    {
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "frame_animation_" + fps_index.ToString() + " = ''" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "frame_animation_" + fps_index.ToString() + " = hmUI.createWidget(hmUI.widget.IMG_ANIM, {" +
                                                animFpsOptions + TabInString(6) + "});" + Environment.NewLine;

                                        resume_call += TabInString(8) + optionNameStart + "frame_animation_" + fps_index.ToString() +
                                            ".setProperty(hmUI.prop.ANIM_STATUS,hmUI.anim_status.START);" + Environment.NewLine;
                                        pause_call += TabInString(8) + optionNameStart + "frame_animation_" + fps_index.ToString() +
                                            ".setProperty(hmUI.prop.ANIM_STATUS,hmUI.anim_status.STOP);" + Environment.NewLine;
                                    }
                                    fps_index++;
                                }
                            }
                        }

                        // анимация движения
                        if (Anim.Motion_Animation_List != null && Anim.Motion_Animation_List.position == index &&
                            Anim.Motion_Animation_List.visible && Anim.Motion_Animation_List.Motion_Animation != null)
                        {
                            int anim_motion_index = 1;
                            foreach (Motion_Animation anim_motion in Anim.Motion_Animation_List.Motion_Animation)
                            {
                                string animMotionOptions = Motion_Animation_Img(anim_motion, show_level, 0);

                                if (animMotionOptions.Length > 5)
                                {
                                    string indexStr = anim_motion_index.ToString();
                                    // объявлаем переменные и изображение для перемещения
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "motion_animation_img_" + indexStr + " = '';" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "motion_animation_img_" + indexStr + " = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            animMotionOptions + TabInString(6) + "});" + Environment.NewLine;

                                    // создаем свойства для анимации
                                    string anim_x = Motion_Animation_Options(anim_motion, true, false);
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "motion_animation_paramX_" + indexStr + " = null;" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "motion_animation_paramX_" + indexStr + " = {" +
                                            anim_x + TabInString(6) + "};" + Environment.NewLine;

                                    string anim_y = Motion_Animation_Options(anim_motion, false, false);

                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "motion_animation_paramY_" + indexStr + " = null;" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "motion_animation_paramY_" + indexStr + " = {" +
                                            anim_y + TabInString(6) + "};" + Environment.NewLine;

                                    // переменные для отслеживания времени анимации
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "motion_animation_lastTime_" + indexStr + " = 0;" + Environment.NewLine;
                                    variables += TabInString(4) + "let " +  "timer_anim_motion_" + indexStr + ";" + Environment.NewLine;
                                    if (anim_motion.anim_two_sides)
                                    {
                                        variables += TabInString(4) + "let " + "timer_anim_motion_" + indexStr +
                                                                        "_mirror = false;" + Environment.NewLine; 
                                    }
                                    if (items.IndexOf("let now = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                        items += Environment.NewLine + TabInString(6) + "let now = hmSensor.createSensor(hmSensor.id.TIME);" + Environment.NewLine;
                                    
                                    // создаем свойства для зеркальной анимации
                                    if (anim_motion.anim_two_sides)
                                    {
                                        anim_x = Motion_Animation_Options(anim_motion, true, true);
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "motion_animation_paramX_" + indexStr + "_mirror = null;" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "motion_animation_paramX_" + indexStr + "_mirror = {" +
                                                anim_x + TabInString(6) + "};" + Environment.NewLine;

                                        anim_y = Motion_Animation_Options(anim_motion, false, true);
                                        /*if (anim_rotate.repeat_count > 0) anim_y += TabInString(7) +
                                                "anim_complete_call: anim_motion_" + indexStr + "_complete_call," +
                                                Environment.NewLine;*/

                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "motion_animation_paramY_" + indexStr + "_mirror = null;" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "motion_animation_paramY_" + indexStr + "_mirror = {" +
                                                anim_y + TabInString(6) + "};" + Environment.NewLine; 
                                    }

                                    // функция вызова зеркального движения
                                    if (anim_motion.anim_two_sides)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "function anim_motion_" + indexStr + "_mirror" + "() {" + Environment.NewLine;

                                        items += TabInString(7) + optionNameStart + "motion_animation_img_" + indexStr + ".setProperty(hmUI.prop.ANIM, " + 
                                            optionNameStart + "motion_animation_paramX_" + indexStr + "_mirror);" + Environment.NewLine;
                                        items += TabInString(7) + optionNameStart + "motion_animation_img_" + indexStr + ".setProperty(hmUI.prop.ANIM, " + 
                                            optionNameStart + "motion_animation_paramY_" + indexStr + "_mirror);" + Environment.NewLine;
                                        items += TabInString(7) + optionNameStart + "motion_animation_lastTime_" + indexStr + " = now.utc;" + Environment.NewLine;

                                        items += TabInString(7) + optionNameStart + "motion_animation_count_" + indexStr + " = " + optionNameStart +
                                            "motion_animation_count_" + indexStr + " - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(normal_motion_animation_count_" + indexStr +
                                            " < -1) normal_motion_animation_count_" + indexStr + " = - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(" + optionNameStart + "motion_animation_count_" +
                                            indexStr + " == 0) stop_anim_motion_" + indexStr + "();" + Environment.NewLine;

                                        items += TabInString(6) + "}; // end animation_mirror callback function" + Environment.NewLine;
                                    }

                                    // функция вызова повтора анимации
                                    items += Environment.NewLine + TabInString(6) +
                                        "function anim_motion_" + indexStr + "_complete_call" + "() {" + Environment.NewLine;

                                    items += TabInString(7) + optionNameStart + "motion_animation_img_" + indexStr + ".setProperty(hmUI.prop.ANIM, " +
                                        optionNameStart + "motion_animation_paramX_" + indexStr + ");" + Environment.NewLine;
                                    items += TabInString(7) + optionNameStart + "motion_animation_img_" + indexStr + ".setProperty(hmUI.prop.ANIM, " +
                                        optionNameStart + "motion_animation_paramY_" + indexStr + ");" + Environment.NewLine;
                                    items += TabInString(8) + optionNameStart + "motion_animation_lastTime_" + indexStr + " = now.utc;" + Environment.NewLine;

                                    if (!anim_motion.anim_two_sides)
                                    {
                                        items += TabInString(7) + optionNameStart + "motion_animation_count_" + indexStr + " = " + optionNameStart +
                                                                      "motion_animation_count_" + indexStr + " - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(normal_motion_animation_count_" + indexStr +
                                            " < -1) normal_motion_animation_count_" + indexStr + " = - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(" + optionNameStart + "motion_animation_count_" +
                                            indexStr + " == 0) stop_anim_motion_" + indexStr + "();" + Environment.NewLine; 
                                    }

                                    items += TabInString(6) + "}; // end animation callback function" + Environment.NewLine;
                                    items += TabInString(6) + Environment.NewLine;

                                    // функция остановки таймера
                                    items += TabInString(6) + "function stop_anim_motion_" +
                                        indexStr + "() {" + Environment.NewLine;
                                    items += TabInString(7) + "if (timer_anim_motion_" +
                                        indexStr + ") {" + Environment.NewLine;
                                    items += TabInString(8) + "timer.stopTimer(timer_anim_motion_" +
                                        indexStr + ");" + Environment.NewLine;
                                    items += TabInString(8) + "timer_anim_motion_" +
                                        indexStr + " = undefined;" + Environment.NewLine;
                                    items += TabInString(7) + "};" + Environment.NewLine;
                                    items += TabInString(6) + "}; // end stop_anim_motion function" + Environment.NewLine;

                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "motion_animation_count_" + indexStr + " = " +
                                        anim_motion.repeat_count.ToString() + ";" + Environment.NewLine;

                                    //resume_call += TabInString(8) + "let nawAnimationTime = now.utc;" + Environment.NewLine;
                                    if (resume_call.IndexOf("let nawAnimationTime = now.utc;") < 0)
                                        resume_call += Environment.NewLine + TabInString(8) + "let nawAnimationTime = now.utc;;" + Environment.NewLine;
                                    resume_call += TabInString(8) + Environment.NewLine;

                                    resume_call += TabInString(8) + "let delay_anim_motion_" + indexStr + " = 0;" + Environment.NewLine;
                                    resume_call += TabInString(8) + "let repeat_anim_motion_" +
                                            indexStr + " = " + anim_motion.anim_duration.ToString() + ";" + Environment.NewLine;
                                    resume_call += TabInString(8) + "delay_anim_motion_" + indexStr + " = repeat_anim_motion_" +
                                        indexStr + " - (nawAnimationTime - normal_motion_animation_lastTime_" + indexStr + ");" + Environment.NewLine;
                                    resume_call += TabInString(8) + "if(delay_anim_motion_" + indexStr + " < 0) delay_anim_motion_" + indexStr + " = 0; " + Environment.NewLine;
                                    if (anim_motion.anim_two_sides)
                                    {
                                        resume_call += TabInString(8) + "if((nawAnimationTime - normal_motion_animation_lastTime_" +
                                                                        indexStr + ") > repeat_anim_motion_" + indexStr + "*2) {" + Environment.NewLine; 
                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if((nawAnimationTime - normal_motion_animation_lastTime_" +
                                                                        indexStr + ") > repeat_anim_motion_" + indexStr + ") {" + Environment.NewLine;
                                    }
                                    resume_call += TabInString(9) + "normal_motion_animation_count_" + indexStr + " = " + 
                                        anim_motion.repeat_count.ToString() + ";" + Environment.NewLine;
                                    resume_call += TabInString(9) + "timer_anim_motion_" + indexStr + "_mirror = false;" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};" + Environment.NewLine + Environment.NewLine;

                                    resume_call += TabInString(8) + "if (!timer_anim_motion_" + indexStr + ") {" + Environment.NewLine;
                                    resume_call += TabInString(9) + "timer_anim_motion_" + indexStr + " = timer.createTimer(delay_anim_motion_" + 
                                        indexStr + ", repeat_anim_motion_" + indexStr + ", (function (option) {" + Environment.NewLine;

                                    if (anim_motion.anim_two_sides)
                                    {
                                        resume_call += TabInString(10) + "if(timer_anim_motion_" + indexStr + "_mirror) {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "anim_motion_" + indexStr + "_mirror()" + Environment.NewLine;
                                        resume_call += TabInString(10) + "} else {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "anim_motion_" + indexStr + "_complete_call()" + Environment.NewLine;
                                        resume_call += TabInString(10) + "};" + Environment.NewLine;
                                        resume_call += TabInString(10) + "timer_anim_motion_" + indexStr + "_mirror = !timer_anim_motion_" +
                                            indexStr + "_mirror;" + Environment.NewLine;
                                    }
                                    else
                                    {

                                        resume_call += TabInString(10) + "anim_motion_" + indexStr + "_complete_call()" + Environment.NewLine;
                                    }

                                    resume_call += TabInString(9) + "})); // end timer create" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};" + Environment.NewLine;


                                    pause_call += TabInString(8) + "stop_anim_motion_" + indexStr + "();" + Environment.NewLine;
                                    
                                    animMotionOptions = Motion_Animation_OptionsForRead(anim_motion, optionNameStart, 
                                        show_level, anim_motion_index);
                                    items += animMotionOptions;
                                }
                                anim_motion_index++;
                            }
                        }

                        // анимация вращения
                        if (Anim.Rotate_Animation_List != null && Anim.Rotate_Animation_List.position == index &&
                            Anim.Rotate_Animation_List.visible && Anim.Rotate_Animation_List.Rotate_Animation != null)
                        {
                            int anim_rotate_index = 1;
                            foreach (Rotate_Animation anim_rotate in Anim.Rotate_Animation_List.Rotate_Animation)
                            {
                                string animRotateOptions = Rotate_Animation_Img(anim_rotate, show_level, 0);

                                if (animRotateOptions.Length > 5)
                                {
                                    string indexStr = anim_rotate_index.ToString();
                                    // объявлаем переменные и изображение для перемещения
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "rotate_animation_img_" + indexStr + " = '';" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "rotate_animation_img_" + indexStr + " = hmUI.createWidget(hmUI.widget.IMG, {" +
                                            animRotateOptions + TabInString(6) + "});" + Environment.NewLine;

                                    // создаем свойства для анимации
                                    string anim_angl = Rotate_Animation_Options(anim_rotate, false);
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "rotate_animation_param_" + indexStr + " = null;" + Environment.NewLine;
                                    items += Environment.NewLine + TabInString(6) +
                                        optionNameStart + "rotate_animation_param_" + indexStr + " = {" +
                                            anim_angl + TabInString(6) + "};" + Environment.NewLine;

                                    // переменные для отслеживания времени анимации
                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "rotate_animation_lastTime_" + indexStr + " = 0;" + Environment.NewLine;
                                    variables += TabInString(4) + "let " + "timer_anim_rotate_" + indexStr + ";" + Environment.NewLine;
                                    if (anim_rotate.anim_two_sides)
                                    {
                                        variables += TabInString(4) + "let " + "timer_anim_rotate_" + indexStr +
                                            "_mirror = false;" + Environment.NewLine;
                                    }
                                    if (items.IndexOf("let now = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                                        items += Environment.NewLine + TabInString(6) + "let now = hmSensor.createSensor(hmSensor.id.TIME);" + Environment.NewLine;
                                    

                                    // создаем свойства для зеркальной анимации
                                    if (anim_rotate.anim_two_sides)
                                    {
                                        anim_angl = Rotate_Animation_Options(anim_rotate, true);
                                        variables += TabInString(4) + "let " + optionNameStart +
                                            "rotate_animation_param_" + indexStr + "_mirror = null;" + Environment.NewLine;
                                        items += Environment.NewLine + TabInString(6) +
                                            optionNameStart + "rotate_animation_param_" + indexStr + "_mirror = {" +
                                                anim_angl + TabInString(6) + "};" + Environment.NewLine;
                                    }

                                    // функция вызова зеркального движения
                                    if (anim_rotate.anim_two_sides)
                                    {
                                        items += Environment.NewLine + TabInString(6) + "function anim_rotate_" + indexStr + "_mirror" + "() {" + Environment.NewLine;
                                        items += TabInString(7) + optionNameStart + "rotate_animation_img_" + indexStr + ".setProperty(hmUI.prop.ANIM, " + 
                                            optionNameStart + "rotate_animation_param_" + indexStr + "_mirror);" + Environment.NewLine;
                                        items += TabInString(7) + optionNameStart + "rotate_animation_lastTime_" + indexStr + " = now.utc;" + Environment.NewLine;

                                        items += TabInString(7) + optionNameStart + "rotate_animation_count_" + indexStr + " = " + optionNameStart +
                                            "rotate_animation_count_" + indexStr + " - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(normal_rotate_animation_count_" + indexStr +
                                            " < -1) normal_rotate_animation_count_" + indexStr + " = - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(" + optionNameStart + "rotate_animation_count_" +
                                            indexStr + " == 0) stop_anim_rotate_" + indexStr + "();" + Environment.NewLine;

                                        items += Environment.NewLine + TabInString(6) + "}; // end animation_mirror callback function" + Environment.NewLine;
                                    }

                                    // функция вызова повтора анимации
                                    //if (anim_rotate.repeat_count > 0) // если ограничено число повторений
                                    //{
                                    items += Environment.NewLine + TabInString(6) +
                                        "function anim_rotate_" + indexStr + "_complete_call" + "() {" + Environment.NewLine;

                                    items += TabInString(7) + optionNameStart + "rotate_animation_img_" + indexStr + 
                                        ".setProperty(hmUI.prop.ANIM, " + optionNameStart + "rotate_animation_param_" + indexStr + ");" + Environment.NewLine;
                                    items += TabInString(7) + optionNameStart + "rotate_animation_lastTime_" + indexStr + " = now.utc;" + Environment.NewLine;

                                    if (!anim_rotate.anim_two_sides)
                                    {
                                        items += TabInString(7) + optionNameStart + "rotate_animation_count_" + indexStr + " = " + optionNameStart +
                                                                   "rotate_animation_count_" + indexStr + " - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(normal_rotate_animation_count_" + indexStr +
                                            " < -1) normal_rotate_animation_count_" + indexStr + " = - 1;" + Environment.NewLine;
                                        items += TabInString(7) + "if(" + optionNameStart + "rotate_animation_count_" +
                                            indexStr + " == 0) stop_anim_rotate_" +
                                            indexStr + "();" + Environment.NewLine; 
                                    }

                                    items += TabInString(6) + "}; // end animation callback function" + Environment.NewLine;
                                    items += TabInString(6) + Environment.NewLine;

                                    // функция остановки таймера
                                    items += TabInString(6) + "function stop_anim_rotate_" +
                                        indexStr + "() {" + Environment.NewLine;
                                    items += TabInString(7) + "if (timer_anim_rotate_" +
                                        indexStr + ") {" + Environment.NewLine;
                                    items += TabInString(8) + "timer.stopTimer(timer_anim_rotate_" +
                                        indexStr + ");" + Environment.NewLine;
                                    items += TabInString(8) + "timer_anim_rotate_" +
                                        indexStr + " = undefined;" + Environment.NewLine;
                                    items += TabInString(7) + "};" + Environment.NewLine;
                                    items += TabInString(6) + "}; // end stop_anim_rotate function" + Environment.NewLine;

                                    variables += TabInString(4) + "let " + optionNameStart +
                                        "rotate_animation_count_" + indexStr + " = " +
                                        anim_rotate.repeat_count.ToString() + ";" + Environment.NewLine;

                                    if (resume_call.IndexOf("let nawAnimationTime = now.utc;") < 0)
                                        resume_call += Environment.NewLine + TabInString(8) + "let nawAnimationTime = now.utc;;" + Environment.NewLine;
                                    resume_call += TabInString(8) + Environment.NewLine;

                                    resume_call += TabInString(8) + "let delay_anim_rotate_" + indexStr + " = 0;" + Environment.NewLine;
                                    resume_call += TabInString(8) + "let repeat_anim_rotate_" +
                                            indexStr + " = " + anim_rotate.anim_duration.ToString() + ";" + Environment.NewLine;
                                    resume_call += TabInString(8) + "delay_anim_rotate_" + indexStr + " = repeat_anim_rotate_" +
                                        indexStr + " - (nawAnimationTime - normal_rotate_animation_lastTime_" + indexStr + ");" + Environment.NewLine;
                                    resume_call += TabInString(8) + "if(delay_anim_rotate_" + indexStr + " < 0) delay_anim_rotate_" + indexStr + " = 0; " + Environment.NewLine;
                                    if (anim_rotate.anim_two_sides)
                                    {
                                        resume_call += TabInString(8) + "if((nawAnimationTime - normal_rotate_animation_lastTime_" +
                                            indexStr + ") > repeat_anim_rotate_" + indexStr + "*2) {" + Environment.NewLine;
                                    }
                                    else
                                    {
                                        resume_call += TabInString(8) + "if((nawAnimationTime - normal_rotate_animation_lastTime_" +
                                            indexStr + ") > repeat_anim_rotate_" + indexStr + ") {" + Environment.NewLine;
                                    }
                                    resume_call += TabInString(9) + "normal_rotate_animation_count_" + indexStr + " = " +
                                        anim_rotate.repeat_count.ToString() + ";" + Environment.NewLine;
                                    resume_call += TabInString(9) + "timer_anim_rotate_" + indexStr + "_mirror = false;" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};" + Environment.NewLine + Environment.NewLine;

                                    resume_call += TabInString(8) + "if (!timer_anim_rotate_" + indexStr + ") {" + Environment.NewLine;
                                    resume_call += TabInString(9) + "timer_anim_rotate_" + indexStr + " = timer.createTimer(delay_anim_rotate_" +
                                        indexStr + ", repeat_anim_rotate_" + indexStr + ", (function (option) {" + Environment.NewLine;

                                    if (anim_rotate.anim_two_sides)
                                    {
                                        resume_call += TabInString(10) + "if(timer_anim_rotate_" + indexStr + "_mirror) {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "anim_rotate_" + indexStr + "_mirror()" + Environment.NewLine;
                                        resume_call += TabInString(10) + "} else {" + Environment.NewLine;
                                        resume_call += TabInString(11) + "anim_rotate_" + indexStr + "_complete_call()" + Environment.NewLine;
                                        resume_call += TabInString(10) + "};" + Environment.NewLine;
                                        resume_call += TabInString(10) + "timer_anim_rotate_" + indexStr + "_mirror = !timer_anim_rotate_" +
                                            indexStr + "_mirror;" + Environment.NewLine;
                                    }
                                    else
                                    {

                                        resume_call += TabInString(10) + "anim_rotate_" + indexStr + "_complete_call()" + Environment.NewLine;
                                    }

                                    resume_call += TabInString(9) + "})); // end timer create" + Environment.NewLine;
                                    resume_call += TabInString(8) + "};" + Environment.NewLine;


                                    pause_call += TabInString(8) + "stop_anim_rotate_" + indexStr + "();" + Environment.NewLine;
                                    

                                    animRotateOptions = Rotate_Animation_OptionsForRead(anim_rotate, optionNameStart,
                                        show_level, anim_rotate_index);
                                    items += animRotateOptions;
                                }
                                anim_rotate_index++;
                            }
                        }
                    }
                    break;
                #endregion



                #region ElementButtons
                case "ElementButtons":
                    ElementButtons buttons = (ElementButtons)element;

                    if (!buttons.enable) return;
                    if (buttons.Button == null || buttons.Button.Count == 0) return;

                    int number = 1;
                    foreach (Button button in buttons.Button)
                    {
                        if (button != null && button.visible)
                        {
                            string optionsButton = Buttons_Options(button, show_level);
                            if (optionsButton.Length > 5)
                            {
                                string name = "Button_" + (number).ToString();
                                variables += TabInString(4) + "let " + name + " = ''" + Environment.NewLine;
                                items += Environment.NewLine + TabInString(6) + name +
                                    " = hmUI.createWidget(hmUI.widget.BUTTON, {" + optionsButton + TabInString(6) + "}); // end button" + Environment.NewLine;
                            } 
                        }
                        number++;
                    }
                    break;
                #endregion

                #region ElementScript
                case "ElementScript":
                    ElementScript script = (ElementScript)element;

                    if (script.enable && script.user_script)
                    {
                        string fileName = "user_script.js";
                        if (show_level == "ONLY_AOD") fileName = "AOD_" + fileName;
                        string fileScriptName = Path.Combine(ProjectDir, "JS", fileName);
                        if (File.Exists(fileScriptName))
                        {
                            Logger.WriteLine("Load JS/user_script.js");
                            try
                            {
                                string script_text = File.ReadAllText(fileScriptName);
                                if (script_text.Length > 5)
                                {
                                    items += Environment.NewLine + TabInString(6) + "console.log('" + fileName + "');" + Environment.NewLine;
                                    script_text = TabInString(6) + "// start " + fileName + Environment.NewLine +
                                        script_text + Environment.NewLine;
                                    script_text = script_text + TabInString(6) + "// end " + fileName + Environment.NewLine;
                                    items = items + script_text;
                                }
                            }
                            catch (Exception)
                            {
                            }
                        } 
                    }
                    break;
                    #endregion
            }
        }

        private void AddWeatherFewDays(Element_Weather_FewDays weatherFewDays, string show_level, string optionNameStart, ref string variables, 
            ref string items, ref string weather_few_days, ref string weather_few_days_end, ref string fonts_cache)
        {
            if (weatherFewDays == null) return;
            if (!weatherFewDays.visible) return;
            if (weatherFewDays.FewDays == null) return;
            //if (SelectedModel.versionOS < 3) return;

            //int offetX = weatherFewDays.FewDays.X;
            //int offetY = weatherFewDays.FewDays.Y;
            int daysCount = weatherFewDays.FewDays.DaysCount;
            int daysWidth = weatherFewDays.FewDays.ColumnWidth;
            int pointMaxSize = 0;
            int pointAverageSize = 0;
            int pointMinSize = 0;

            //bool graphFullScreen = true;
            //graphFullScreen = false;

            bool useMaxGraphOffset = (weatherFewDays.Diagram != null && weatherFewDays.Diagram.visible && weatherFewDays.Diagram.Use_max_diagram && weatherFewDays.Diagram.PositionOnGraph);
            bool useMinGraphOffset = (weatherFewDays.Diagram != null && weatherFewDays.Diagram.visible && weatherFewDays.Diagram.Use_min_diagram && weatherFewDays.Diagram.PositionOnGraph);
            bool useAverageGraphOffset = (weatherFewDays.Diagram != null && weatherFewDays.Diagram.visible && weatherFewDays.Diagram.Use_average_diagram && weatherFewDays.Diagram.PositionOnGraph);

            if (optionNameStart != "normal_" || SelectedModel.versionOS < 3)
            {
                useMaxGraphOffset = false;
                useMinGraphOffset = false;
                useAverageGraphOffset = false;
            }

            if (weatherFewDays.Diagram != null)
            {
                if (weatherFewDays.Diagram.Use_max_diagram)
                {
                    pointMaxSize = weatherFewDays.Diagram.Max_lineWidth;
                    if (weatherFewDays.Diagram.Max_pointType > 0 && weatherFewDays.Diagram.Max_pointSize > pointMaxSize)
                        pointMaxSize = weatherFewDays.Diagram.Max_pointSize;
                }
                if (weatherFewDays.Diagram.Use_average_diagram)
                {
                    pointAverageSize = weatherFewDays.Diagram.Average_lineWidth;
                    if (weatherFewDays.Diagram.Average_pointType > 0 && weatherFewDays.Diagram.Average_pointSize > pointAverageSize)
                        pointAverageSize = weatherFewDays.Diagram.Average_pointSize;
                }
                if (weatherFewDays.Diagram.Use_min_diagram)
                {
                    pointMinSize = weatherFewDays.Diagram.Min_lineWidth;
                    if (weatherFewDays.Diagram.Min_pointType > 0 && weatherFewDays.Diagram.Min_pointSize > pointMinSize)
                        pointMinSize = weatherFewDays.Diagram.Min_pointSize;
                }
            }
            int offsetDiagramPointY = (int)Math.Ceiling(pointMaxSize / 2f);
            int offsetDiagramY = 0;
            if (weatherFewDays.Diagram != null) offsetDiagramY = weatherFewDays.Diagram.Y;

            if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";

            AddWeatherFewDays_Options(weatherFewDays.FewDays, ref variables, ref items, optionNameStart, show_level);

            string strFor = "for (let i = 0; i < " + weatherFewDays.FewDays.DaysCount.ToString() + "; i++) {";
            string groupName = optionNameStart + "group_ForecastWeather";
            string screenType = optionNameStart == "normal_" ? "WATCHFACE" : "AOD";

            if (weatherFewDays.FewDays.Background != null && weatherFewDays.FewDays.Background.Length > 0)
            {
                variables += TabInString(4) + "let " + optionNameStart +
                                "forecast_background = ''" + Environment.NewLine;

                string options = Environment.NewLine;
                options += TabInString(8) + "x: 0," + Environment.NewLine;
                options += TabInString(8) + "y: 0," + Environment.NewLine;
                options += TabInString(8) + "src: '" + weatherFewDays.FewDays.Background + ".png'," + Environment.NewLine;
                if (show_level != null && show_level.Length > 0)
                {
                    options += TabInString(8) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }

                items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                items += Environment.NewLine + TabInString(7) +
                    optionNameStart + "forecast_background = " + groupName + ".createWidget(hmUI.widget.IMG, {" + options + TabInString(7) + "});";
                items += Environment.NewLine + TabInString(6) + "};";
                items += Environment.NewLine + TabInString(6) + "//end of ignored block";
            }

            for (int index = 1; index <= 15; index++)
            {
                // Images
                if (weatherFewDays.Images != null && weatherFewDays.Images.visible && index == weatherFewDays.Images.position && weatherFewDays.Images.img_First != null)
                {
                    hmUI_widget_IMG_LEVEL images = weatherFewDays.Images;
                    string variableName = optionNameStart + "forecast_image_progress_img_level";

                    int imgPosition = ListImages.IndexOf(images.img_First);
                    if (imgPosition + 29 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }

                    #region creat widget
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;
                    variables += TabInString(4) + "let " + optionNameStart + "forecast_image_array = [";
                    for (int i = imgPosition; i < imgPosition + 29; i++)
                    {
                        variables += "'" + ListImages[i] + ".png" + "'";
                        if (i < imgPosition + 29 - 1) variables += ", ";
                    }
                    variables += "];" + Environment.NewLine;

                    int posX = images.X /*+ offetX*/;
                    int posY = images.Y /*+ offetY*/;

                    string imagesOptions = IMG_IMAGES_Сommented_Options(images, "forecast_image", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.IMG_LEVEL_Options, {" +
                                    imagesOptions + TabInString(6) + "// });" + Environment.NewLine;

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "src: " + optionNameStart + "forecast_image_array[25],";
                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Images";
                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    weather_few_days += Environment.NewLine + TabInString(9) + "let weatherIndex = 25";
                    weather_few_days += Environment.NewLine + TabInString(9) + "if (i < forecastData.count) weatherIndex = forecastData.data[i].index;";
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.SRC, " + optionNameStart + "forecast_image_array[weatherIndex]);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(7);

                }

                // DayOfWeek images
                if (weatherFewDays.DayOfWeek_Images != null && weatherFewDays.DayOfWeek_Images.visible && index == weatherFewDays.DayOfWeek_Images.position && 
                    weatherFewDays.DayOfWeek_Images.img_First != null)
                {
                    hmUI_widget_IMG_LEVEL dow_images = weatherFewDays.DayOfWeek_Images;
                    string variableName = optionNameStart + "forecast_date_week_img";

                    int imgPosition = ListImages.IndexOf(dow_images.img_First);
                    if (imgPosition + 7 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Day of week Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }

                    #region creat widget
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;
                    variables += TabInString(4) + "let " + optionNameStart + "forecast_date_week_img_array = [";
                    for (int i = imgPosition; i < imgPosition + 7; i++)
                    {
                        variables += "'" + ListImages[i] + ".png" + "'";
                        if (i < imgPosition + 7 - 1) variables += ", ";
                    }
                    variables += "];" + Environment.NewLine;

                    int posX = dow_images.X /*+ offetX*/;
                    int posY = dow_images.Y /*+ offetY*/;

                    string imagesOptions = IMG_IMAGES_Сommented_Options(dow_images, "forecast_date_week_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.IMG_LEVEL_Options, {" +
                                    imagesOptions + TabInString(6) + "// });" + Environment.NewLine;

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "src: " + optionNameStart + "forecast_date_week_img_array[0],";
                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                        items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// DOW images";
                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    weather_few_days += Environment.NewLine + TabInString(9) + "let dowIndex = timeSensor.week - 1;";
                    weather_few_days += Environment.NewLine + TabInString(9) + "dowIndex += i;";
                    weather_few_days += Environment.NewLine + TabInString(9) + "while (dowIndex >= 7) {dowIndex -= 7;}";
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.SRC, " + optionNameStart + "forecast_date_week_img_array[dowIndex]);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(7);
                }

                // DayOfWeek font
                if (weatherFewDays.DayOfWeek_Font != null && weatherFewDays.DayOfWeek_Font.visible && index == weatherFewDays.DayOfWeek_Font.position)
                {
                    hmUI_widget_TEXT text = weatherFewDays.DayOfWeek_Font;
                    string[] DOW_Array = text.unit_string.Split(',');
                    if (DOW_Array.Length != 7) continue;
                    string variableName = optionNameStart + "forecast_date_week_font";

                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    variables += TabInString(4) + "let " + optionNameStart + "forecast_date_week_font_Array = [";
                    foreach (string str in DOW_Array)
                    {
                        variables += "'" + str.Trim() + "', ";
                    }
                    variables = variables.TrimEnd();
                    variables = variables.TrimEnd(',');
                    variables += "];" + Environment.NewLine;

                    int posX = text.x /*+ offetX*/;
                    int posY = text.y /*+ offetY*/;

                    string textOptions = TEXT_Сommented_Options(text, "forecast_date_week_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_Options, {" +
                                    textOptions + TabInString(6) + "// });" + Environment.NewLine;

                    #region creat widget
                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        string cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString();
                        //if (text.unit_type > 0) cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString() + "; Cache: full";
                        if (fonts_cache.IndexOf(cacheName) < 0)
                        {
                            //bool fullCache = text.unit_type > 0;
                            string fontCacheOptions = TEXT_Cache_Options(text, false);
                            if (fontCacheOptions.Length > 5)
                            {
                                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                    TabInString(6) + "});" + Environment.NewLine;
                            }
                        }
                    }

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "w: " + text.w.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "h: " + text.h.ToString() + ",";

                    items += Environment.NewLine + TabInString(9) + "text_size: " + text.text_size.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "char_space: " + text.char_space.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "line_space: " + text.line_space.ToString() + ",";

                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        items += Environment.NewLine + TabInString(9) + "font: 'fonts/" + text.font + "',";
                    }

                    items += Environment.NewLine + TabInString(9) + "color: " + text.color + ",";
                    items += Environment.NewLine + TabInString(9) + "// color_2: " + text.color_2 + ",";

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + text.align_h + ",";
                    items += Environment.NewLine + TabInString(9) + "align_v: hmUI.align." + text.align_v + ",";
                    items += Environment.NewLine + TabInString(9) + "text_style: hmUI.text_style." + text.text_style + ",";

                    if (text.padding) items += Environment.NewLine + TabInString(9) + "// padding: true,";
                    if (text.unit_type > 0) items += Environment.NewLine + TabInString(9) + "// unit_type: " + text.unit_type.ToString() + ",";
                    if (text.unit_end) items += Environment.NewLine + TabInString(9) + "// unit_end: true,";
                    if (text.unit_string.Length > 0) items += Environment.NewLine + TabInString(9) + "// unit_string: " + text.unit_string + ",";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                        items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// DayOfWeek font";
                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    weather_few_days += Environment.NewLine + TabInString(9) + "let dowIndex = timeSensor.week - 1;";
                    weather_few_days += Environment.NewLine + TabInString(9) + "dowIndex += i;";
                    weather_few_days += Environment.NewLine + TabInString(9) + "while (dowIndex >= 7) {dowIndex -= 7;}";
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, " + 
                        optionNameStart + "forecast_date_week_font_Array[dowIndex]);";
                    if(text.use_color_2 && text.color != text.color_2)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "if (dowIndex >= 5) " + variableName + "[i].setProperty(hmUI.prop.COLOR, " + text.color_2 + ");";
                        weather_few_days += Environment.NewLine + TabInString(9) + "else " + variableName + "[i].setProperty(hmUI.prop.COLOR, " + text.color + ");";
                    }
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(7);
                }

                // Graph
                if (weatherFewDays.Diagram != null && weatherFewDays.Diagram.visible && index == weatherFewDays.Diagram.position && 
                    (weatherFewDays.Diagram.Use_average_diagram || weatherFewDays.Diagram.Use_max_diagram || weatherFewDays.Diagram.Use_min_diagram) &&
                    /*optionNameStart == "normal_" &&*/ SelectedModel.versionOS >= 3)
                {
                    bool graphFullScreen = weatherFewDays.Diagram.GraphFullScreen;
                    int canvasWidth = 215;
                    int canvasHeight = 215;
                    if (graphFullScreen)
                    {
                        canvasWidth = SelectedModel.background.w;
                        canvasHeight = SelectedModel.background.h;
                    }

                    AddGraphFunctions(ref items, graphFullScreen);
                    AddGraphScaleFunction(ref items);
                    int offsetMax = (int)Math.Ceiling(pointMaxSize / 2f);
                    int offsetAverage = (int)Math.Ceiling(pointAverageSize / 2f);
                    int offsetMin = (int)Math.Ceiling(pointMinSize / 2f);
                    int graphOffsetX = new List<int> { offsetMax, offsetAverage, offsetMin }.Max();
                    int graphHeight = Math.Max(canvasHeight, weatherFewDays.Diagram.Height + offsetMax + offsetMin);

                    #region creat widget
                        //variables += TabInString(4) + "let forecastGraphScale = 1;" + Environment.NewLine;
                    variables += TabInString(4) + "let " + optionNameStart + "canvas1 = '';" + Environment.NewLine;
                    variables += TabInString(4) + "let " + optionNameStart + "canvas2 = '';" + Environment.NewLine;

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    if (graphFullScreen) {
                        items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                        items += Environment.NewLine + TabInString(7) + optionNameStart + "canvas1 = " + groupName + ".createWidget(hmUI.widget.CANVAS, {";
                        items += Environment.NewLine + TabInString(8) + "x: 0,";
                        items += Environment.NewLine + TabInString(8) + "y: 0,";
                        items += Environment.NewLine + TabInString(8) + "w: 0,";
                        items += Environment.NewLine + TabInString(8) + "h: 0,";
                        items += Environment.NewLine + TabInString(7) + "});" + Environment.NewLine;

                        items += Environment.NewLine + TabInString(7) + optionNameStart + "canvas2 = " + groupName + ".createWidget(hmUI.widget.CANVAS, {";
                        items += Environment.NewLine + TabInString(8) + "x: -" + graphOffsetX.ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "y: " + weatherFewDays.Diagram.Y.ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "w: " + canvasWidth.ToString() + ","; ;
                        items += Environment.NewLine + TabInString(8) + "h: " + canvasHeight.ToString() + ",";
                        items += Environment.NewLine + TabInString(7) + "});";
                        items += Environment.NewLine + TabInString(6) + "};";
                    } 
                    else
                    {
                        items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                        items += Environment.NewLine + TabInString(7) + optionNameStart + "canvas1 = " + groupName + ".createWidget(hmUI.widget.CANVAS, {";
                        items += Environment.NewLine + TabInString(8) + "x: -" + graphOffsetX.ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "y: " + weatherFewDays.Diagram.Y.ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "w: 215,";
                        items += Environment.NewLine + TabInString(8) + "h: " + graphHeight.ToString() + ",";
                        items += Environment.NewLine + TabInString(7) + "});" + Environment.NewLine;

                        items += Environment.NewLine + TabInString(7) + optionNameStart + "canvas2 = " + groupName + ".createWidget(hmUI.widget.CANVAS, {";
                        items += Environment.NewLine + TabInString(8) + "x: " + (215 - graphOffsetX).ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "y: " + weatherFewDays.Diagram.Y.ToString() + ",";
                        items += Environment.NewLine + TabInString(8) + "w: 215,";
                        items += Environment.NewLine + TabInString(8) + "h: " + graphHeight.ToString() + ",";
                        items += Environment.NewLine + TabInString(7) + "});";
                        items += Environment.NewLine + TabInString(6) + "};";
                    }
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    string temp_items = "";

                    temp_items += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    if (graphFullScreen)
                    {
                        temp_items += Environment.NewLine + TabInString(8) + optionNameStart + "canvas1.clear({x: 0, y:0, w: 0, h: 0});";
                        temp_items += Environment.NewLine + TabInString(8) + optionNameStart + "canvas2.clear({x: 0, y:0, w: " + canvasWidth.ToString() + ", h: " + canvasHeight.ToString() + "});";
                    }
                    else
                    {
                        //temp_items += Environment.NewLine + TabInString(8) + optionNameStart + "canvas1.clear({x: 0, y:0, w: 215, h: " + graphHeight.ToString() + "});";
                        temp_items += Environment.NewLine + TabInString(8) + optionNameStart + "canvas2.clear({x: 0, y:0, w: 215, h: " + graphHeight.ToString() + "});"; 
                    }
                    temp_items += Environment.NewLine + TabInString(7) + "};";

                    if (weatherFewDays.Diagram.Use_max_diagram) {
                        temp_items += Environment.NewLine + TabInString(7) +
                            "let " + optionNameStart + "max_offsetX = " + (weatherFewDays.Diagram.Max_offsetX + graphOffsetX) + ";";
                        temp_items += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType + 
                            ")  maxOldX = " + optionNameStart + "max_offsetX;";
                        if (weather_few_days.IndexOf("let maxOldY") < 0) temp_items += Environment.NewLine + TabInString(7) +
                            "let maxOldY = (maximal_temp - forecastData.data[0].high) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        if (weather_few_days.IndexOf("let endPointMax") < 0) temp_items += Environment.NewLine + TabInString(7) + "let endPointMax = false;";
                    }
                    if (weatherFewDays.Diagram.Use_average_diagram) {
                        temp_items += Environment.NewLine + TabInString(7) +
                            "let " + optionNameStart + "average_offsetX = " + (weatherFewDays.Diagram.Average_offsetX + graphOffsetX) + ";";
                        temp_items += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType +
                            ") averageOldX = " + optionNameStart + "average_offsetX;";
                        if (weather_few_days.IndexOf("let averageOldY") < 0) temp_items += Environment.NewLine + TabInString(7) +
                            "let averageOldY = (maximal_temp - (forecastData.data[0].high + forecastData.data[0].low) / 2) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        if (weather_few_days.IndexOf("let endPointAverage") < 0) temp_items += Environment.NewLine + TabInString(7) + "let endPointAverage = false;";
                    }
                    if (weatherFewDays.Diagram.Use_min_diagram) {
                        temp_items += Environment.NewLine + TabInString(7) +
                            "let " + optionNameStart + "min_offsetX = " + (weatherFewDays.Diagram.Min_offsetX + graphOffsetX) + ";";
                        temp_items += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType +
                            ") minOldX = " + optionNameStart + "min_offsetX;";
                        if (weather_few_days.IndexOf("let minOldY") < 0) temp_items += Environment.NewLine + TabInString(7) +
                            "let minOldY = (maximal_temp - forecastData.data[0].low) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        if (weather_few_days.IndexOf("let endPointMin") < 0) temp_items += Environment.NewLine + TabInString(7) + "let endPointMin = false;";
                    }

                    weather_few_days = temp_items + weather_few_days;

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Graph";
                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    weather_few_days += Environment.NewLine + TabInString(9) + "if (i < forecastData.count) {";
                    if (weatherFewDays.Diagram.Use_max_diagram)
                    {
                        weather_few_days += Environment.NewLine + TabInString(10) + "let maxStartX = maxOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let maxStartY = maxOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "maxOldX = " + optionNameStart + "max_offsetX + i * " + daysWidth.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "maxOldY = (maximal_temp - forecastData.data[i].high) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let maxEndX = maxOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let maxEndY = maxOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "if (maxStartX != maxEndX) {";

                        //weather_few_days += Environment.NewLine + TabInString(10) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawLine(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, maxStartX, maxStartY, maxEndX, maxEndY, " +
                            weatherFewDays.Diagram.Max_color + ", " + weatherFewDays.Diagram.Max_lineWidth.ToString() + ")";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawGraphPoint(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, maxStartX, maxStartY, " +
                            weatherFewDays.Diagram.Max_color + ", " + weatherFewDays.Diagram.Max_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Max_pointType.ToString() + ")";
                        //weather_few_days += Environment.NewLine + TabInString(10) + "};";

                        weather_few_days_end += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType + " && endPointMax) {";
                        weather_few_days_end += Environment.NewLine + TabInString(8) + "drawGraphPoint(normal_canvas1, normal_canvas2, maxOldX, maxOldY, " +
                            weatherFewDays.Diagram.Max_color + ", " + weatherFewDays.Diagram.Max_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Max_pointType.ToString() + ")";
                        weather_few_days_end += Environment.NewLine + TabInString(7) + "};";

                        weather_few_days += Environment.NewLine + TabInString(11) + "endPointMax = true;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "};";
                        //weather_few_days += Environment.NewLine + TabInString(9) + "};";
                        weather_few_days += Environment.NewLine + TabInString(9);
                    }
                    if (weatherFewDays.Diagram.Use_average_diagram)
                    {
                        weather_few_days += Environment.NewLine + TabInString(10) + "let averageStartX = averageOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let averageStartY = averageOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "averageOldX = " + optionNameStart + "average_offsetX + i * " + daysWidth.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "averageOldY = (maximal_temp - (forecastData.data[i].high + forecastData.data[i].low) / 2) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let averageEndX = averageOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let averageEndY = averageOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "if (averageStartX != averageEndX) {";

                        //weather_few_days += Environment.NewLine + TabInString(10) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawLine(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, averageStartX, averageStartY, averageEndX, averageEndY, " +
                            weatherFewDays.Diagram.Average_color + ", " + weatherFewDays.Diagram.Average_lineWidth.ToString() + ")";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawGraphPoint(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, averageStartX, averageStartY, " +
                            weatherFewDays.Diagram.Average_color + ", " + weatherFewDays.Diagram.Average_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Average_pointType.ToString() + ")";
                        //weather_few_days += Environment.NewLine + TabInString(10) + "};";

                        weather_few_days_end += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type.WATCHFACE && endPointAverage) {";
                        weather_few_days_end += Environment.NewLine + TabInString(8) + "drawGraphPoint(normal_canvas1, normal_canvas2, averageOldX, averageOldY, " +
                            weatherFewDays.Diagram.Average_color + ", " + weatherFewDays.Diagram.Average_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Average_pointType.ToString() + ")";
                        weather_few_days_end += Environment.NewLine + TabInString(7) + "};";

                        weather_few_days += Environment.NewLine + TabInString(11) + "endPointAverage = true;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "};";
                        //weather_few_days += Environment.NewLine + TabInString(9) + "};";
                        weather_few_days += Environment.NewLine + TabInString(9);
                    }
                    if (weatherFewDays.Diagram.Use_min_diagram)
                    {
                        weather_few_days += Environment.NewLine + TabInString(10) + "let minStartX = minOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let minStartY = minOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "minOldX = " + optionNameStart + "min_offsetX + i * " + daysWidth.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "minOldY = (maximal_temp - forecastData.data[i].low) * forecastGraphScale + " + offsetDiagramPointY.ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let minEndX = minOldX;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "let minEndY = minOldY;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "if (minStartX != minEndX) {";

                        //weather_few_days += Environment.NewLine + TabInString(10) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawLine(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, minStartX, minStartY, minEndX, minEndY, " +
                            weatherFewDays.Diagram.Min_color + ", " + weatherFewDays.Diagram.Min_lineWidth.ToString() + ")";
                        weather_few_days += Environment.NewLine + TabInString(11) + "drawGraphPoint(" + optionNameStart + "canvas1, " + optionNameStart + "canvas2, minStartX, minStartY, " +
                            weatherFewDays.Diagram.Min_color + ", " + weatherFewDays.Diagram.Min_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Min_pointType.ToString() + ")";
                        //weather_few_days += Environment.NewLine + TabInString(10) + "};";

                        weather_few_days_end += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type.WATCHFACE && endPointMin) {";
                        weather_few_days_end += Environment.NewLine + TabInString(8) + "drawGraphPoint(normal_canvas1, normal_canvas2, minOldX, minOldY, " +
                            weatherFewDays.Diagram.Min_color + ", " + weatherFewDays.Diagram.Min_pointSize.ToString() + ", " +
                            weatherFewDays.Diagram.Min_pointType.ToString() + ")";
                        weather_few_days_end += Environment.NewLine + TabInString(7) + "};";

                        weather_few_days += Environment.NewLine + TabInString(11) + "endPointMin = true;";
                        weather_few_days += Environment.NewLine + TabInString(10) + "};";
                        //weather_few_days += Environment.NewLine + TabInString(9) + "};";
                        weather_few_days += Environment.NewLine + TabInString(9);
                    }
                    weather_few_days += Environment.NewLine + TabInString(9) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};  // end screen_type";
                    weather_few_days += Environment.NewLine + TabInString(8);

                }

                // Number_Max
                if (weatherFewDays.Number_Max != null && weatherFewDays.Number_Max.visible && index == weatherFewDays.Number_Max.position &&
                    weatherFewDays.Number_Max.img_First != null && weatherFewDays.Number_Max.img_First.Length > 0)
                {
                    hmUI_widget_IMG_NUMBER img_number = weatherFewDays.Number_Max;
                    string variableName = optionNameStart + "forecast_high_text_img";

                    int imgPosition = ListImages.IndexOf(img_number.img_First);
                    if (imgPosition + 10 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = img_number.imageX /*+ offetX*/;
                    int posY = img_number.imageY /*+ offetY*/;
                    if (useMaxGraphOffset) posX += weatherFewDays.Diagram.Max_offsetX;

                    string imgNumberOptions = IMG_NUMBER_Сommented_Options(img_number, "forecast_high_text_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG_Options, {" +
                                    imgNumberOptions + TabInString(6) + "// });" + Environment.NewLine;

                    string img_array = "[";
                    for (int i = imgPosition; i < imgPosition + 10; i++)
                    {
                        string file_name = "\"" + ListImages[i] + ".png" + "\"";
                        img_array += file_name;
                        if (i < imgPosition + 9) img_array += ",";
                    }
                    img_array += "]";

                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }
                        }
                    }

                    #region creat widget
                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "font_array: " + img_array + ",";
                    items += Environment.NewLine + TabInString(9) + "padding: false,";
                    items += Environment.NewLine + TabInString(9) + "h_space: " + img_number.space.ToString() + ",";
                    if (img_number.angle != 0)
                        items += Environment.NewLine + TabInString(9) + "angle: " + img_number.angle.ToString() + ",";

                    if (img_number.unit != null && img_number.unit.Length > 0)
                    {
                        string unit = "'" + img_number.unit + ".png'";
                        items += Environment.NewLine + TabInString(9) + "unit_sc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_tc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_en: " + unit + ",";
                    }

                    if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                    {
                        string negative_image = "'" + img_number.negative_image + ".png'";
                        items += Environment.NewLine + TabInString(9) + "negative_image: " + negative_image + ",";
                    }

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                    items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 && 
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(7) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }

                            items += Environment.NewLine + TabInString(8) + "if (temperatureUnit == 1) {";
                            items += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.MORE, {";
                            items += Environment.NewLine + TabInString(10) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "y: " + posY.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "font_array: " + img_array + ",";
                            items += Environment.NewLine + TabInString(10) + "padding: false,";
                            items += Environment.NewLine + TabInString(10) + "h_space: " + img_number.space.ToString() + ",";
                            if (img_number.angle != 0)
                                items += Environment.NewLine + TabInString(10) + "angle: " + img_number.angle.ToString() + ",";

                            if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                            {
                                string unit = "'" + img_number.imperial_unit + ".png'";
                                items += Environment.NewLine + TabInString(10) + "unit_sc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_tc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_en: " + unit + ",";
                            }

                            if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                            {
                                string negative_image = "'" + img_number.negative_image + ".png'";
                                items += Environment.NewLine + TabInString(10) + "negative_image: " + negative_image + ",";
                            }

                            items += Environment.NewLine + TabInString(10) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                            items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(10) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(9) + "});";
                            items += Environment.NewLine + TabInString(8) + "};";
                        }
                    }
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Max";

                    if (weather_few_days.IndexOf("let maxTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let maxTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) maxTemperature = forecastData.data[i].high.toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    if (useMaxGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName + 
                            "_posY = (maximal_temp - forecastData.data[i].high) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "_posY);";
                    }
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, maxTemperature);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Font_Max
                if (weatherFewDays.Number_Font_Max != null && weatherFewDays.Number_Font_Max.visible && index == weatherFewDays.Number_Font_Max.position)
                {
                    hmUI_widget_TEXT text = weatherFewDays.Number_Font_Max;
                    string variableName = optionNameStart + "forecast_high_text_font";

                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = text.x /*+ offetX*/;
                    int posY = text.y /*+ offetY*/;
                    if (useMaxGraphOffset) posX += weatherFewDays.Diagram.Max_offsetX;

                    string textOptions = TEXT_Сommented_Options(text, "forecast_high_text_font", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_Options, {" +
                                    textOptions + TabInString(6) + "// });" + Environment.NewLine;

                    #region creat widget
                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        string cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString();
                        //if (text.unit_type > 0) cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString() + "; Cache: full";
                        if (fonts_cache.IndexOf(cacheName) < 0)
                        {
                            //bool fullCache = text.unit_type > 0;
                            string fontCacheOptions = TEXT_Cache_Options(text, false);
                            if (fontCacheOptions.Length > 5)
                            {
                                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                    TabInString(6) + "});" + Environment.NewLine;
                            }
                        }
                    }

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "w: " + text.w.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "h: " + text.h.ToString() + ",";

                    items += Environment.NewLine + TabInString(9) + "text_size: " + text.text_size.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "char_space: " + text.char_space.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "line_space: " + text.line_space.ToString() + ",";

                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        items += Environment.NewLine + TabInString(9) + "font: 'fonts/" + text.font + "',";
                    }

                    items += Environment.NewLine + TabInString(9) + "color: " + text.color + ",";

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + text.align_h + ",";
                    items += Environment.NewLine + TabInString(9) + "align_v: hmUI.align." + text.align_v + ",";
                    items += Environment.NewLine + TabInString(9) + "text_style: hmUI.text_style." + text.text_style + ",";

                    if (text.padding) items += Environment.NewLine + TabInString(9) + "// padding: true,";
                    if (text.unit_type > 0) items += Environment.NewLine + TabInString(9) + "// unit_type: " + text.unit_type.ToString() + ",";
                    if (text.unit_end) items += Environment.NewLine + TabInString(9) + "// unit_end: true,";
                    if (text.unit_string.Length > 0) items += Environment.NewLine + TabInString(9) + "// unit_string: " + text.unit_string + ",";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Font_Max";
                    if (weather_few_days.IndexOf("let maxTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let maxTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) maxTemperature = forecastData.data[i].high.toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";

                    if (useMaxGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName +
                            "_posY = (maximal_temp - forecastData.data[i].high) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "_posY);";
                    }

                    if (text.unit_type == 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, maxTemperature);"; 
                    }
                    else
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, maxTemperature + '°');";
                    }
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Average
                if (weatherFewDays.Number_Average != null && weatherFewDays.Number_Average.visible && index == weatherFewDays.Number_Average.position &&
                    weatherFewDays.Number_Average.img_First != null && weatherFewDays.Number_Average.img_First.Length > 0)
                {
                    hmUI_widget_IMG_NUMBER img_number = weatherFewDays.Number_Average;
                    string variableName = optionNameStart + "forecast_average_text_img";

                    int imgPosition = ListImages.IndexOf(img_number.img_First);
                    if (imgPosition + 10 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = img_number.imageX /*+ offetX*/;
                    int posY = img_number.imageY /*+ offetY*/;
                    if (useAverageGraphOffset) posX += weatherFewDays.Diagram.Average_offsetX;

                    string imgNumberOptions = IMG_NUMBER_Сommented_Options(img_number, "forecast_average_text_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG_Options, {" +
                                    imgNumberOptions + TabInString(6) + "// });" + Environment.NewLine;

                    string img_array = "[";
                    for (int i = imgPosition; i < imgPosition + 10; i++)
                    {
                        string file_name = "\"" + ListImages[i] + ".png" + "\"";
                        img_array += file_name;
                        if (i < imgPosition + 9) img_array += ",";
                    }
                    img_array += "]";

                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }
                        }
                    }

                    #region creat widget
                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "font_array: " + img_array + ",";
                    items += Environment.NewLine + TabInString(9) + "padding: false,";
                    items += Environment.NewLine + TabInString(9) + "h_space: " + img_number.space.ToString() + ",";
                    if (img_number.angle != 0)
                        items += Environment.NewLine + TabInString(9) + "angle: " + img_number.angle.ToString() + ",";

                    if (img_number.unit != null && img_number.unit.Length > 0)
                    {
                        string unit = "'" + img_number.unit + ".png'";
                        items += Environment.NewLine + TabInString(9) + "unit_sc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_tc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_en: " + unit + ",";
                    }

                    if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                    {
                        string negative_image = "'" + img_number.negative_image + ".png'";
                        items += Environment.NewLine + TabInString(9) + "negative_image: " + negative_image + ",";
                    }

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                    items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(7) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }

                            items += Environment.NewLine + TabInString(8) + "if (temperatureUnit == 1) {";
                            items += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.MORE, {";
                            items += Environment.NewLine + TabInString(10) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "y: " + posY.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "font_array: " + img_array + ",";
                            items += Environment.NewLine + TabInString(10) + "padding: false,";
                            items += Environment.NewLine + TabInString(10) + "h_space: " + img_number.space.ToString() + ",";
                            if (img_number.angle != 0)
                                items += Environment.NewLine + TabInString(10) + "angle: " + img_number.angle.ToString() + ",";

                            if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                            {
                                string unit = "'" + img_number.imperial_unit + ".png'";
                                items += Environment.NewLine + TabInString(10) + "unit_sc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_tc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_en: " + unit + ",";
                            }

                            if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                            {
                                string negative_image = "'" + img_number.negative_image + ".png'";
                                items += Environment.NewLine + TabInString(10) + "negative_image: " + negative_image + ",";
                            }

                            items += Environment.NewLine + TabInString(10) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                            items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(10) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(9) + "});";
                            items += Environment.NewLine + TabInString(8) + "};";
                        }
                    }
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Average";

                    if (weather_few_days.IndexOf("let averageTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let averageTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) averageTemperature = parseInt((forecastData.data[i].high + forecastData.data[i].low)/2).toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    if (useAverageGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName + 
                            "_posY = (maximal_temp - (forecastData.data[i].high + forecastData.data[i].low)/2 ) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "_posY);";
                    }
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, averageTemperature);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Font_Average
                if (weatherFewDays.Number_Font_Average != null && weatherFewDays.Number_Font_Average.visible && index == weatherFewDays.Number_Font_Average.position)
                {
                    hmUI_widget_TEXT text = weatherFewDays.Number_Font_Average;
                    string variableName = optionNameStart + "forecast_average_text_font";

                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = text.x /*+ offetX*/;
                    int posY = text.y /*+ offetY*/;
                    if (useAverageGraphOffset) posX += weatherFewDays.Diagram.Average_offsetX;

                    string textOptions = TEXT_Сommented_Options(text, "forecast_average_text_font", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_Options, {" +
                                    textOptions + TabInString(6) + "// });" + Environment.NewLine;

                    #region creat widget
                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        string cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString();
                        //if (text.unit_type > 0) cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString() + "; Cache: full";
                        if (fonts_cache.IndexOf(cacheName) < 0)
                        {
                            //bool fullCache = text.unit_type > 0;
                            string fontCacheOptions = TEXT_Cache_Options(text, false);
                            if (fontCacheOptions.Length > 5)
                            {
                                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                    TabInString(6) + "});" + Environment.NewLine;
                            }
                        }
                    }

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "w: " + text.w.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "h: " + text.h.ToString() + ",";

                    items += Environment.NewLine + TabInString(9) + "text_size: " + text.text_size.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "char_space: " + text.char_space.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "line_space: " + text.line_space.ToString() + ",";

                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        items += Environment.NewLine + TabInString(9) + "font: 'fonts/" + text.font + "',";
                    }

                    items += Environment.NewLine + TabInString(9) + "color: " + text.color + ",";

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + text.align_h + ",";
                    items += Environment.NewLine + TabInString(9) + "align_v: hmUI.align." + text.align_v + ",";
                    items += Environment.NewLine + TabInString(9) + "text_style: hmUI.text_style." + text.text_style + ",";

                    if (text.padding) items += Environment.NewLine + TabInString(9) + "// padding: true,";
                    if (text.unit_type > 0) items += Environment.NewLine + TabInString(9) + "// unit_type: " + text.unit_type.ToString() + ",";
                    if (text.unit_end) items += Environment.NewLine + TabInString(9) + "// unit_end: true,";
                    if (text.unit_string.Length > 0) items += Environment.NewLine + TabInString(9) + "// unit_string: " + text.unit_string + ",";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Font_Average";
                    if (weather_few_days.IndexOf("let averageTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let averageTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) averageTemperature = parseInt((forecastData.data[i].high + forecastData.data[i].low)/2).toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";

                    if (useAverageGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName +
                            "_posY = (maximal_temp - (forecastData.data[i].high + forecastData.data[i].low)/2 ) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "_posY);";
                    }

                    if (text.unit_type == 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, averageTemperature);";
                    }
                    else
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, averageTemperature + '°');";
                    }
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Min
                if (weatherFewDays.Number_Min != null && weatherFewDays.Number_Min.visible && index == weatherFewDays.Number_Min.position &&
                    weatherFewDays.Number_Min.img_First != null && weatherFewDays.Number_Min.img_First.Length > 0)
                {
                    hmUI_widget_IMG_NUMBER img_number = weatherFewDays.Number_Min;
                    string variableName = optionNameStart + "forecast_low_text_img";

                    int imgPosition = ListImages.IndexOf(img_number.img_First);
                    if (imgPosition + 10 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = img_number.imageX /*+ offetX*/;
                    int posY = img_number.imageY /*+ offetY*/;
                    if (useMinGraphOffset) posX += weatherFewDays.Diagram.Min_offsetX;

                    string imgNumberOptions = IMG_NUMBER_Сommented_Options(img_number, "forecast_low_text_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG_Options, {" +
                                    imgNumberOptions + TabInString(6) + "// });" + Environment.NewLine;

                    string img_array = "[";
                    for (int i = imgPosition; i < imgPosition + 10; i++)
                    {
                        string file_name = "\"" + ListImages[i] + ".png" + "\"";
                        img_array += file_name;
                        if (i < imgPosition + 9) img_array += ",";
                    }
                    img_array += "]";

                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }
                        }
                    }

                    #region creat widget
                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "font_array: " + img_array + ",";
                    items += Environment.NewLine + TabInString(9) + "padding: false,";
                    items += Environment.NewLine + TabInString(9) + "h_space: " + img_number.space.ToString() + ",";
                    if (img_number.angle != 0)
                        items += Environment.NewLine + TabInString(9) + "angle: " + img_number.angle.ToString() + ",";

                    if (img_number.unit != null && img_number.unit.Length > 0)
                    {
                        string unit = "'" + img_number.unit + ".png'";
                        items += Environment.NewLine + TabInString(9) + "unit_sc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_tc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_en: " + unit + ",";
                    }

                    if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                    {
                        string negative_image = "'" + img_number.negative_image + ".png'";
                        items += Environment.NewLine + TabInString(9) + "negative_image: " + negative_image + ",";
                    }

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                    items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(7) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }

                            items += Environment.NewLine + TabInString(8) + "if (temperatureUnit == 1) {";
                            items += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.MORE, {";
                            items += Environment.NewLine + TabInString(10) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "y: " + posY.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "font_array: " + img_array + ",";
                            items += Environment.NewLine + TabInString(10) + "padding: false,";
                            items += Environment.NewLine + TabInString(10) + "h_space: " + img_number.space.ToString() + ",";
                            if (img_number.angle != 0)
                                items += Environment.NewLine + TabInString(10) + "angle: " + img_number.angle.ToString() + ",";

                            if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                            {
                                string unit = "'" + img_number.imperial_unit + ".png'";
                                items += Environment.NewLine + TabInString(10) + "unit_sc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_tc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_en: " + unit + ",";
                            }

                            if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                            {
                                string negative_image = "'" + img_number.negative_image + ".png'";
                                items += Environment.NewLine + TabInString(10) + "negative_image: " + negative_image + ",";
                            }

                            items += Environment.NewLine + TabInString(10) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                            items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(10) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(9) + "});";
                            items += Environment.NewLine + TabInString(8) + "};";
                        }
                    }
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Min";

                    if (weather_few_days.IndexOf("let minTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let minTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) minTemperature = forecastData.data[i].low.toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    if (useMinGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName + 
                            "_posY = (maximal_temp - forecastData.data[i].low) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "forecast_low_text_posY);";
                    }
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, minTemperature);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Font_Min
                if (weatherFewDays.Number_Font_Min != null && weatherFewDays.Number_Font_Min.visible && index == weatherFewDays.Number_Font_Min.position)
                {
                    hmUI_widget_TEXT text = weatherFewDays.Number_Font_Min;
                    string variableName = optionNameStart + "forecast_low_text_font";

                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = text.x /*+ offetX*/;
                    int posY = text.y /*+ offetY*/;
                    if (useMinGraphOffset) posX += weatherFewDays.Diagram.Min_offsetX;

                    string textOptions = TEXT_Сommented_Options(text, "forecast_low_text_font", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_Options, {" +
                                    textOptions + TabInString(6) + "// });" + Environment.NewLine;

                    #region creat widget
                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        string cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString();
                        //if (text.unit_type > 0) cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString() + "; Cache: full";
                        if (fonts_cache.IndexOf(cacheName) < 0)
                        {
                            //bool fullCache = text.unit_type > 0;
                            string fontCacheOptions = TEXT_Cache_Options(text, false);
                            if (fontCacheOptions.Length > 5)
                            {
                                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                    TabInString(6) + "});" + Environment.NewLine;
                            }
                        }
                    }

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "w: " + text.w.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "h: " + text.h.ToString() + ",";

                    items += Environment.NewLine + TabInString(9) + "text_size: " + text.text_size.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "char_space: " + text.char_space.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "line_space: " + text.line_space.ToString() + ",";

                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        items += Environment.NewLine + TabInString(9) + "font: 'fonts/" + text.font + "',";
                    }

                    items += Environment.NewLine + TabInString(9) + "color: " + text.color + ",";

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + text.align_h + ",";
                    items += Environment.NewLine + TabInString(9) + "align_v: hmUI.align." + text.align_v + ",";
                    items += Environment.NewLine + TabInString(9) + "text_style: hmUI.text_style." + text.text_style + ",";

                    if (text.padding) items += Environment.NewLine + TabInString(9) + "// padding: true,";
                    if (text.unit_type > 0) items += Environment.NewLine + TabInString(9) + "// unit_type: " + text.unit_type.ToString() + ",";
                    if (text.unit_end) items += Environment.NewLine + TabInString(9) + "// unit_end: true,";
                    if (text.unit_string.Length > 0) items += Environment.NewLine + TabInString(9) + "// unit_string: " + text.unit_string + ",";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Font_Min";
                    if (weather_few_days.IndexOf("let minTemperature = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let minTemperature = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) minTemperature = forecastData.data[i].low.toString();";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";

                    if (useMinGraphOffset)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + "let " + variableName +
                            "_posY = (maximal_temp - forecastData.data[i].low) * forecastGraphScale + " + 
                            (offsetDiagramPointY + offsetDiagramY + posY).ToString() + ";";
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.Y, " + variableName + "_posY);";
                    }

                    if (text.unit_type == 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, minTemperature);";
                    }
                    else
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, minTemperature + '°');";
                    }
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_MaxMin
                if (weatherFewDays.Number_MaxMin != null && weatherFewDays.Number_MaxMin.visible && index == weatherFewDays.Number_MaxMin.position &&
                    weatherFewDays.Number_MaxMin.img_First != null && weatherFewDays.Number_MaxMin.img_First.Length > 0)
                {
                    hmUI_widget_IMG_NUMBER img_number = weatherFewDays.Number_MaxMin;
                    string variableName = optionNameStart + "forecast_high_low_text_img";

                    int imgPosition = ListImages.IndexOf(img_number.img_First);
                    if (imgPosition + 10 - 1 > ListImages.Count || imgPosition < 0)
                    {
                        MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                            "Weather_FewDays (Images)", Properties.FormStrings.Message_Warning_Caption,
                            MessageBoxButtons.OK, MessageBoxIcon.Warning);
                        continue;
                    }
                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = img_number.imageX /*+ offetX*/;
                    int posY = img_number.imageY /*+ offetY*/;

                    string imgNumberOptions = IMG_NUMBER_Сommented_Options(img_number, "forecast_high_low_text_img", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG_Options, {" +
                                    imgNumberOptions + TabInString(6) + "// });" + Environment.NewLine;

                    string img_array = "[";
                    for (int i = imgPosition; i < imgPosition + 10; i++)
                    {
                        string file_name = "\"" + ListImages[i] + ".png" + "\"";
                        img_array += file_name;
                        if (i < imgPosition + 9) img_array += ",";
                    }
                    img_array += "]";

                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }
                        }
                    }

                    #region creat widget
                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT_IMG, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "font_array: " + img_array + ",";
                    items += Environment.NewLine + TabInString(9) + "padding: false,";
                    items += Environment.NewLine + TabInString(9) + "h_space: " + img_number.space.ToString() + ",";
                    if (img_number.angle != 0)
                        items += Environment.NewLine + TabInString(9) + "angle: " + img_number.angle.ToString() + ",";

                    if (img_number.unit != null && img_number.unit.Length > 0)
                    {
                        string unit = "'" + img_number.unit + ".png'";
                        items += Environment.NewLine + TabInString(9) + "unit_sc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_tc: " + unit + ",";
                        items += Environment.NewLine + TabInString(9) + "unit_en: " + unit + ",";
                    }

                    if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                    {
                        string negative_image = "'" + img_number.negative_image + ".png'";
                        items += Environment.NewLine + TabInString(9) + "negative_image: " + negative_image + ",";
                    }

                    if (img_number.separator_image != null && img_number.separator_image.Length > 0)
                    {
                        string dot_image = "'" + img_number.separator_image + ".png'";
                        items += Environment.NewLine + TabInString(9) + "dot_image: " + dot_image + ",";
                    }

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                    items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0 &&
                        img_number.unit != null && img_number.unit != img_number.imperial_unit)
                    {
                        if (SelectedModel.versionOS > 2)
                        {
                            if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                            {
                                items += Environment.NewLine + TabInString(7) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                            }

                            items += Environment.NewLine + TabInString(8) + "if (temperatureUnit == 1) {";
                            items += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.MORE, {";
                            items += Environment.NewLine + TabInString(10) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "y: " + posY.ToString() + ",";
                            items += Environment.NewLine + TabInString(10) + "font_array: " + img_array + ",";
                            items += Environment.NewLine + TabInString(10) + "dot_image: " + img_number.dot_image + ",";
                            items += Environment.NewLine + TabInString(10) + "padding: false,";
                            items += Environment.NewLine + TabInString(10) + "h_space: " + img_number.space.ToString() + ",";
                            if (img_number.angle != 0)
                                items += Environment.NewLine + TabInString(10) + "angle: " + img_number.angle.ToString() + ",";

                            if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                            {
                                string unit = "'" + img_number.imperial_unit + ".png'";
                                items += Environment.NewLine + TabInString(10) + "unit_sc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_tc: " + unit + ",";
                                items += Environment.NewLine + TabInString(10) + "unit_en: " + unit + ",";
                            }

                            if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                            {
                                string negative_image = "'" + img_number.negative_image + ".png'";
                                items += Environment.NewLine + TabInString(10) + "negative_image: " + negative_image + ",";
                            }

                            if (img_number.separator_image != null && img_number.separator_image.Length > 0)
                            {
                                string dot_image = "'" + img_number.separator_image + ".png'";
                                items += Environment.NewLine + TabInString(10) + "dot_image: " + dot_image + ",";
                            }

                            items += Environment.NewLine + TabInString(10) + "align_h: hmUI.align." + img_number.align.ToUpper() + ",";
                            items += Environment.NewLine + TabInString(9) + "// type: hmUI.data_type.FORECAST_NUMBER_MAX,";

                            if (show_level.Length > 0)
                            {
                                items += Environment.NewLine + TabInString(10) + "show_level: hmUI.show_level." + show_level + ",";
                            }
                            items += Environment.NewLine + TabInString(9) + "});";
                            items += Environment.NewLine + TabInString(8) + "};";
                        }
                    }
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_MaxMin";

                    if (weather_few_days.IndexOf("let max_min_Temperature_img = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let max_min_Temperature_img = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) {";
                        weather_few_days += Environment.NewLine + TabInString(9) + "max_min_Temperature_img = forecastData.data[i].high.toString();";
                        weather_few_days += Environment.NewLine + TabInString(9) + "max_min_Temperature_img += '.';";
                        weather_few_days += Environment.NewLine + TabInString(9) + "max_min_Temperature_img += forecastData.data[i].low.toString();";
                        weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, max_min_Temperature_img);";
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Number_Font_MaxMin
                if (weatherFewDays.Number_Font_MaxMin != null && weatherFewDays.Number_Font_MaxMin.visible && index == weatherFewDays.Number_Font_MaxMin.position)
                {
                    hmUI_widget_TEXT text = weatherFewDays.Number_Font_MaxMin;
                    string variableName = optionNameStart + "forecast_high_low_text_font";

                    variables += TabInString(4) + "let " + variableName + " = new Array(" + daysCount.ToString() + ");" + Environment.NewLine;

                    int posX = text.x /*+ offetX*/;
                    int posY = text.y /*+ offetY*/;

                    string textOptions = TEXT_Сommented_Options(text, "forecast_high_low_text_font", show_level);
                    items += Environment.NewLine + TabInString(6) + "// " + variableName + " = " + groupName + ".createWidget(hmUI.widget.TEXT_Options, {" +
                                    textOptions + TabInString(6) + "// });" + Environment.NewLine;

                    #region creat widget
                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        string cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString();
                        //if (text.unit_type > 0) cacheName = "// FontName: " + text.font + "; FontSize: " + text.text_size.ToString() + "; Cache: full";
                        if (fonts_cache.IndexOf(cacheName) < 0)
                        {
                            //bool fullCache = text.unit_type > 0;
                            string fontCacheOptions = TEXT_Cache_Options(text, false);
                            if (fontCacheOptions.Length > 5)
                            {
                                fonts_cache += Environment.NewLine + TabInString(6) + cacheName + Environment.NewLine;
                                fonts_cache += TabInString(6) + "hmUI.createWidget(hmUI.widget.TEXT, {" + fontCacheOptions +
                                    TabInString(6) + "});" + Environment.NewLine;
                            }
                        }
                    }

                    items += Environment.NewLine + TabInString(6) + "//start of ignored block";
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + "for (let i = 0; i < " + daysCount.ToString() + "; i++) {";
                    items += Environment.NewLine + TabInString(8) + variableName + "[i] = " + groupName + ".createWidget(hmUI.widget.TEXT, {";
                    items += Environment.NewLine + TabInString(9) + "x: " + posX.ToString() + " + i*" + daysWidth.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "y: " + posY.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "w: " + text.w.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "h: " + text.h.ToString() + ",";

                    items += Environment.NewLine + TabInString(9) + "text_size: " + text.text_size.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "char_space: " + text.char_space.ToString() + ",";
                    items += Environment.NewLine + TabInString(9) + "line_space: " + text.line_space.ToString() + ",";

                    if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
                    {
                        items += Environment.NewLine + TabInString(9) + "font: 'fonts/" + text.font + "',";
                    }

                    items += Environment.NewLine + TabInString(9) + "color: " + text.color + ",";

                    items += Environment.NewLine + TabInString(9) + "align_h: hmUI.align." + text.align_h + ",";
                    items += Environment.NewLine + TabInString(9) + "align_v: hmUI.align." + text.align_v + ",";
                    items += Environment.NewLine + TabInString(9) + "text_style: hmUI.text_style." + text.text_style + ",";

                    if (text.padding) items += Environment.NewLine + TabInString(9) + "// padding: true,";
                    if (text.unit_type > 0) items += Environment.NewLine + TabInString(9) + "// unit_type: " + text.unit_type.ToString() + ",";
                    if (text.unit_end) items += Environment.NewLine + TabInString(9) + "// unit_end: true,";
                    if (text.unit_string.Length > 0) items += Environment.NewLine + TabInString(9) + "// unit_string: " + text.unit_string + ",";

                    if (show_level.Length > 0)
                    {
                        items += Environment.NewLine + TabInString(9) + "show_level: hmUI.show_level." + show_level + ",";
                    }
                    items += Environment.NewLine + TabInString(8) + "});";
                    //items += Environment.NewLine + TabInString(8) + variableName + "[i].setProperty(hmUI.prop.VISIBLE, false);";
                    items += Environment.NewLine + TabInString(7) + "};";
                    items += Environment.NewLine + TabInString(6) + "};";
                    items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
                    #endregion

                    if (weather_few_days.IndexOf(strFor) < 0)
                        weather_few_days += Environment.NewLine + TabInString(7) + strFor;

                    weather_few_days += Environment.NewLine + TabInString(8) + "// Number_Font_Maxmin";
                    if (weather_few_days.IndexOf("let " + optionNameStart + "max_min_Temperature_font = '-';") < 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(8) + "let " + optionNameStart + "max_min_Temperature_font = '-';";
                        weather_few_days += Environment.NewLine + TabInString(8) + "if (i < forecastData.count) {";
                        weather_few_days += Environment.NewLine + TabInString(9) + optionNameStart + "max_min_Temperature_font = forecastData.data[i].high.toString();";
                        weather_few_days += Environment.NewLine + TabInString(9) + optionNameStart + "max_min_Temperature_font += '" + text.unit_string + "';";
                        weather_few_days += Environment.NewLine + TabInString(9) + optionNameStart + "max_min_Temperature_font += forecastData.data[i].low.toString();";
                        weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    }

                    weather_few_days += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type." + screenType + ") {";

                    if (text.unit_type == 0)
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, " + optionNameStart + "max_min_Temperature_font);";
                    }
                    else
                    {
                        weather_few_days += Environment.NewLine + TabInString(9) + variableName + "[i].setProperty(hmUI.prop.TEXT, " + optionNameStart + "max_min_Temperature_font + '°');";
                    }
                    weather_few_days += Environment.NewLine + TabInString(8) + "};";
                    weather_few_days += Environment.NewLine + TabInString(8);
                }

                // Icon
                if (weatherFewDays.Icon != null && weatherFewDays.Icon.visible && index == weatherFewDays.Icon.position && weatherFewDays.Icon.src != null && weatherFewDays.Icon.src.Length > 0)
                {
                    string iconOptions = IMG_Сommented_Options(weatherFewDays.Icon, show_level);
                    items += Environment.NewLine + Environment.NewLine + TabInString(6) + "// " + optionNameStart + "forecast_icon_img = hmUI.createWidget(hmUI.widget.IMG_Options, {" +
                                    iconOptions + TabInString(6) + "// });";

                    iconOptions = IMG_Options(weatherFewDays.Icon, show_level);
                    
                    variables += TabInString(4) + "let " + optionNameStart + "forecast_icon_img = ''" + Environment.NewLine;
                    items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type." + screenType + ") {";
                    items += Environment.NewLine + TabInString(7) + optionNameStart + 
                        "forecast_icon_img = " + groupName + ".createWidget(hmUI.widget.IMG, {" + iconOptions + TabInString(7) + "});";
                    items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

                    if (weatherFewDays.Icon.alpha != 255) items += Environment.NewLine + TabInString(6) + optionNameStart +
                            "forecast_icon_img.setAlpha(" + weatherFewDays.Icon.alpha.ToString() + ");" + Environment.NewLine;
                }
            }

            if (weather_few_days.IndexOf("maximal_temp") > 0)
            {
                string weather_few_days_start = "";
                weather_few_days_start += Environment.NewLine + TabInString(7) + "if (screenType == hmSetting.screen_type." + screenType + ") result = graphScale(" +
                                    weatherFewDays.Diagram.Height.ToString() + ", " + pointMaxSize.ToString() + ", " + pointMinSize.ToString() +
                                    ", forecastData.data, " + daysCount.ToString() + ");";

                if (weather_few_days.IndexOf("let forecastGraphScale") < 0)
                {
                    weather_few_days_start += Environment.NewLine + TabInString(7) + "let forecastGraphScale = result.graphScale;";
                    weather_few_days_start += Environment.NewLine + TabInString(7) + "let maximal_temp = result.maximal_temp;";
                    weather_few_days_start += Environment.NewLine + TabInString(7) + "console.log(`forecastGraphScale = ${forecastGraphScale}, maximal_temp = ${maximal_temp}`);" + Environment.NewLine;
                }
                weather_few_days = weather_few_days_start + weather_few_days; 
            }
        }

        private void AddWeatherFewDays_Options(FewDays fewDays, /*hmUI_widget_IMG icon,*/ ref string variables, ref string items, string optionNameStart, string show_level)
        {
            if (fewDays == null) return;
            items += TabInString(6) + Environment.NewLine;
            items += TabInString(6) + "// " + optionNameStart + "Weather_FewDays = hmUI.createWidget(hmUI.widget.FewDays, {" + Environment.NewLine;
            items += TabInString(7) + "// x: " + fewDays.X.ToString() + "," + Environment.NewLine;
            items += TabInString(7) + "// y: " + fewDays.Y.ToString() + "," + Environment.NewLine;
            items += TabInString(7) + "// ColumnWidth: " + fewDays.ColumnWidth.ToString() + "," + Environment.NewLine;
            items += TabInString(7) + "// DaysCount: " + fewDays.DaysCount.ToString() + "," + Environment.NewLine;
            if (fewDays.Background != null && fewDays.Background.Length > 0) 
                items += TabInString(7) + "// Background: '" + fewDays.Background + ".png'," + Environment.NewLine;
            //if (icon != null && icon.visible && icon.src != null && icon.src.Length > 0)
            //{
            //    items += TabInString(7) + "// icon_x: " + icon.x.ToString() + "," + Environment.NewLine;
            //    items += TabInString(7) + "// icon_y: " + icon.y.ToString() + "," + Environment.NewLine;
            //    items += TabInString(7) + "// icon_src: " + icon.src.ToString() + "," + Environment.NewLine;
            //}
            items += TabInString(6) + "// });" + Environment.NewLine;

            variables += TabInString(4) + "let " + optionNameStart + "group_ForecastWeather = ''" + Environment.NewLine;
            items += TabInString(6) + Environment.NewLine;
            items += TabInString(6) + optionNameStart + "group_ForecastWeather = hmUI.createWidget(hmUI.widget.GROUP, {" + Environment.NewLine;
            items += TabInString(7) + "x: " + fewDays.X.ToString() + "," + Environment.NewLine;
            items += TabInString(7) + "y: " + fewDays.Y.ToString() + "," + Environment.NewLine;
            items += TabInString(7) + "h: 0," + Environment.NewLine;
            items += TabInString(7) + "w: 0," + Environment.NewLine;
            if (show_level != null && show_level.Length > 0)
            {
                if (show_level.StartsWith("hmUI.show_level")) items += TabInString(7) + "show_level: " + show_level + "," + Environment.NewLine;
                else items += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            items += TabInString(6) + "});" + Environment.NewLine;
        }

        private void AddGraphFunctions(ref string items, bool graphFullScreen)
        {
            int canvasWidth = 215;
            if(graphFullScreen) canvasWidth = 0;
            bool addComents = false;
            if (items.IndexOf("function drawLine") < 0 || items.IndexOf("function drawRect") < 0 ||
                items.IndexOf("function drawCircle") < 0 || items.IndexOf("function drawGraphPoint") < 0) addComents = true;
            if (addComents)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "//start of ignored block" + Environment.NewLine; 
            }
            if (items.IndexOf("function drawLine") < 0)
            {
                items += TabInString(6) + "function drawLine(canvas1, canvas2, x1, y1, x2, y2, color, line_width) {" + Environment.NewLine;
                items += TabInString(7) + "if (x1 > x2) {" + Environment.NewLine;
                items += TabInString(8) + "let temp_x = x1;" + Environment.NewLine;
                items += TabInString(8) + "let temp_y = y1;" + Environment.NewLine;
                items += TabInString(8) + "x1 = x2;" + Environment.NewLine;
                items += TabInString(8) + "y1 = y2;" + Environment.NewLine;
                items += TabInString(8) + "x2 = temp_x;" + Environment.NewLine;
                items += TabInString(8) + "y2 = temp_y;" + Environment.NewLine;
                items += TabInString(7) + "};" + Environment.NewLine;

                if (canvasWidth > 0)
                {
                    items += TabInString(7) + Environment.NewLine;
                    items += TabInString(7) + "if (x1 < " + canvasWidth.ToString() + ") {" + Environment.NewLine;
                    items += TabInString(8) + "canvas1.setPaint({ color: color, line_width: line_width });" + Environment.NewLine;
                    items += TabInString(8) + "canvas1.drawLine({ x1: x1, y1: y1, x2: x2, y2: y2 });" + Environment.NewLine;
                    items += TabInString(7) + "};" + Environment.NewLine;
                    items += TabInString(7) + "if (x2 >= " + canvasWidth.ToString() + ") {" + Environment.NewLine;
                    items += TabInString(8) + "canvas2.setPaint({ color: color, line_width: line_width });" + Environment.NewLine;
                    items += TabInString(8) + "canvas2.drawLine({ x1: x1-" + canvasWidth.ToString() + ", y1: y1, x2: x2-" + canvasWidth.ToString() + ", y2: y2 });" + Environment.NewLine;
                    items += TabInString(7) + "}" + Environment.NewLine; 
                }
                else
                {
                    items += TabInString(7) + "canvas2.setPaint({ color: color, line_width: line_width });" + Environment.NewLine;
                    items += TabInString(7) + "canvas2.drawLine({ x1: x1, y1: y1, x2: x2, y2: y2 });" + Environment.NewLine;
                }

                items += TabInString(6) + "};" + Environment.NewLine; 
            }

            if (items.IndexOf("function drawRect") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "function drawRect(canvas1, canvas2, x1, y1, x2, y2, color) {" + Environment.NewLine;
                items += TabInString(7) + "if (x1 > x2) {" + Environment.NewLine;
                items += TabInString(8) + "let temp_x = x1;" + Environment.NewLine;
                items += TabInString(8) + "let temp_y = y1;" + Environment.NewLine;
                items += TabInString(8) + "x1 = x2;" + Environment.NewLine;
                items += TabInString(8) + "y1 = y2;" + Environment.NewLine;
                items += TabInString(8) + "x2 = temp_x;" + Environment.NewLine;
                items += TabInString(8) + "y2 = temp_y;" + Environment.NewLine;
                items += TabInString(7) + "};" + Environment.NewLine;

                if (canvasWidth > 0)
                {
                    items += TabInString(7) + Environment.NewLine;
                    items += TabInString(7) + "if (x1 < " + canvasWidth.ToString() + ") {" + Environment.NewLine;
                    items += TabInString(8) + "canvas1.drawRect({ x1: x1, y1: y1, x2: x2, y2: y2, color: color });" + Environment.NewLine;
                    items += TabInString(7) + "};" + Environment.NewLine;
                    items += TabInString(7) + "if (x2 >= " + canvasWidth.ToString() + ") {" + Environment.NewLine;
                    items += TabInString(8) + "canvas2.drawRect({ x1: x1-" + canvasWidth.ToString() + ", y1: y1, x2: x2-" + canvasWidth.ToString() + ", y2: y2, color: color });" + Environment.NewLine;
                    items += TabInString(7) + "}" + Environment.NewLine; 
                }
                else
                {
                    items += TabInString(7) + Environment.NewLine;
                    items += TabInString(7) + "canvas2.drawRect({ x1: x1, y1: y1, x2: x2, y2: y2, color: color });" + Environment.NewLine;
                }

                items += TabInString(6) + "};" + Environment.NewLine;
            }

            if (items.IndexOf("function drawCircle") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "function drawCircle(canvas1, canvas2, center_x, center_y, color, radius) {" + Environment.NewLine;
                if (canvasWidth > 0)
                {
                    items += TabInString(7) + "if (center_x < " + canvasWidth.ToString() + "+radius) {" + Environment.NewLine;
                    items += TabInString(8) + "canvas1.drawCircle({ center_x: center_x, center_y: center_y, radius: radius, color: color });" + Environment.NewLine;
                    items += TabInString(7) + "};" + Environment.NewLine;
                    items += TabInString(7) + "if (center_x >= " + canvasWidth.ToString() + "-radius) {" + Environment.NewLine;
                    items += TabInString(8) + "canvas2.drawCircle({ center_x: center_x-" + canvasWidth.ToString() + ", center_y: center_y, radius: radius, color: color });" + Environment.NewLine;
                    items += TabInString(7) + "}" + Environment.NewLine; 
                }
                else
                {
                    items += TabInString(7) + "canvas2.drawCircle({ center_x: center_x, center_y: center_y, radius: radius, color: color });" + Environment.NewLine;
                }

                items += TabInString(6) + "};" + Environment.NewLine;
            }

            if (items.IndexOf("function drawGraphPoint") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "function drawGraphPoint(canvas1, canvas2, x, y, color, pointSize, pointType) {" + Environment.NewLine;
                items += TabInString(7) + "switch (pointType) {" + Environment.NewLine;

                items += TabInString(8) + "case 1:" + Environment.NewLine;
                items += TabInString(9) + "x -= pointSize/2;" + Environment.NewLine;
                items += TabInString(9) + "y -= pointSize/2;" + Environment.NewLine;
                items += TabInString(9) + "drawRect(canvas1, canvas2, x, y, x+pointSize, y+pointSize, color);" + Environment.NewLine;
                items += TabInString(9) + "break;" + Environment.NewLine;

                items += TabInString(8) + "case 2:" + Environment.NewLine;
                items += TabInString(9) + "let posX = x - pointSize/2;" + Environment.NewLine;
                items += TabInString(9) + "let posY = y - pointSize/2;" + Environment.NewLine;
                items += TabInString(9) + "drawRect(canvas1, canvas2, posX, posY, posX+pointSize, posY+pointSize, color );" + Environment.NewLine;
                items += TabInString(9) + "posX = x - pointSize/4;" + Environment.NewLine;
                items += TabInString(9) + "posY = y - pointSize/4;" + Environment.NewLine;
                items += TabInString(9) + "drawRect(canvas1, canvas2, posX, posY, posX+pointSize/2, posY+pointSize/2, 0xffffff );" + Environment.NewLine;
                items += TabInString(9) + "break;" + Environment.NewLine;

                items += TabInString(8) + "case 3:" + Environment.NewLine;
                items += TabInString(9) + "drawCircle(canvas1, canvas2, x, y, color, pointSize/2 );" + Environment.NewLine;
                items += TabInString(9) + "break;" + Environment.NewLine;

                items += TabInString(8) + "case 4:" + Environment.NewLine;
                items += TabInString(9) + "drawCircle(canvas1, canvas2, x, y, color, pointSize/2 );" + Environment.NewLine;
                items += TabInString(9) + "drawCircle(canvas1, canvas2, x, y, 0xffffff, pointSize/4 );" + Environment.NewLine;
                items += TabInString(9) + "break;" + Environment.NewLine;

                items += TabInString(7) + "}" + Environment.NewLine;

                items += TabInString(6) + "};" + Environment.NewLine;
            }

            if (addComents) items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
        }

        private void AddGraphScaleFunction(ref string items)
        {
            if (items.IndexOf("function graphScale") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += Environment.NewLine + TabInString(6) + "//start of ignored block" + Environment.NewLine;

                items += TabInString(6) + "function graphScale(heightGraph, maxPointSize, minPointSize, forecastData, daysCount) {" + Environment.NewLine;
                items += TabInString(7) + "console.log(`function graphScale`);" + Environment.NewLine;
                ////items += TabInString(7) + "console.log(`forecastData = ${forecastData}, daysCount = ${daysCount}`);" + Environment.NewLine;
                //items += TabInString(7) + "if (maxPointType > 0 && maxPointSize > maxLineWidth) maxLineWidth = maxPointSize;" + Environment.NewLine;
                //items += TabInString(7) + "if (minPointType > 0 && minPointSize > minLineWidth) minLineWidth = minPointSize;" + Environment.NewLine;
                items += TabInString(7) + "heightGraph -= (maxPointSize + minPointSize) / 2;" + Environment.NewLine;
                items += TabInString(7) + "let high = -300;" + Environment.NewLine;
                items += TabInString(7) + "let low = 300;" + Environment.NewLine;
                items += TabInString(7) + "for (let index = 0; index < daysCount; index++) {" + Environment.NewLine;
                items += TabInString(8) + "if (index < forecastData.length) {" + Environment.NewLine;
                items += TabInString(9) + "let item = forecastData[index];" + Environment.NewLine;
                items += TabInString(9) + "if (item.high > high) high = item.high;;" + Environment.NewLine;
                items += TabInString(9) + "if (item.low < low) low = item.low; ;" + Environment.NewLine;
                items += TabInString(8) + "} // end if" + Environment.NewLine;
                items += TabInString(7) + "} // end for" + Environment.NewLine;
                items += TabInString(7) + "let delta = high - low;" + Environment.NewLine;
                items += TabInString(7) + "let scale = heightGraph / delta;" + Environment.NewLine;
                items += TabInString(7) + "console.log(`heightGraph: ${heightGraph}; high: ${high}; low : ${low}`);" + Environment.NewLine;
                items += TabInString(7) + "return {graphScale: scale, maximal_temp: high};" + Environment.NewLine;
                items += TabInString(6) + "};" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + "//end of ignored block" + Environment.NewLine;
            }
        }

        private void AddEditableElementToJS(Object element, string show_level, string optionNameStart, ref string variables, out string outItems,
            ref string items, ref string scale_update_function, /*string exist_items,*/
            ref string resume_call, ref string pause_call)
        {
            outItems = "";
            string type = element.GetType().Name;

            int imagesPosition = 99;
            int segmentsPosition = 99;
            int numberPosition = 99;
            int numberTargetPosition = 99;
            int pointerPosition = 99;
            int circleScalePosition = 99;
            int linearScalePosition = 99;
            int iconPosition = 99;

            string imagesOptions = "";
            string segmentsOptions = "";
            string numberOptions = "";
            string numberTargetOptions = "";
            string pointerOptions = "";
            string circleScaleOptions = "";
            string circleScaleProgressOptions = "";
            string circleScaleProgressMirrorOptions = "";
            string linearScaleOptions = "";
            Circle_Scale circle_scale = null;
            Linear_Scale linear_scale = null;
            string iconOptions = "";

            string numberOptions_separator = "";
            string numberTargetOptions_separator = "";

            switch (type)
            {
                #region ElementDateDay
                case "ElementDateDay":
                    ElementDateDay DateDay = (ElementDateDay)element;
                    if (!DateDay.visible) return;
                    int pointerPositionDay = 99;
                    int numberPositionDay = 99;
                    string optionsPointerDay = "";
                    string optionsNumberDay = "";
                    string optionsNumberDay_separator = "";
                    if (DateDay.Pointer != null && DateDay.Pointer.visible)
                    {
                        pointerPositionDay = DateDay.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateDay.Pointer;
                        optionsPointerDay = DATE_POINTER_Options(img_pointer, "DAY", show_level, 2);
                    }
                    if (DateDay.Number != null && DateDay.Number.visible)
                    {
                        numberPositionDay = DateDay.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = DateDay.Number;
                        optionsNumberDay = IMG_NUMBER_Day_Options(img_number, show_level, 2);

                        optionsNumberDay_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        if (index == pointerPositionDay && optionsPointerDay.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                               "hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                               optionsPointerDay + TabInString(8) + "});" + Environment.NewLine;
                        }

                        if (index == numberPositionDay && optionsNumberDay.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_DATE, {" + 
                                optionsNumberDay + TabInString(8) + "});" + Environment.NewLine;

                            if (optionsNumberDay_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    optionsNumberDay_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }
                    }
                    break;
                #endregion

                #region ElementDateMonth
                case "ElementDateMonth":
                    ElementDateMonth DateMonth = (ElementDateMonth)element;
                    if (!DateMonth.visible) return;
                    int pointerPositionMonth = 99;
                    int numberPositionMonth = 99;
                    int imagesPositionMonth = 99;
                    string optionsPointerMonth = "";
                    string optionsNumberMonth = "";
                    string optionsNumberMonth_separator = "";
                    string optionsImagesMonth = "";
                    if (DateMonth.Pointer != null && DateMonth.Pointer.visible)
                    {
                        pointerPositionMonth = DateMonth.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateMonth.Pointer;
                        optionsPointerMonth = DATE_POINTER_Options(img_pointer, "MONTH", show_level, 2);
                    }
                    if (DateMonth.Number != null && DateMonth.Number.visible)
                    {
                        numberPositionMonth = DateMonth.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = DateMonth.Number;
                        optionsNumberMonth = IMG_NUMBER_Month_Options(img_number, show_level, 2);

                        optionsNumberMonth_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (DateMonth.Images != null && DateMonth.Images.visible)
                    {
                        imagesPositionMonth = DateMonth.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = DateMonth.Images;
                        optionsImagesMonth = IMG_IMAGES_Month_Options(img_images, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        if (index == pointerPositionMonth && optionsPointerMonth.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                                    optionsPointerMonth + TabInString(8) + "});" + Environment.NewLine;
                        }

                        if (index == numberPositionMonth && optionsNumberMonth.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsNumberMonth + TabInString(8) + "});" + Environment.NewLine;

                            if (optionsNumberMonth_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        optionsNumberMonth_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        if (index == imagesPositionMonth && optionsImagesMonth.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "date_img_date_month_img = hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                    optionsImagesMonth + TabInString(8) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementDateYear
                case "ElementDateYear":
                    ElementDateYear DateYear = (ElementDateYear)element;
                    if (!DateYear.visible) return;
                    string optionsNumberYear = "";
                    string optionsNumberYear_separator = "";
                    if (DateYear.Number != null)
                    {
                        hmUI_widget_IMG_NUMBER img_number = DateYear.Number;
                        optionsNumberYear = IMG_NUMBER_Year_Options(img_number, show_level, 2);

                        optionsNumberYear_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }

                    if (optionsNumberYear.Length > 5)
                    {
                        outItems += Environment.NewLine + TabInString(8) +
                            "hmUI.createWidget(hmUI.widget.IMG_DATE, {" +
                                optionsNumberYear + TabInString(8) + "});" + Environment.NewLine;

                        if (optionsNumberYear_separator.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    optionsNumberYear_separator + TabInString(8) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementDateWeek
                case "ElementDateWeek":
                    ElementDateWeek DateWeek = (ElementDateWeek)element;
                    if (!DateWeek.visible) return;
                    int pointerPositionWeek = 99;
                    int imagesPositionWeek = 99;
                    string optionsPointerWeek = "";
                    string optionsImagesWeek = "";
                    if (DateWeek.Pointer != null && DateWeek.Pointer.visible)
                    {
                        pointerPositionWeek = DateWeek.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = DateWeek.Pointer;
                        optionsPointerWeek = DATE_POINTER_Options(img_pointer, "WEEK", show_level, 2);
                    }
                    if (DateWeek.Images != null && DateWeek.Images.visible)
                    {
                        imagesPositionWeek = DateWeek.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = DateWeek.Images;
                        optionsImagesWeek = IMG_IMAGES_Week_Options(img_images, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        if (index == pointerPositionWeek && optionsPointerWeek.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.DATE_POINTER, {" +
                                    optionsPointerWeek + TabInString(8) + "});" + Environment.NewLine;
                        }

                        if (index == imagesPositionWeek && optionsImagesWeek.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_WEEK, {" +
                                    optionsImagesWeek + TabInString(8) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion


                #region ElementSteps
                case "ElementSteps":
                    ElementSteps Steps = (ElementSteps)element;

                    if (!Steps.visible) return;
                    if (Steps.Images != null && Steps.Images.visible)
                    {
                        imagesPosition = Steps.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Steps.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STEP", show_level, 2);
                    }
                    if (Steps.Segments != null && Steps.Segments.visible)
                    {
                        segmentsPosition = Steps.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Steps.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STEP", show_level, 2);
                    }
                    if (Steps.Number != null && Steps.Number.visible)
                    {
                        numberPosition = Steps.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Steps.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STEP", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Steps.Number_Target != null && Steps.Number_Target.visible)
                    {
                        numberTargetPosition = Steps.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Steps.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "STEP_TARGET", show_level, 2);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Steps.Pointer != null && Steps.Pointer.visible)
                    {
                        pointerPosition = Steps.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Steps.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STEP", show_level, 2);
                    }

                    if (Steps.Circle_Scale != null && Steps.Circle_Scale.visible)
                    {
                        circleScalePosition = Steps.Circle_Scale.position;
                        circle_scale = Steps.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "STEP", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 2);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 2);
                    }
                    if (Steps.Linear_Scale != null && Steps.Linear_Scale.visible)
                    {
                        linearScalePosition = Steps.Linear_Scale.position;
                        linear_scale = Steps.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "STEP", "step", show_level, 2);
                    }

                    if (Steps.Icon != null && Steps.Icon.visible)
                    {
                        iconPosition = Steps.Icon.position;
                        hmUI_widget_IMG img_icon = Steps.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            string variableName = optionNameStart + "step_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "step_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName +  " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale STEP');" + Environment.NewLine;
                            if (outItems.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0 &&
                                items.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const step = hmSensor.createSensor(hmSensor.id.STEP);" + Environment.NewLine;
                                if (items.IndexOf("step.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "step.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressStep") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStep = step.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStep = step.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStep = valueStep/targetStep;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStep > 1) progressStep = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "step = 1 - progressStep;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "step = progressStep;" + Environment.NewLine;
                            }
                            //scale_update_function += Environment.NewLine + TabInString(8) +
                            //        "if (" + variableName + ") {" + Environment.NewLine;
                            //scale_update_function += Circle_Scale_WidgetDelegate_Options(circle_scale, optionNameStart, "step", 0);
                            //scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                            string progress_name = "progress_cs_" + optionNameStart + "step";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror, 
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;
                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "step_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale STEP');" + Environment.NewLine;
                            if (outItems.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0 &&
                                items.IndexOf("const step = hmSensor.createSensor(hmSensor.id.STEP);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const step = hmSensor.createSensor(hmSensor.id.STEP);" + Environment.NewLine;
                                if (items.IndexOf("step.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "step.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressStep") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStep = step.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStep = step.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStep = valueStep/targetStep;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStep > 1) progressStep = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "step = 1 - progressStep;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "step = progressStep;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "step", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementBattery
                case "ElementBattery":
                    ElementBattery Battery = (ElementBattery)element;

                    if (!Battery.visible) return;
                    if (Battery.Images != null && Battery.Images.visible)
                    {
                        imagesPosition = Battery.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Battery.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "BATTERY", show_level, 2);
                    }
                    if (Battery.Segments != null && Battery.Segments.visible)
                    {
                        segmentsPosition = Battery.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Battery.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "BATTERY", show_level, 2);
                    }
                    if (Battery.Number != null && Battery.Number.visible)
                    {
                        numberPosition = Battery.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Battery.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "BATTERY", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Battery.Pointer != null && Battery.Pointer.visible)
                    {
                        pointerPosition = Battery.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Battery.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "BATTERY", show_level, 2);
                    }

                    if (Battery.Circle_Scale != null && Battery.Circle_Scale.visible)
                    {
                        circleScalePosition = Battery.Circle_Scale.position;
                        circle_scale = Battery.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "BATTERY", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 2);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 2);
                    }
                    if (Battery.Linear_Scale != null && Battery.Linear_Scale.visible)
                    {
                        linearScalePosition = Battery.Linear_Scale.position;
                        linear_scale = Battery.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "BATTERY", "battery", show_level, 2);
                    }

                    if (Battery.Icon != null && Battery.Icon.visible)
                    {
                        iconPosition = Battery.Icon.position;
                        hmUI_widget_IMG img_icon = Battery.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            string variableName = optionNameStart + "battery_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "battery_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale BATTERY');" + Environment.NewLine;
                            if (outItems.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0 &
                                items.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const battery = hmSensor.createSensor(hmSensor.id.BATTERY);" + Environment.NewLine;
                                if (items.IndexOf("battery.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "battery.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressBattery") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueBattery = battery.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetBattery = 100;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressBattery = valueBattery/targetBattery;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressBattery > 1) progressBattery = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "battery = 1 - progressBattery;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "battery = progressBattery;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "battery";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "battery_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            //if (optionNameStart == "normal_")
                            //    items += Environment.NewLine + TabInString(6) + "if (screenType != hmSetting.screen_type.AOD) {";
                            //else items += Environment.NewLine + TabInString(6) + "if (screenType == hmSetting.screen_type.AOD) {";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale BATTERY');" + Environment.NewLine;
                            if (outItems.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0 &&
                                items.IndexOf("const battery = hmSensor.createSensor(hmSensor.id.BATTERY);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const battery = hmSensor.createSensor(hmSensor.id.BATTERY);" + Environment.NewLine;
                                if (items.IndexOf("battery.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "battery.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressBattery") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueBattery= battery.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetBattery = 100;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressBattery = valueBattery/targetBattery;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressBattery > 1) progressBattery = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "battery = 1 - progressBattery;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "battery = progressBattery;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "battery", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementCalories
                case "ElementCalories":
                    ElementCalories Calories = (ElementCalories)element;

                    if (!Calories.visible) return;
                    if (Calories.Images != null && Calories.Images.visible)
                    {
                        imagesPosition = Calories.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Calories.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "CAL", show_level, 2);
                    }
                    if (Calories.Segments != null && Calories.Segments.visible)
                    {
                        segmentsPosition = Calories.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Calories.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "CAL", show_level, 2);
                    }
                    if (Calories.Number != null && Calories.Number.visible)
                    {
                        numberPosition = Calories.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Calories.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "CAL", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Calories.Number_Target != null && Calories.Number_Target.visible)
                    {
                        numberTargetPosition = Calories.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Calories.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "CAL_TARGET", show_level, 2);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Calories.Pointer != null && Calories.Pointer.visible)
                    {
                        pointerPosition = Calories.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Calories.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "CAL", show_level, 2);
                    }

                    if (Calories.Circle_Scale != null && Calories.Circle_Scale.visible)
                    {
                        circleScalePosition = Calories.Circle_Scale.position;
                        circle_scale = Calories.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "CAL", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 2);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 2);
                    }
                    if (Calories.Linear_Scale != null && Calories.Linear_Scale.visible)
                    {
                        linearScalePosition = Calories.Linear_Scale.position;
                        linear_scale = Calories.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "CAL", "calorie", show_level, 2);
                    }

                    if (Calories.Icon != null && Calories.Icon.visible)
                    {
                        iconPosition = Calories.Icon.position;
                        hmUI_widget_IMG img_icon = Calories.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            string variableName = optionNameStart + "calorie_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "calorie_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale CALORIE');" + Environment.NewLine;
                            if (outItems.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0 &&
                                items.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "calorie.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressCalories") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueCalories = calorie.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetCalories = calorie.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressCalories = valueCalories/targetCalories;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressCalories > 1) progressCalories = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "calorie = 1 - progressCalories;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "calorie = progressCalories;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "calorie";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "calorie_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale CALORIE');" + Environment.NewLine;
                            if (outItems.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0 &&
                                items.IndexOf("const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const calorie = hmSensor.createSensor(hmSensor.id.CALORIE);" + Environment.NewLine;
                                if (items.IndexOf("calorie.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "calorie.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressCalories") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueCalories = calorie.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetCalories = calorie.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressCalories = valueCalories/targetCalories;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressCalories > 1) progressCalories = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "calorie = 1 - progressCalories;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "calorie = progressCalories;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "calorie", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementHeart
                case "ElementHeart":
                    ElementHeart Heart = (ElementHeart)element;

                    if (!Heart.visible) return;
                    if (Heart.Images != null && Heart.Images.visible)
                    {
                        imagesPosition = Heart.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Heart.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "HEART", show_level, 2);
                    }
                    if (Heart.Segments != null && Heart.Segments.visible)
                    {
                        segmentsPosition = Heart.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Heart.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "HEART", show_level, 2);
                    }
                    if (Heart.Number != null && Heart.Number.visible)
                    {
                        numberPosition = Heart.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Heart.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "HEART", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Heart.Pointer != null && Heart.Pointer.visible)
                    {
                        pointerPosition = Heart.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Heart.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "HEART", show_level, 2);
                    }

                    if (Heart.Circle_Scale != null && Heart.Circle_Scale.visible)
                    {
                        circleScalePosition = Heart.Circle_Scale.position;
                        circle_scale = Heart.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "HEART", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 2);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 2);
                    }
                    if (Heart.Linear_Scale != null && Heart.Linear_Scale.visible)
                    {
                        linearScalePosition = Heart.Linear_Scale.position;
                        linear_scale = Heart.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "HEART", "heart_rate", show_level, 2);
                    }

                    if (Heart.Icon != null && Heart.Icon.visible)
                    {
                        iconPosition = Heart.Icon.position;
                        hmUI_widget_IMG img_icon = Heart.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            string variableName = optionNameStart + "heart_rate_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "heart_rate_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale HEART');" + Environment.NewLine;
                            if (outItems.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0 &&
                                items.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                if (items.IndexOf("heart_rate.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "heart_rate.addEventListener(hmSensor.event.LAST, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressHeartRate") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.last;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetHeartRate = 179;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressHeartRate = (valueHeartRate - 71)/(targetHeartRate - 71);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate < 0) progressHeartRate = 0;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate > 1) progressHeartRate = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "heart_rate = 1 - progressHeartRate;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "heart_rate = progressHeartRate;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "heart_rate";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                            pause_call += TabInString(8) + 
                                "if (heart_rate) heart_rate.removeEventListener(heart_rate.event.LAST, function () {});" + Environment.NewLine;
                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "heart_rate_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale HEART');" + Environment.NewLine;
                            if (outItems.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0 &&
                                items.IndexOf("const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const heart_rate = hmSensor.createSensor(hmSensor.id.HEART);" + Environment.NewLine;
                                if (items.IndexOf("heart_rate.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "heart_rate.addEventListener(hmSensor.event.LAST, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressHeartRate") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueHeartRate = heart_rate.last;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetHeartRate = 179;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressHeartRate = (valueHeartRate - 71)/(targetHeartRate - 71);" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate < 0) progressHeartRate = 0;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressHeartRate > 1) progressHeartRate = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "heart_rate = 1 - progressHeartRate;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "heart_rate = progressHeartRate;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "heart_rate", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                            pause_call += TabInString(8) +
                                "if (heart_rate) heart_rate.removeEventListener(heart_rate.event.LAST, function () {});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementPAI
                case "ElementPAI":
                    ElementPAI PAI = (ElementPAI)element;

                    if (!PAI.visible) return;
                    if (PAI.Images != null && PAI.Images.visible)
                    {
                        imagesPosition = PAI.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = PAI.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "PAI_WEEKLY", show_level, 2);
                    }
                    if (PAI.Segments != null && PAI.Segments.visible)
                    {
                        segmentsPosition = PAI.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = PAI.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "PAI_WEEKLY", show_level, 2);
                    }
                    if (PAI.Number != null && PAI.Number.visible)
                    {
                        numberPosition = PAI.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = PAI.Number;
                        //numberOptions = IMG_NUMBER_Options(img_number, "PAI_DAILY", show_level, 2);
                        numberOptions = IMG_NUMBER_Options(img_number, "PAI_WEEKLY", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    //if (PAI.Number_Target != null && PAI.Number_Target.enable)
                    //{
                    //    numberTargetPosition = PAI.Number_Target.position;
                    //    hmUI_widget_IMG_NUMBER img_number = PAI.Number_Target;
                    //    numberTargetOptions = IMG_NUMBER_Options(img_number, "PAI_WEEKLY", show_level, 2);

                    //    numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    //}
                    if (PAI.Pointer != null && PAI.Pointer.visible)
                    {
                        pointerPosition = PAI.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = PAI.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "PAI_WEEKLY", show_level);
                    }

                    if (PAI.Circle_Scale != null && PAI.Circle_Scale.visible)
                    {
                        circleScalePosition = PAI.Circle_Scale.position;
                        circle_scale = PAI.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "PAI_WEEKLY", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 3);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 3);
                    }
                    if (PAI.Linear_Scale != null && PAI.Linear_Scale.visible)
                    {
                        linearScalePosition = PAI.Linear_Scale.position;
                        linear_scale = PAI.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "PAI_WEEKLY", "pai", show_level, 2);
                    }

                    if (PAI.Icon != null && PAI.Icon.visible)
                    {
                        iconPosition = PAI.Icon.position;
                        hmUI_widget_IMG img_icon = PAI.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null && circleScaleProgressOptions.Length > 5)
                        {
                            string variableName = optionNameStart + "pai_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "pai_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale PAI');" + Environment.NewLine;
                            if (outItems.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0 &&
                                items.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const pai = hmSensor.createSensor(hmSensor.id.PAI);" + Environment.NewLine;
                                if (items.IndexOf("pai.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "pai.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressPAI") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valuePAI = pai.totalpai;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetPAI = 100;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressPAI = valuePAI/targetPAI;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressPAI > 1) progressPAI = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "pai = 1 - progressPAI;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "pai = progressPAI;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "pai";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "pai_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale PAI');" + Environment.NewLine;
                            if (outItems.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0 &
                                items.IndexOf("const pai = hmSensor.createSensor(hmSensor.id.PAI);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const pai = hmSensor.createSensor(hmSensor.id.PAI);" + Environment.NewLine;
                                if (items.IndexOf("pai.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "pai.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressPAI") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valuePAI = pai.totalpai;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetPAI = 100;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressPAI = valuePAI/targetPAI;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressPAI > 1) progressPAI = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "pai = 1 - progressPAI;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "pai = progressPAI;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "pai", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementDistance
                case "ElementDistance":
                    ElementDistance Distance = (ElementDistance)element;

                    if (!Distance.visible) return;
                    if (Distance.Number != null)
                    {
                        numberPosition = Distance.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Distance.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "DISTANCE", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }

                    // Number
                    if (numberOptions.Length > 5)
                    {
                        outItems += Environment.NewLine + TabInString(8) +
                            "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                numberOptions + TabInString(8) + "});" + Environment.NewLine;

                        if (numberOptions_separator.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementStand
                case "ElementStand":
                    ElementStand Stand = (ElementStand)element;

                    if (!Stand.visible) return;
                    if (Stand.Images != null && Stand.Images.visible)
                    {
                        imagesPosition = Stand.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Stand.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STAND", show_level, 2);
                    }
                    if (Stand.Segments != null && Stand.Segments.visible)
                    {
                        segmentsPosition = Stand.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Stand.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STAND", show_level, 2);
                    }
                    if (Stand.Number != null && Stand.Number.visible)
                    {
                        numberPosition = Stand.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Stand.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STAND", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Stand.Number_Target != null && Stand.Number_Target.visible)
                    {
                        numberTargetPosition = Stand.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = Stand.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "STAND_TARGET", show_level, 2);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Stand.Pointer != null && Stand.Pointer.visible)
                    {
                        pointerPosition = Stand.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Stand.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STAND", show_level);
                    }

                    if (Stand.Circle_Scale != null && Stand.Circle_Scale.visible)
                    {
                        circleScalePosition = Stand.Circle_Scale.position;
                        circle_scale = Stand.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "STAND", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 3);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 3);
                    }
                    if (Stand.Linear_Scale != null && Stand.Linear_Scale.visible)
                    {
                        linearScalePosition = Stand.Linear_Scale.position;
                        linear_scale = Stand.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "STAND", "stand", show_level, 2);
                    }

                    if (Stand.Icon != null && Stand.Icon.visible)
                    {
                        iconPosition = Stand.Icon.position;
                        hmUI_widget_IMG img_icon = Stand.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    optionNameStart + "stand_current_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    optionNameStart + "stand_target_separator_img = hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null)
                        {
                            string variableName = optionNameStart + "stand_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "stand_circle_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale STAND');" + Environment.NewLine;
                            if (outItems.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0 &&
                                items.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const stand = hmSensor.createSensor(hmSensor.id.STAND);" + Environment.NewLine;
                                if (items.IndexOf("stand.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "stand.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressStand") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStand = stand.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStand = stand.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStand = valueStand/targetStand;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStand > 1) progressStand = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "stand = 1 - progressStand;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "stand = progressStand;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "stand";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "stand_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale STAND');" + Environment.NewLine;
                            if (outItems.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0 &&
                                items.IndexOf("const stand = hmSensor.createSensor(hmSensor.id.STAND);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const stand = hmSensor.createSensor(hmSensor.id.STAND);" + Environment.NewLine;
                                if (items.IndexOf("stand.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "stand.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressStand") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueStand = stand.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetStand = stand.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressStand = valueStand/targetStand;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressStand > 1) progressStand = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "stand = 1 - progressStand;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "stand = progressStand;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "stand", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementSpO2
                case "ElementSpO2":
                    ElementSpO2 SpO2 = (ElementSpO2)element;

                    if (!SpO2.visible) return;
                    if (SpO2.Number != null)
                    {
                        numberPosition = SpO2.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = SpO2.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "SPO2", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }

                    // Number
                    if (numberOptions.Length > 5)
                    {
                        outItems += Environment.NewLine + TabInString(8) +
                            "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                numberOptions + TabInString(8) + "});" + Environment.NewLine;

                        if (numberOptions_separator.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                        }
                    }
                    break;
                #endregion

                #region ElementStress
                case "ElementStress":
                    ElementStress Stress = (ElementStress)element;

                    if (!Stress.visible) return;
                    if (Stress.Images != null && Stress.Images.visible)
                    {
                        imagesPosition = Stress.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Stress.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "STRESS", show_level, 2);
                    }
                    if (Stress.Segments != null && Stress.Segments.visible)
                    {
                        segmentsPosition = Stress.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Stress.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "STRESS", show_level, 2);
                    }
                    if (Stress.Number != null && Stress.Number.visible)
                    {
                        numberPosition = Stress.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Stress.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "STRESS", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Stress.Pointer != null && Stress.Pointer.visible)
                    {
                        pointerPosition = Stress.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Stress.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "STRESS", show_level, 2);
                    }


                    if (Stress.Icon != null && Stress.Icon.visible)
                    {
                        iconPosition = Stress.Icon.position;
                        hmUI_widget_IMG img_icon = Stress.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementFatBurning
                case "ElementFatBurning":
                    ElementFatBurning FatBurning = (ElementFatBurning)element;

                    if (!FatBurning.visible) return;
                    if (FatBurning.Images != null && FatBurning.Images.visible)
                    {
                        imagesPosition = FatBurning.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = FatBurning.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "FAT_BURNING", show_level, 2);
                    }
                    if (FatBurning.Segments != null && FatBurning.Segments.visible)
                    {
                        segmentsPosition = FatBurning.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = FatBurning.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "FAT_BURNING", show_level, 2);
                    }
                    if (FatBurning.Number != null && FatBurning.Number.visible)
                    {
                        numberPosition = FatBurning.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = FatBurning.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "FAT_BURNING", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (FatBurning.Number_Target != null && FatBurning.Number_Target.visible)
                    {
                        numberTargetPosition = FatBurning.Number_Target.position;
                        hmUI_widget_IMG_NUMBER img_number = FatBurning.Number_Target;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "FAT_BURNING_TARGET", show_level, 2);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (FatBurning.Pointer != null && FatBurning.Pointer.visible)
                    {
                        pointerPosition = FatBurning.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = FatBurning.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "FAT_BURNING", show_level, 2);
                    }

                    if (FatBurning.Circle_Scale != null && FatBurning.Circle_Scale.visible)
                    {
                        circleScalePosition = FatBurning.Circle_Scale.position;
                        circle_scale = FatBurning.Circle_Scale;

                        circleScaleOptions = Circle_Scale_Options(circle_scale, optionNameStart, "FAT_BURNING", show_level, 2);
                        circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 3);
                        circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 3);
                    }
                    if (FatBurning.Linear_Scale != null && FatBurning.Linear_Scale.visible)
                    {
                        linearScalePosition = FatBurning.Linear_Scale.position;
                        linear_scale = FatBurning.Linear_Scale;

                        linearScaleOptions = Linear_Scale_Options(linear_scale, optionNameStart, "FAT_BURNING", "fat_burning", show_level, 2);
                    }

                    if (FatBurning.Icon != null && FatBurning.Icon.visible)
                    {
                        iconPosition = FatBurning.Icon.position;
                        hmUI_widget_IMG img_icon = FatBurning.Icon;
                        iconOptions = IMG_Options(img_icon, show_level);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Circle_Scale
                        if (index == circleScalePosition && circle_scale != null)
                        {
                            string variableName = optionNameStart + "fat_burning_circle_scale";
                            string optionNameMirror = "";
                            if (circle_scale.mirror) optionNameMirror = optionNameStart + "fat_burning_scale_mirror";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;

                            outItems += circleScaleOptions;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            //items += Environment.NewLine + TabInString(9) +
                            //    variableName + " = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                            outItems += Environment.NewLine + TabInString(9) + variableName + " = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                    circleScaleProgressOptions + TabInString(9) + "});" + Environment.NewLine;

                            if (circle_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName + "_mirror = null;" + Environment.NewLine;

                                //items += TabInString(9) + variableName +
                                //    "_mirror = hmUI.createWidget(hmUI.widget.ARC);" + Environment.NewLine;

                                outItems += Environment.NewLine + TabInString(9) + variableName + "_mirror = hmUI.createWidget(hmUI.widget.ARC_PROGRESS, {" +
                                        circleScaleProgressMirrorOptions + TabInString(9) + "});" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable circle_scale FAT_BURNING');" + Environment.NewLine;
                            if (outItems.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0 &&
                                items.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);" + Environment.NewLine;
                                if (items.IndexOf("fat_burning.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "fat_burning.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressFatBurning") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueFatBurning = fat_burning.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetFatBurning = fat_burning.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressFatBurning = valueFatBurning/targetFatBurning;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressFatBurning > 1) progressFatBurning = 1;" + Environment.NewLine;
                            }

                            if (circle_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "fat_burning = 1 - progressFatBurning;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_cs_" + optionNameStart +
                                "fat_burning = progressFatBurning;" + Environment.NewLine;
                            }

                            string progress_name = "progress_cs_" + optionNameStart + "fat_burning";
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Circle_Scale_Progress_WidgetDelegate_Options(circle_scale, variableName, optionNameMirror,
                                progress_name, show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;

                        }

                        // Linear_Scale
                        if (index == linearScalePosition && linear_scale != null)
                        {
                            string variableName = optionNameStart + "fat_burning_linear_scale";
                            variables += TabInString(4) + "let " + variableName + " = null;" + Environment.NewLine;
                            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                variables += TabInString(4) + "let " + variableName +
                                    "_pointer_img = ''" + Environment.NewLine;

                            if (outItems.IndexOf("let screenType = hmSetting.getScreenType();") < 0 &&
                                items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                                items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                            if (show_level == "ONLY_NORMAL")
                                outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {";
                            else outItems += Environment.NewLine + TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE || screenType == hmSetting.screen_type.AOD) {";

                            outItems += Environment.NewLine + TabInString(9) +
                                variableName + " = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;

                            if (linear_scale.mirror)
                            {
                                variables += TabInString(4) + "let " + variableName +
                                "_mirror = ''" + Environment.NewLine;
                                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                                    variables += TabInString(4) + "let " + variableName +
                                        "_pointer_img_mirror = ''" + Environment.NewLine;

                                outItems += TabInString(9) + variableName +
                                    "_mirror = hmUI.createWidget(hmUI.widget.FILL_RECT);" + Environment.NewLine;
                            }

                            outItems += TabInString(8) + "};" + Environment.NewLine;

                            outItems += linearScaleOptions;


                            scale_update_function += Environment.NewLine + TabInString(8) + "console.log('update editable linear_scale FAT_BURNING');" + Environment.NewLine;
                            if (outItems.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0 &&
                                items.IndexOf("const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);") < 0)
                            {
                                items += TabInString(6) + Environment.NewLine;
                                items += TabInString(6) + "const fat_burning = hmSensor.createSensor(hmSensor.id.FAT_BURRING);" + Environment.NewLine;
                                if (items.IndexOf("fat_burning.addEventListener") < 0)
                                {
                                    outItems += TabInString(8) + "fat_burning.addEventListener(hmSensor.event.CHANGE, function() {" + Environment.NewLine;
                                    outItems += TabInString(9) + "scale_call();" + Environment.NewLine;
                                    outItems += TabInString(8) + "});" + Environment.NewLine;
                                }
                            }

                            if (scale_update_function.IndexOf("progressFatBurning") < 0)
                            {
                                scale_update_function += TabInString(8) + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let valueFatBurning = fat_burning.current;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let targetFatBurning = fat_burning.target;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "let progressFatBurning = valueFatBurning/targetFatBurning;" + Environment.NewLine;
                                scale_update_function += TabInString(8) + "if (progressFatBurning > 1) progressFatBurning = 1;" + Environment.NewLine;
                            }
                            if (linear_scale.inversion)
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "fat_burning = 1 - progressFatBurning;" + Environment.NewLine;
                            }
                            else
                            {
                                scale_update_function += TabInString(8) + "let progress_ls_" + optionNameStart +
                                "fat_burning = progressFatBurning;" + Environment.NewLine;
                            }
                            scale_update_function += Environment.NewLine + TabInString(8) +
                                    "if (" + variableName + ") {" + Environment.NewLine;
                            scale_update_function += Linear_Scale_WidgetDelegate_Options(linear_scale, optionNameStart, "fat_burning", show_level);
                            scale_update_function += TabInString(8) + "};" + Environment.NewLine;



                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion



                #region ElementWeather
                case "ElementWeather":
                    ElementWeather Weather = (ElementWeather)element;
                    int numberMinPosition = 99;
                    int numberMaxPosition = 99;
                    int cityNamePosition = 99;

                    string numberMinOptions = "";
                    string numberMaxOptions = "";
                    string cityNameOptions = "";

                    string numberMinOptions_separator = "";
                    string numberMaxOptions_separator = "";

                    if (!Weather.visible) return;
                    if (Weather.Images != null && Weather.Images.visible)
                    {
                        imagesPosition = Weather.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Weather.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "WEATHER_CURRENT", show_level, 2);
                    }
                    if (Weather.Number != null && Weather.Number.visible)
                    {
                        numberPosition = Weather.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "WEATHER_CURRENT", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level);
                    }
                    if (Weather.Number_Min != null && Weather.Number_Min.visible)
                    {
                        numberMinPosition = Weather.Number_Min.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number_Min;
                        numberMinOptions = IMG_NUMBER_Options(img_number, "WEATHER_LOW", show_level, 2);

                        numberMinOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Weather.Number_Max != null && Weather.Number_Max.visible)
                    {
                        numberMaxPosition = Weather.Number_Max.position;
                        hmUI_widget_IMG_NUMBER img_number = Weather.Number_Max;
                        numberMaxOptions = IMG_NUMBER_Options(img_number, "WEATHER_HIGH", show_level, 2);

                        numberMaxOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Weather.City_Name != null && Weather.City_Name.visible)
                    {
                        cityNamePosition = Weather.City_Name.position;
                        hmUI_widget_TEXT text = Weather.City_Name;
                        cityNameOptions = TEXT_Options(text, show_level, 2);
                    }

                    if (Weather.Icon != null && Weather.Icon.visible)
                    {
                        iconPosition = Weather.Icon.position;
                        hmUI_widget_IMG img_icon = Weather.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {;
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number min
                        if (index == numberMinPosition && numberMinOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMinOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberMinOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMinOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number max
                        if (index == numberMaxPosition && numberMaxOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberMaxOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberMaxOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberMaxOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // City Name
                        if (index == cityNamePosition && cityNameOptions.Length > 5)
                        {
                            variables += TabInString(4) + "let " + optionNameStart +
                                "city_name_text = null;" + Environment.NewLine;
                            outItems += Environment.NewLine + TabInString(8) +
                                optionNameStart + "city_name_text = hmUI.createWidget(hmUI.widget.TEXT, {" +
                                    cityNameOptions + TabInString(8) + "});" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(7) + "console.log('Edit element Wearther city name');" + Environment.NewLine;
                            scale_update_function += Environment.NewLine + TabInString(7) + "if(" + optionNameStart + "city_name_text){" + Environment.NewLine;

                            if (scale_update_function.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
                            {
                                scale_update_function += TabInString(7) +
                                    "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
                                scale_update_function += TabInString(7) +
                                    "const weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
                            }
                            scale_update_function += TabInString(7) + optionNameStart +
                                "city_name_text.setProperty(hmUI.prop.TEXT, weatherData.cityName);" + Environment.NewLine;

                            scale_update_function += Environment.NewLine + TabInString(7) + "};" + Environment.NewLine;

                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementUVIndex
                case "ElementUVIndex":
                    ElementUVIndex UVIndex = (ElementUVIndex)element;

                    if (!UVIndex.visible) return;
                    if (UVIndex.Images != null && UVIndex.Images.visible)
                    {
                        imagesPosition = UVIndex.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = UVIndex.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "UVI", show_level, 2);
                    }
                    if (UVIndex.Segments != null && UVIndex.Segments.visible)
                    {
                        segmentsPosition = UVIndex.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = UVIndex.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "UVI", show_level, 2);
                    }
                    if (UVIndex.Number != null && UVIndex.Number.visible)
                    {
                        numberPosition = UVIndex.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = UVIndex.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "UVI", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (UVIndex.Pointer != null && UVIndex.Pointer.visible)
                    {
                        pointerPosition = UVIndex.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = UVIndex.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "UVI", show_level, 2);
                    }

                    if (UVIndex.Icon != null && UVIndex.Icon.visible)
                    {
                        iconPosition = UVIndex.Icon.position;
                        hmUI_widget_IMG img_icon = UVIndex.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                " hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementHumidity
                case "ElementHumidity":
                    ElementHumidity Humidity = (ElementHumidity)element;

                    if (!Humidity.visible) return;
                    if (Humidity.Images != null && Humidity.Images.visible)
                    {
                        imagesPosition = Humidity.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Humidity.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "HUMIDITY", show_level, 2);
                    }
                    if (Humidity.Segments != null && Humidity.Segments.visible)
                    {
                        segmentsPosition = Humidity.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Humidity.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "HUMIDITY", show_level, 2);
                    }
                    if (Humidity.Number != null && Humidity.Number.visible)
                    {
                        numberPosition = Humidity.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Humidity.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "HUMIDITY", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Humidity.Pointer != null && Humidity.Pointer.visible)
                    {
                        pointerPosition = Humidity.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Humidity.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "HUMIDITY", show_level, 2);
                    }

                    if (Humidity.Icon != null && Humidity.Icon.visible)
                    {
                        iconPosition = Humidity.Icon.position;
                        hmUI_widget_IMG img_icon = Humidity.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementAltimeter
                case "ElementAltimeter":
                    ElementAltimeter Altimeter = (ElementAltimeter)element;

                    if (!Altimeter.visible) return;
                    if (Altimeter.Number != null && Altimeter.Number.visible)
                    {
                        numberPosition = Altimeter.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Altimeter.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "ALTIMETER", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Altimeter.Pointer != null && Altimeter.Pointer.visible)
                    {
                        pointerPosition = Altimeter.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Altimeter.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "ALTIMETER", show_level, 2);
                    }

                    if (Altimeter.Icon != null && Altimeter.Icon.visible)
                    {
                        iconPosition = Altimeter.Icon.position;
                        hmUI_widget_IMG img_icon = Altimeter.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementSunrise
                case "ElementSunrise":
                    ElementSunrise Sunrise = (ElementSunrise)element;
                    string numberSunCurrentOptions = "";
                    string numberSunCurrentOptions_separator = "";
                    int numberSunCurrentPosition = 99;

                    if (!Sunrise.visible) return;
                    if (Sunrise.Images != null && Sunrise.Images.visible)
                    {
                        imagesPosition = Sunrise.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Sunrise.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "SUN_CURRENT", show_level, 2);
                    }
                    if (Sunrise.Segments != null && Sunrise.Segments.visible)
                    {
                        segmentsPosition = Sunrise.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Sunrise.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "SUN_CURRENT", show_level, 2);
                    }
                    if (Sunrise.Sunrise != null && Sunrise.Sunrise.visible)
                    {
                        numberPosition = Sunrise.Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunrise;
                        numberOptions = IMG_NUMBER_Options(img_number, "SUN_RISE", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Sunrise.Sunset != null && Sunrise.Sunset.visible)
                    {
                        numberTargetPosition = Sunrise.Sunset.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunset;
                        numberTargetOptions = IMG_NUMBER_Options(img_number, "SUN_SET", show_level, 2);

                        numberTargetOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Sunrise.Sunset_Sunrise != null && Sunrise.Sunset_Sunrise.visible)
                    {
                        numberSunCurrentPosition = Sunrise.Sunset_Sunrise.position;
                        hmUI_widget_IMG_NUMBER img_number = Sunrise.Sunset_Sunrise;
                        numberSunCurrentOptions = IMG_NUMBER_Options(img_number, "SUN_CURRENT", show_level, 2);

                        numberSunCurrentOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Sunrise.Pointer != null && Sunrise.Pointer.visible)
                    {
                        pointerPosition = Sunrise.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Sunrise.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "SUN_CURRENT", show_level, 2);
                    }

                    if (Sunrise.Icon != null && Sunrise.Icon.visible)
                    {
                        iconPosition = Sunrise.Icon.position;
                        hmUI_widget_IMG img_icon = Sunrise.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_Target
                        if (index == numberTargetPosition && numberTargetOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberTargetOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberTargetOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberTargetOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Number_SunCurrent
                        if (index == numberSunCurrentPosition && numberSunCurrentOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberSunCurrentOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberSunCurrentOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberSunCurrentOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementWind
                case "ElementWind":
                    ElementWind Wind = (ElementWind)element;
                    int directionPosition = 99;
                    string directionOptions = "";

                    if (!Wind.visible) return;
                    if (Wind.Images != null && Wind.Images.visible)
                    {
                        imagesPosition = Wind.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Wind.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "WIND", show_level, 2);
                    }
                    if (Wind.Segments != null && Wind.Segments.visible)
                    {
                        segmentsPosition = Wind.Segments.position;
                        hmUI_widget_IMG_PROGRESS img_progress = Wind.Segments;
                        segmentsOptions = IMG_PROGRESS_Options(img_progress, "WIND", show_level, 2);
                    }
                    if (Wind.Number != null && Wind.Number.visible)
                    {
                        numberPosition = Wind.Number.position;
                        hmUI_widget_IMG_NUMBER img_number = Wind.Number;
                        numberOptions = IMG_NUMBER_Options(img_number, "WIND", show_level, 2);

                        numberOptions_separator = IMG_Separator_Options(img_number, show_level, 2);
                    }
                    if (Wind.Pointer != null && Wind.Pointer.visible)
                    {
                        pointerPosition = Wind.Pointer.position;
                        hmUI_widget_IMG_POINTER img_pointer = Wind.Pointer;
                        pointerOptions = IMG_POINTER_Options(img_pointer, "WIND", show_level, 2);
                    }
                    if (Wind.Direction != null && Wind.Direction.visible)
                    {
                        directionPosition = Wind.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Wind.Direction;
                        directionOptions = IMG_IMAGES_Options(img_images, "WIND_DIRECTION", show_level, 2);
                    }

                    if (Wind.Icon != null && Wind.Icon.visible)
                    {
                        iconPosition = Wind.Icon.position;
                        hmUI_widget_IMG img_icon = Wind.Icon;
                        iconOptions = IMG_Options(img_icon, show_level, 2);
                    }

                    for (int index = 1; index <= 15; index++)
                    {
                        // Images
                        if (index == imagesPosition && imagesOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Segments
                        if (index == segmentsPosition && segmentsOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_PROGRESS, {" +
                                    segmentsOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Number
                        if (index == numberPosition && numberOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.TEXT_IMG, {" +
                                    numberOptions + TabInString(8) + "});" + Environment.NewLine;

                            if (numberOptions_separator.Length > 5)
                            {
                                outItems += Environment.NewLine + TabInString(8) +
                                    "hmUI.createWidget(hmUI.widget.IMG, {" +
                                        numberOptions_separator + TabInString(8) + "});" + Environment.NewLine;
                            }
                        }

                        // Pointer
                        if (index == pointerPosition && pointerOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_POINTER, {" +
                                    pointerOptions + TabInString(8) + "});" + Environment.NewLine;
                        }

                        // Wind direction
                        if (index == directionPosition && directionOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                    directionOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                        // Icon
                        if (index == iconPosition && iconOptions.Length > 5)
                        {
                            outItems += Environment.NewLine + TabInString(8) +
                                "hmUI.createWidget(hmUI.widget.IMG, {" +
                                    iconOptions + TabInString(8) + "});" + Environment.NewLine;
                        }


                    }
                    break;
                #endregion

                #region ElementMoon
                case "ElementMoon":
                    ElementMoon Moon = (ElementMoon)element;

                    if (!Moon.visible) return;
                    if (Moon.Images != null)
                    {
                        imagesPosition = Moon.Images.position;
                        hmUI_widget_IMG_LEVEL img_images = Moon.Images;
                        imagesOptions = IMG_IMAGES_Options(img_images, "MOON", show_level, 2);
                    }

                    // Images
                    if (imagesOptions.Length > 5)
                    {
                        outItems += Environment.NewLine + TabInString(8) +
                            "hmUI.createWidget(hmUI.widget.IMG_LEVEL, {" +
                                imagesOptions + TabInString(8) + "});" + Environment.NewLine;
                    }
                    break;
                #endregion
            }
        }

        private string FILL_RECT_Options(hmUI_widget_FILL_RECT fill_rect, string show_level)
        {
            string options = Environment.NewLine;
            if (fill_rect == null) return options;
            options += TabInString(7) + "x: " + fill_rect.x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "y: " + fill_rect.y.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "w: " + fill_rect.w.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "h: " + fill_rect.h.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "color: '" + fill_rect.color + "'," + Environment.NewLine;
            if (show_level != null && show_level.Length > 0)
            {
                if (show_level.StartsWith("hmUI.show_level")) options += TabInString(7) + "show_level: " + show_level + "," + Environment.NewLine;
                else options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string IMG_Options(hmUI_widget_IMG img, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img == null) return options;
            if (img.src == null) return options;
            if (img.src.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "x: " + img.x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img.y.ToString() + "," + Environment.NewLine;
                if (img.w != null) options += TabInString(7 + tabOffset) + "w: " + img.w.ToString() + "," + Environment.NewLine;
                if (img.h != null) options += TabInString(7 + tabOffset) + "h: " + img.h.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "src: '" + img.src + ".png'," + Environment.NewLine;

                if (SelectedModel.versionOS >= 2.1 && img.alpha != 255)
                {
                    options += TabInString(7 + tabOffset) + "// alpha: " + img.alpha.ToString() + "," + Environment.NewLine;
                }

                if (show_level != null && show_level.Length > 0)
                {
                    if(show_level.StartsWith("hmUI.show_level")) options += TabInString(7 + tabOffset) + "show_level: " + show_level + "," + Environment.NewLine;
                    else options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine; 
                } 
            }
            return options;
        }

        private string IMG_Сommented_Options(hmUI_widget_IMG img, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img == null) return options;
            if (img.src == null) return options;
            if (img.src.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "// x: " + img.x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img.y.ToString() + "," + Environment.NewLine;
                if (img.w != null) options += TabInString(7 + tabOffset) + "// w: " + img.w.ToString() + "," + Environment.NewLine;
                if (img.h != null) options += TabInString(7 + tabOffset) + "// h: " + img.h.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// src: '" + img.src + ".png'," + Environment.NewLine;
                if (show_level != null && show_level.Length > 0)
                {
                    if (show_level.StartsWith("hmUI.show_level")) options += TabInString(7 + tabOffset) + "// show_level: " + show_level + "," + Environment.NewLine;
                    else options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_IMAGES_Сommented_Options(hmUI_widget_IMG_LEVEL img_level, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_level == null) return options;
            if (img_level.img_First == null) return options;
            string img = img_level.img_First;
            int count = img_level.image_length;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count || imgPosition < 0)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + count; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + count - 1) img_array += ",";
                }
                img_array += "]";
                options += TabInString(7 + tabOffset) + "// x: " + img_level.X.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img_level.Y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// image_array: " + img_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// image_length: " + img_level.image_length.ToString() + "," + Environment.NewLine;

                //if (img_level.shortcut)
                //{
                //    options += TabInString(7 + tabOffset) + "// shortcut: true," + Environment.NewLine;
                //}

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string MASK_Options(string src)
        {
            string options = Environment.NewLine;
            if (src == null) return options;
            if (src.Length > 0)
            {
                options += TabInString(7) + "x: 0," + Environment.NewLine;
                options += TabInString(7) + "y: 0," + Environment.NewLine;
                options += TabInString(7) + "w: 480," + Environment.NewLine;
                options += TabInString(7) + "h: 480," + Environment.NewLine;
                options += TabInString(7) + "src: '" + src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "show_level: hmUI.show_level.ONLY_EDIT," + Environment.NewLine;
            }
            return options;
        }

        private string IMG_Separator_Options(hmUI_widget_IMG_NUMBER img_number, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number == null) return options;
            if (img_number.icon != null && img_number.icon.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "x: " + img_number.iconPosX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_number.iconPosY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "src: '" + img_number.icon + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string IMG_Pointer_Cover_Options(hmUI_widget_IMG_POINTER img_pointer, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_pointer == null) return options;
            if (img_pointer.cover_path == null) return options;
            if (img_pointer.cover_path.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "x: " + img_pointer.cover_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_pointer.cover_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "src: '" + img_pointer.cover_path + ".png'," + Environment.NewLine;
                if (show_level != null && show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Options(hmUI_widget_IMG_NUMBER img_number, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number == null) return options;
            if (img_number.img_First == null) return options;
            string img = img_number.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + 9) img_array += ",";
                }
                img_array += "]";
                options += TabInString(7 + tabOffset) + "x: " + img_number.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_number.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "font_array: " + img_array + "," + Environment.NewLine;
                if (img_number.zero) options += TabInString(7 + tabOffset) + "padding: true," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "padding: false," + Environment.NewLine;

                options += TabInString(7 + tabOffset) + "h_space: " + img_number.space.ToString() + "," + Environment.NewLine;
                if (img_number.angle != 0)
                    options += TabInString(7 + tabOffset) + "angle: " + img_number.angle.ToString() + "," + Environment.NewLine;
                if (img_number.unit != null && img_number.unit.Length > 0)
                {
                    string unit = "'" + img_number.unit + ".png'";
                    options += TabInString(7 + tabOffset) + "unit_sc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "unit_tc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                {
                    string unit = "'" + img_number.imperial_unit + ".png'";
                    options += TabInString(7 + tabOffset) + "imperial_unit_sc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "imperial_unit_tc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "imperial_unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                {
                    string negative_image = "'" + img_number.negative_image + ".png'";
                    options += TabInString(7 + tabOffset) + "negative_image: " + negative_image + "," + Environment.NewLine;
                }

                if (img_number.invalid_image != null && img_number.invalid_image.Length > 0)
                {
                    string invalid_image = "'" + img_number.invalid_image + ".png'";
                    options += TabInString(7 + tabOffset) + "invalid_image: " + invalid_image + "," + Environment.NewLine;
                }

                if (img_number.dot_image != null && img_number.dot_image.Length > 0)
                {
                    string dot_path = "'" + img_number.dot_image + ".png'";
                    options += TabInString(7 + tabOffset) + "dot_image: " + dot_path + "," + Environment.NewLine;
                }

                options += TabInString(7 + tabOffset) + "align_h: hmUI.align." + img_number.align.ToUpper() + "," + Environment.NewLine;


                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Сommented_Options(hmUI_widget_IMG_NUMBER img_number, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number == null) return options;
            if (img_number.img_First == null) return options;
            string img = img_number.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + 9) img_array += ",";
                }
                img_array += "]";
                options += TabInString(7 + tabOffset) + "// x: " + img_number.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img_number.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// font_array: " + img_array + "," + Environment.NewLine;
                if (img_number.zero) options += TabInString(7 + tabOffset) + "// padding: true," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "// padding: false," + Environment.NewLine;

                options += TabInString(7 + tabOffset) + "// h_space: " + img_number.space.ToString() + "," + Environment.NewLine;
                if (img_number.angle != 0)
                    options += TabInString(7 + tabOffset) + "// angle: " + img_number.angle.ToString() + "," + Environment.NewLine;
                if (img_number.unit != null && img_number.unit.Length > 0)
                {
                    string unit = "'" + img_number.unit + ".png'";
                    options += TabInString(7 + tabOffset) + "// unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                {
                    string unit = "'" + img_number.imperial_unit + ".png'";
                    options += TabInString(7 + tabOffset) + "// imperial_unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                {
                    string negative_image = "'" + img_number.negative_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// negative_image: " + negative_image + "," + Environment.NewLine;
                }

                if (img_number.invalid_image != null && img_number.invalid_image.Length > 0)
                {
                    string invalid_image = "'" + img_number.invalid_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// invalid_image: " + invalid_image + "," + Environment.NewLine;
                }

                if (img_number.dot_image != null && img_number.dot_image.Length > 0)
                {
                    string dot_path = "'" + img_number.dot_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// dot_image: " + dot_path + "," + Environment.NewLine;
                }

                if (img_number.separator_image != null && img_number.separator_image.Length > 0)
                {
                    string separator_image = "'" + img_number.separator_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// separator_image: " + separator_image + "," + Environment.NewLine;
                }

                options += TabInString(7 + tabOffset) + "// align_h: hmUI.align." + img_number.align.ToUpper() + "," + Environment.NewLine;


                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Hour_Options(hmUI_widget_IMG_NUMBER img_number_hour, string show_level)
        {
            string options = Environment.NewLine;
            if (img_number_hour == null) return options;
            if (img_number_hour.img_First == null) return options;
            string img = img_number_hour.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Hour", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string hour_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    hour_array += file_name;
                    if (i < imgPosition + 9) hour_array += ",";
                }
                hour_array += "]";
                options += TabInString(7) + "hour_startX: " + img_number_hour.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_startY: " + img_number_hour.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_array: " + hour_array + "," + Environment.NewLine;
                if (img_number_hour.zero) options += TabInString(7) + "hour_zero: 1," + Environment.NewLine;
                else options += TabInString(7) + "hour_zero: 0," + Environment.NewLine;
                options += TabInString(7) + "hour_space: " + img_number_hour.space.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_angle: " + img_number_hour.angle.ToString() + "," + Environment.NewLine;
                if (img_number_hour.unit != null && img_number_hour.unit.Length > 0)
                {
                    string hour_unit = "'" + img_number_hour.unit + ".png'";
                    options += TabInString(7) + "hour_unit_sc: " + hour_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "hour_unit_tc: " + hour_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "hour_unit_en: " + hour_unit + "," + Environment.NewLine;
                }
                options += TabInString(7) + "hour_align: hmUI.align." + img_number_hour.align.ToUpper() + "," + Environment.NewLine;

                //options += TabInString(7) + "show_level: hmUI.show_level." + img_number_hour.show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string IMG_NUMBER_Minute_Options(hmUI_widget_IMG_NUMBER img_number_minute, string show_level)
        {
            string options = Environment.NewLine;
            if (img_number_minute == null) return options;
            if (img_number_minute.img_First == null) return options;
            string img = img_number_minute.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Minute", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string minute_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    minute_array += file_name;
                    if (i < imgPosition + 9) minute_array += ",";
                }
                minute_array += "]";
                options += TabInString(7) + "minute_startX: " + img_number_minute.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_startY: " + img_number_minute.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_array: " + minute_array + "," + Environment.NewLine;
                if (img_number_minute.zero) options += TabInString(7) + "minute_zero: 1," + Environment.NewLine;
                else options += TabInString(7) + "minute_zero: 0," + Environment.NewLine;
                options += TabInString(7) + "minute_space: " + img_number_minute.space.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_angle: " + img_number_minute.angle.ToString() + "," + Environment.NewLine;
                if (img_number_minute.follow) options += TabInString(7) + "minute_follow: 1," + Environment.NewLine;
                else options += TabInString(7) + "minute_follow: 0," + Environment.NewLine;
                if (img_number_minute.unit != null && img_number_minute.unit.Length > 0)
                {
                    string minute_unit = "'" + img_number_minute.unit + ".png'";
                    options += TabInString(7) + "minute_unit_sc: " + minute_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "minute_unit_tc: " + minute_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "minute_unit_en: " + minute_unit + "," + Environment.NewLine;
                }
                options += TabInString(7) + "minute_align: hmUI.align." + img_number_minute.align.ToUpper() + "," + Environment.NewLine;

                //options += TabInString(7) + "show_level: hmUI.show_level." + img_number_hour.show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string IMG_NUMBER_Second_Options(hmUI_widget_IMG_NUMBER img_number_second, string show_level)
        {
            string options = Environment.NewLine;
            if (img_number_second == null) return options;
            if (img_number_second.img_First == null) return options;
            string img = img_number_second.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Second", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string second_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    second_array += file_name;
                    if (i < imgPosition + 9) second_array += ",";
                }
                second_array += "]";
                options += TabInString(7) + "second_startX: " + img_number_second.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_startY: " + img_number_second.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_array: " + second_array + "," + Environment.NewLine;
                if (img_number_second.zero) options += TabInString(7) + "second_zero: 1," + Environment.NewLine;
                else options += TabInString(7) + "second_zero: 0," + Environment.NewLine;
                options += TabInString(7) + "second_space: " + img_number_second.space.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_angle: " + img_number_second.angle.ToString() + "," + Environment.NewLine;
                if (img_number_second.follow) options += TabInString(7) + "second_follow: 1," + Environment.NewLine;
                else options += TabInString(7) + "second_follow: 0," + Environment.NewLine;
                if (img_number_second.unit != null && img_number_second.unit.Length > 0)
                {
                    string second_unit = "'" + img_number_second.unit + ".png'";
                    options += TabInString(7) + "second_unit_sc: " + second_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "second_unit_tc: " + second_unit + "," + Environment.NewLine;
                    options += TabInString(7) + "second_unit_en: " + second_unit + "," + Environment.NewLine;
                }
                options += TabInString(7) + "second_align: hmUI.align." + img_number_second.align.ToUpper() + "," + Environment.NewLine;

                //options += TabInString(7) + "show_level: hmUI.show_level." + img_number_hour.show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string AmPm_Options(hmUI_widget_IMG_TIME_am_pm am_pm, string show_level)
        {
            string options = Environment.NewLine;
            if (am_pm == null) return options;
            if (am_pm.am_img != null && am_pm.am_img.Length > 0 && am_pm.pm_img != null && am_pm.pm_img.Length > 0)
            {
                options += TabInString(7) + "am_x: " + am_pm.am_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "am_y: " + am_pm.am_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "am_sc_path: '" + am_pm.am_img + ".png'," + Environment.NewLine;
                options += TabInString(7) + "am_en_path: '" + am_pm.am_img + ".png'," + Environment.NewLine;

                options += TabInString(7) + "pm_x: " + am_pm.pm_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "pm_y: " + am_pm.pm_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "pm_sc_path: '" + am_pm.pm_img + ".png'," + Environment.NewLine;
                options += TabInString(7) + "pm_en_path: '" + am_pm.pm_img + ".png'," + Environment.NewLine;

                options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine; 
            }

            return options;
        }

        private string IMG_POINTER_Hour_Options(hmUI_widget_IMG_POINTER img_pointer_hour, string show_level)
        {
            string options = Environment.NewLine;
            if (img_pointer_hour == null) return options;
            if (img_pointer_hour.src != null && img_pointer_hour.src.Length > 0)
            {
                options += TabInString(7) + "hour_path: '" + img_pointer_hour.src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "hour_centerX: " + img_pointer_hour.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_centerY: " + img_pointer_hour.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_posX: " + img_pointer_hour.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "hour_posY: " + img_pointer_hour.pos_y.ToString() + "," + Environment.NewLine;

                if (img_pointer_hour.cover_path != null && img_pointer_hour.cover_path.Length > 0)
                {
                    options += TabInString(7) + "hour_cover_path: '" + img_pointer_hour.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7) + "hour_cover_x: " + img_pointer_hour.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "hour_cover_y: " + img_pointer_hour.cover_y.ToString() + "," + Environment.NewLine; 
                }

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string IMG_POINTER_Minute_Options(hmUI_widget_IMG_POINTER img_pointer_minute, string show_level)
        {
            string options = Environment.NewLine;
            if (img_pointer_minute == null) return options;
            if (img_pointer_minute.src != null && img_pointer_minute.src.Length > 0)
            {
                options += TabInString(7) + "minute_path: '" + img_pointer_minute.src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "minute_centerX: " + img_pointer_minute.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_centerY: " + img_pointer_minute.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_posX: " + img_pointer_minute.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "minute_posY: " + img_pointer_minute.pos_y.ToString() + "," + Environment.NewLine;

                if (img_pointer_minute.cover_path != null && img_pointer_minute.cover_path.Length > 0)
                {
                    options += TabInString(7) + "minute_cover_path: '" + img_pointer_minute.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7) + "minute_cover_x: " + img_pointer_minute.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "minute_cover_y: " + img_pointer_minute.cover_y.ToString() + "," + Environment.NewLine; 
                }

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string IMG_POINTER_Second_Options(hmUI_widget_IMG_POINTER img_pointer_second, string show_level)
        {
            string options = Environment.NewLine;
            if(img_pointer_second == null) return options;
            if (img_pointer_second.src != null && img_pointer_second.src.Length > 0)
            {
                options += TabInString(7) + "second_path: '" + img_pointer_second.src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "second_centerX: " + img_pointer_second.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_centerY: " + img_pointer_second.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_posX: " + img_pointer_second.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_posY: " + img_pointer_second.pos_y.ToString() + "," + Environment.NewLine;

                if (img_pointer_second.cover_path != null && img_pointer_second.cover_path.Length > 0)
                {
                    options += TabInString(7) + "second_cover_path: '" + img_pointer_second.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7) + "second_cover_x: " + img_pointer_second.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "second_cover_y: " + img_pointer_second.cover_y.ToString() + "," + Environment.NewLine; 
                }

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                } 
            }
            return options;
        }

        private string IMG_POINTER_Smooth_Second_Options(hmUI_widget_IMG_POINTER img_pointer_second, int fps, string show_level)
        {
            string options = Environment.NewLine;
            if (img_pointer_second == null) return options;
            if (img_pointer_second.src != null && img_pointer_second.src.Length > 0)
            {
                options += TabInString(7) + "second_path: '" + img_pointer_second.src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "second_centerX: " + img_pointer_second.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_centerY: " + img_pointer_second.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_posX: " + img_pointer_second.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "second_posY: " + img_pointer_second.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "fresh_frequency: " + fps.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "fresh_freqency: " + fps.ToString() + "," + Environment.NewLine;

                if (img_pointer_second.cover_path != null && img_pointer_second.cover_path.Length > 0)
                {
                    options += TabInString(7) + "second_cover_path: '" + img_pointer_second.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7) + "second_cover_x: " + img_pointer_second.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "second_cover_y: " + img_pointer_second.cover_y.ToString() + "," + Environment.NewLine;
                }

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string DATE_POINTER_Options(hmUI_widget_IMG_POINTER img_pointer, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_pointer == null) return options;
            if (img_pointer.src != null && img_pointer.src.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "src: '" + img_pointer.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_x: " + img_pointer.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_y: " + img_pointer.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "posX: " + img_pointer.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "posY: " + img_pointer.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "start_angle: " + img_pointer.start_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "end_angle: " + img_pointer.end_angle.ToString() + "," + Environment.NewLine;

                if (img_pointer.scale != null && img_pointer.scale.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "scale_sc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_tc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_en: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_x: " + img_pointer.scale_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_y: " + img_pointer.scale_y.ToString() + "," + Environment.NewLine;
                }

                if (img_pointer.cover_path != null && img_pointer.cover_path.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "cover_path: '" + img_pointer.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "cover_x: " + img_pointer.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "cover_y: " + img_pointer.cover_y.ToString() + "," + Environment.NewLine;
                }
                //else
                //{
                //    options += TabInString(7) + "cover_path: ''," + Environment.NewLine;
                //    options += TabInString(7) + "cover_x: 0," + Environment.NewLine;
                //    options += TabInString(7) + "cover_y: 0," + Environment.NewLine;
                //}

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "type: hmUI.date." + type + "," + Environment.NewLine;
                }

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_POINTER_Options(hmUI_widget_IMG_POINTER img_pointer, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if(img_pointer == null) return options;
            if (img_pointer.src != null && img_pointer.src.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "src: '" + img_pointer.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_x: " + img_pointer.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_y: " + img_pointer.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "x: " + img_pointer.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_pointer.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "start_angle: " + img_pointer.start_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "end_angle: " + img_pointer.end_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "invalid_visible: false," + Environment.NewLine;

                if (img_pointer.scale != null && img_pointer.scale.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "scale_sc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_tc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_en: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_x: " + img_pointer.scale_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "scale_y: " + img_pointer.scale_y.ToString() + "," + Environment.NewLine;
                }

                if (img_pointer.cover_path != null && img_pointer.cover_path.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "cover_path: '" + img_pointer.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "cover_x: " + img_pointer.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "cover_y: " + img_pointer.cover_y.ToString() + "," + Environment.NewLine;
                }

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string TIME_PRO_POINTER_OptionsRead(hmUI_widget_IMG_POINTER img_pointer, string optionNameStart, string type, 
            string show_level, bool format24h = false, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_pointer == null) return options;
            if (img_pointer.src != null && img_pointer.src.Length > 0)
            {
                options += TabInString(6 + tabOffset) + "// " + optionNameStart + "analog_clock_pro_" + type.ToLower() + 
                    "_pointer_img = hmUI.createWidget(hmUI.widget.TIME_POINTER_PRO, {" + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// src: '" + img_pointer.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// center_x: " + img_pointer.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// center_y: " + img_pointer.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// x: " + img_pointer.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img_pointer.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// start_angle: " + img_pointer.start_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// end_angle: " + img_pointer.end_angle.ToString() + "," + Environment.NewLine;

                if (img_pointer.scale != null && img_pointer.scale.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// scale_sc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_tc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_en: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_x: " + img_pointer.scale_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_y: " + img_pointer.scale_y.ToString() + "," + Environment.NewLine;
                }

                if (img_pointer.cover_path != null && img_pointer.cover_path.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// cover_path: '" + img_pointer.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// cover_x: " + img_pointer.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// cover_y: " + img_pointer.cover_y.ToString() + "," + Environment.NewLine;
                }

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }

                if (format24h)
                {
                    options += TabInString(7 + tabOffset) + "// format24h: true," + Environment.NewLine;
                }
                options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;
            }
            return options;
        }

        private string CUSTOM_POINTER_OptionsRead(hmUI_widget_IMG_POINTER img_pointer, string optionName, string type,
            string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_pointer == null) return options;
            if (img_pointer.src != null && img_pointer.src.Length > 0)
            {
                options += TabInString(6 + tabOffset) + "// " + optionName + type.ToLower() +
                    "_custom_pointer_img = hmUI.createWidget(hmUI.widget.CUSTOM_POINTER, {" + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// src: '" + img_pointer.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// center_x: " + img_pointer.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// center_y: " + img_pointer.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// x: " + img_pointer.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img_pointer.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// start_angle: " + img_pointer.start_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// end_angle: " + img_pointer.end_angle.ToString() + "," + Environment.NewLine;

                if (img_pointer.scale != null && img_pointer.scale.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// scale_sc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_tc: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_en: '" + img_pointer.scale + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_x: " + img_pointer.scale_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// scale_y: " + img_pointer.scale_y.ToString() + "," + Environment.NewLine;
                }

                if (img_pointer.cover_path != null && img_pointer.cover_path.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// cover_path: '" + img_pointer.cover_path + ".png'," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// cover_x: " + img_pointer.cover_x.ToString() + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// cover_y: " + img_pointer.cover_y.ToString() + "," + Environment.NewLine;
                }

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
                options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;
            }
            return options;
        }

        private string TIME_PRO_SMOOTH_POINTER_OptionsRead(Smooth_Second smooth_second, string optionNameStart, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (smooth_second == null) return options;
            options += TabInString(6 + tabOffset) + "// " + optionNameStart + "analog_clock_pro_smooth_second = hmUI.createWidget(hmUI.widget.SMOOTH_SECOND, {" + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// type: " + smooth_second.type.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// fps: " + smooth_second.fps.ToString() + "," + Environment.NewLine;

            if (show_level.Length > 0) options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;

            options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;
            return options;
        }

        private string TIME_PRO_POINTER_Options(hmUI_widget_IMG_POINTER img, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img == null) return options;
            if (img.src == null) return options;
            if (img.src.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "x: 0," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: 0," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "w: deviceInfo.width," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "h: deviceInfo.height," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "pos_x: " + img.center_x.ToString() + " - " + img.pos_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "pos_y: " + img.center_y.ToString() + " - " + img.pos_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_x: " + img.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "center_y: " + img.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "src: '" + img.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "angle: 0," + Environment.NewLine;
                if (show_level != null && show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Day_Options(hmUI_widget_IMG_NUMBER img_number_day, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number_day == null) return options;
            if (img_number_day.img_First == null) return options;
            string img = img_number_day.img_First;
            int count = 10;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Day", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string day_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    day_array += file_name;
                    if (i < imgPosition + count - 1) day_array += ",";
                }
                day_array += "]";
                options += TabInString(7 + tabOffset) + "day_startX: " + img_number_day.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_startY: " + img_number_day.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_sc_array: " + day_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_tc_array: " + day_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_en_array: " + day_array + "," + Environment.NewLine;

                if (img_number_day.zero) options += TabInString(7 + tabOffset) + "day_zero: 1," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "day_zero: 0," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_space: " + img_number_day.space.ToString() + "," + Environment.NewLine;
                if (img_number_day.unit != null && img_number_day.unit.Length > 0)
                {
                    string day_unit = "'" + img_number_day.unit + ".png'";
                    options += TabInString(7 + tabOffset) + "day_unit_sc: " + day_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "day_unit_tc: " + day_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "day_unit_en: " + day_unit + "," + Environment.NewLine;
                }
                options += TabInString(7 + tabOffset) + "day_align: hmUI.align." + img_number_day.align.ToUpper() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "day_is_character: false," + Environment.NewLine;

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Month_Options(hmUI_widget_IMG_NUMBER img_number_month, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number_month == null) return options;
            if (img_number_month.img_First == null) return options;
            string img = img_number_month.img_First;
            int count = 10;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Month", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string month_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    month_array += file_name;
                    if (i < imgPosition + count - 1) month_array += ",";
                }
                month_array += "]";
                options += TabInString(7 + tabOffset) + "month_startX: " + img_number_month.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_startY: " + img_number_month.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_sc_array: " + month_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_tc_array: " + month_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_en_array: " + month_array + "," + Environment.NewLine;

                if (img_number_month.zero) options += TabInString(7 + tabOffset) + "month_zero: 1," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "month_zero: 0," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_space: " + img_number_month.space.ToString() + "," + Environment.NewLine;
                if (img_number_month.unit != null && img_number_month.unit.Length > 0)
                {
                    string month_unit = "'" + img_number_month.unit + ".png'";
                    options += TabInString(7 + tabOffset) + "month_unit_sc: " + month_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "month_unit_tc: " + month_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "month_unit_en: " + month_unit + "," + Environment.NewLine;
                }
                options += TabInString(7 + tabOffset) + "month_align: hmUI.align." + img_number_month.align.ToUpper() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_is_character: false," + Environment.NewLine;

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_NUMBER_Year_Options(hmUI_widget_IMG_NUMBER img_number_year, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number_year == null) return options;
            if (img_number_year.img_First == null) return options;
            string img = img_number_year.img_First;
            int count = 10;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.NUMBER_Year", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string year_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    year_array += file_name;
                    if (i < imgPosition + count - 1) year_array += ",";
                }
                year_array += "]";
                options += TabInString(7 + tabOffset) + "year_startX: " + img_number_year.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_startY: " + img_number_year.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_sc_array: " + year_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_tc_array: " + year_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_en_array: " + year_array + "," + Environment.NewLine;

                if (img_number_year.zero) options += TabInString(7 + tabOffset) + "year_zero: 1," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "year_zero: 0," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_space: " + img_number_year.space.ToString() + "," + Environment.NewLine;
                if (img_number_year.unit != null && img_number_year.unit.Length > 0)
                {
                    string year_unit = "'" + img_number_year.unit + ".png'";
                    options += TabInString(7 + tabOffset) + "year_unit_sc: " + year_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "year_unit_tc: " + year_unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "year_unit_en: " + year_unit + "," + Environment.NewLine;
                }
                options += TabInString(7 + tabOffset) + "year_align: hmUI.align." + img_number_year.align.ToUpper() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "year_is_character: false," + Environment.NewLine;

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_IMAGES_Month_Options(hmUI_widget_IMG_LEVEL img_month, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_month == null) return options;
            if (img_month.img_First == null) return options;
            string img = img_month.img_First;
            int count = 12;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.IMAGES_Month", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string month_array = "[";
                for (int i = imgPosition; i < imgPosition + 12; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    month_array += file_name;
                    if (i < imgPosition + count - 1) month_array += ",";
                }
                month_array += "]";
                options += TabInString(7 + tabOffset) + "month_startX: " + img_month.X.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_startY: " + img_month.Y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_sc_array: " + month_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_tc_array: " + month_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "month_en_array: " + month_array + "," + Environment.NewLine;

                options += TabInString(7 + tabOffset) + "month_is_character: true ," + Environment.NewLine;

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_IMAGES_Week_Options(hmUI_widget_IMG_LEVEL img_week, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_week == null) return options;
            if (img_week.img_First == null) return options;
            string img = img_week.img_First;
            int count = 7;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type.IMAGES_Week", Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string week_array = "[";
                for (int i = imgPosition; i < imgPosition + 7; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    week_array += file_name;
                    if (i < imgPosition + count-1) week_array += ",";
                }
                week_array += "]";
                options += TabInString(7 + tabOffset) + "x: " + img_week.X.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_week.Y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "week_en: " + week_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "week_tc: " + week_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "week_sc: " + week_array + "," + Environment.NewLine;

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_IMAGES_Options(hmUI_widget_IMG_LEVEL img_level, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_level == null) return options;
            if (img_level.img_First == null) return options;
            string img = img_level.img_First;
            int count = img_level.image_length;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count || imgPosition < 0)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine + 
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + count; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + count - 1) img_array += ",";
                }
                img_array += "]";
                options += TabInString(7 + tabOffset) + "x: " + img_level.X.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + img_level.Y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "image_array: " + img_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "image_length: " + img_level.image_length.ToString() + "," + Environment.NewLine;

                if (img_level.shortcut)
                {
                    options += TabInString(7 + tabOffset) + "shortcut: true," + Environment.NewLine;
                }

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string IMG_PROGRESS_Options(hmUI_widget_IMG_PROGRESS img_progress, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_progress == null) return options;
            if (img_progress.img_First == null) return options;
            if (img_progress.image_length == 0) return options;
            string img = img_progress.img_First;
            int count = img_progress.image_length;
            if (count != img_progress.X.Count || count != img_progress.Y.Count) return options;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + count - 1 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }

                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + count; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + count - 1) img_array += ",";
                }
                img_array += "]";

                string x_array = "[";
                string y_array = "[";
                for (int i = 0; i < count; i++)
                {
                    x_array += img_progress.X[i].ToString();
                    y_array += img_progress.Y[i].ToString();
                    if (i < count - 1)
                    {
                        x_array += ",";
                        y_array += ",";
                    }
                }
                x_array += "]";
                y_array += "]";


                options += TabInString(7 + tabOffset) + "x: " + x_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "y: " + y_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "image_array: " + img_array + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "image_length: " + img_progress.image_length.ToString() + "," + Environment.NewLine;

                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string Circle_Scale_Options(Circle_Scale circle_scale, string optionNameStart, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            options += TabInString(6 + tabOffset) + "// " + optionNameStart + type.ToLower() + 
                "_circle_scale = hmUI.createWidget(hmUI.widget.Circle_Scale, {" + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// center_x: " + circle_scale.center_x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// center_y: " + circle_scale.center_y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// start_angle: " + circle_scale.start_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// end_angle: " + circle_scale.end_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// radius: " + circle_scale.radius.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// line_width: " + circle_scale.line_width.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// line_cap: " + circle_scale.line_cap + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// color: " + circle_scale.color + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// mirror: " + circle_scale.mirror.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// inversion: " + circle_scale.inversion.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type.ToUpper() + "," + Environment.NewLine; 
            options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;

            return options;
        }

        private string Circle_Scale_Progress_Options(Circle_Scale circle_scale, bool mirror, string show_level, int tabOffset = 0)
        {
            int radius = circle_scale.radius - circle_scale.line_width/2;
            if (radius < 1) return "";
            int end_angle = circle_scale.end_angle;
            int start_angle = circle_scale.start_angle;
            if (mirror)
            {
                int fullAngl = circle_scale.end_angle - circle_scale.start_angle;
                end_angle = circle_scale.start_angle - fullAngl;
            }
            int corner_flag = 3;
            if (circle_scale.inversion)
            {
                if (circle_scale.line_cap == "Rounded") corner_flag = 0;
                int temp = start_angle;
                start_angle = end_angle;
                end_angle = temp;
            }
            else
            {
                if (circle_scale.line_cap == "Rounded")
                {
                    if (circle_scale.mirror) corner_flag = 2;
                    else corner_flag = 0;
                }
            }
            if(corner_flag == 2 && circle_scale.start_angle > end_angle) corner_flag = 1;
            string options = Environment.NewLine;
            options += TabInString(7 + tabOffset) + "center_x: " + circle_scale.center_x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "center_y: " + circle_scale.center_y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "start_angle: " + start_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "end_angle: " + end_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "radius: " + radius.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "line_width: " + circle_scale.line_width.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "corner_flag: " + corner_flag.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "color: " + circle_scale.color + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;

            return options;
        }

        private string Linear_Scale_Options(Linear_Scale linear_scale, string optionNameStart, string type, 
            string typeCaption, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
            {
                options += TabInString(6 + tabOffset) + "" + optionNameStart + typeCaption.ToLower() +
                "_linear_scale_pointer_img = hmUI.createWidget(hmUI.widget.IMG);" + Environment.NewLine;
                if (linear_scale.mirror)
                {
                    options += TabInString(6 + tabOffset) + "" + optionNameStart + typeCaption.ToLower() +
                "_linear_scale_pointer_img_mirror = hmUI.createWidget(hmUI.widget.IMG);" + Environment.NewLine;
                }
            }
            options += TabInString(6 + tabOffset) + "// " + optionNameStart + typeCaption.ToLower() +
                "_linear_scale = hmUI.createWidget(hmUI.widget.Linear_Scale, {" + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// start_x: " + linear_scale.start_x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// start_y: " + linear_scale.start_y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// color: " + linear_scale.color + "," + Environment.NewLine;
            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                options += TabInString(7 + tabOffset) + "// pointer: '" + linear_scale.pointer + ".png'," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// lenght: " + linear_scale.lenght.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// line_width: " + linear_scale.line_width.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// line_cap: " + linear_scale.line_cap + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// vertical: " + linear_scale.vertical.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// mirror: " + linear_scale.mirror.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// inversion: " + linear_scale.inversion.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type.ToUpper() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;

            return options;
        }

        private string Circle_Scale_WidgetDelegate_Options(Circle_Scale circle_scale, string optionNameStart, string type, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            options += TabInString(9 + tabOffset) + "// " + optionNameStart + type + "_circle_scale" + Environment.NewLine;

            // исходные параметры
            int start_angle = circle_scale.start_angle - 90;
            int end_angle = circle_scale.end_angle - 90;
            if (circle_scale.inversion)
            {
                start_angle = circle_scale.end_angle - 90;
                end_angle = circle_scale.start_angle - 90;
            }
            int center_x = circle_scale.center_x;
            int center_y = circle_scale.center_y;
            int radius = circle_scale.radius;
            int line_width = circle_scale.line_width;
            string color = circle_scale.color;

            options += TabInString(9 + tabOffset) + "// initial parameters" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let start_angle_" + optionNameStart + type + " = " +
                start_angle.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let end_angle_" + optionNameStart + type + " = " +
                end_angle.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let center_x_" + optionNameStart + type + " = " +
                center_x.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let center_y_" + optionNameStart + type + " = " +
                center_y.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let radius_" + optionNameStart + type + " = " +
                radius.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let line_width_cs_" + optionNameStart + type + " = " +
                line_width.ToString() + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let color_cs_" + optionNameStart + type + " = " +
                color + ";" + Environment.NewLine;

            // расчетные параметры
            options += TabInString(9 + tabOffset) + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "// calculated parameters" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let arcX_" + optionNameStart + type + " = center_x_" + optionNameStart + 
                type + " - radius_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let arcY_" + optionNameStart + type + " = center_y_" + optionNameStart +
                type + " - radius_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let CircleWidth_" + optionNameStart + type + " = 2 * radius_" + 
                optionNameStart + type + ";" + Environment.NewLine;

            options += TabInString(9 + tabOffset) + "let angle_offset_" + optionNameStart + type + " = end_angle_" + optionNameStart + 
                type + " - start_angle_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "angle_offset_" + optionNameStart + type + " = angle_offset_" + optionNameStart + 
                type + " * progress_cs_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let end_angle_" + optionNameStart + type + "_draw = start_angle_" + optionNameStart + 
                type + " + angle_offset_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + Environment.NewLine;
            options += TabInString(9 + tabOffset) + optionNameStart + type + "_circle_scale.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "x: arcX_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "y: arcY_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "w: CircleWidth_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "h: CircleWidth_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "start_angle: start_angle_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "end_angle: end_angle_" + optionNameStart + type + "_draw," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "color: color_cs_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "line_width: line_width_cs_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "});" + Environment.NewLine;

            if (circle_scale.mirror)
            {
                options += TabInString(9 + tabOffset) + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "// " + optionNameStart + type + "_circle_scale_mirror" + Environment.NewLine;

                // исходные параметры
                start_angle = circle_scale.start_angle - 90;
                end_angle = circle_scale.end_angle - 90;
                int anglOffset = end_angle - start_angle;
                end_angle = start_angle - anglOffset;
                if (circle_scale.inversion)
                {
                    int temp = start_angle;
                    start_angle = end_angle;
                    end_angle = temp;
                }

                options += TabInString(9 + tabOffset) + "// initial parameters mirror" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "let start_angle_" + optionNameStart + type + "_mirror = " +
                    start_angle.ToString() + ";" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "let end_angle_" + optionNameStart + type + "_mirror = " +
                    end_angle.ToString() + ";" + Environment.NewLine;

                // расчетные параметры
                options += TabInString(9 + tabOffset) + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "// calculated parameters mirror" + Environment.NewLine;

                options += TabInString(9 + tabOffset) + "let angle_offset_" + optionNameStart + type + "_mirror = end_angle_" + 
                    optionNameStart + type + "_mirror - start_angle_" + optionNameStart + type + "_mirror;" + 
                    Environment.NewLine;
                options += TabInString(9 + tabOffset) + "angle_offset_" + optionNameStart + type + "_mirror = angle_offset_" + 
                    optionNameStart + type + "_mirror * progress_cs_" + optionNameStart + type + ";" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "let end_angle_" + optionNameStart + type + "_draw_mirror = start_angle_" + 
                    optionNameStart + type + "_mirror + angle_offset_" + optionNameStart + type + "_mirror;" + 
                    Environment.NewLine;
                options += TabInString(9 + tabOffset) + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + type + "_circle_scale_mirror.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "x: arcX_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "y: arcY_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "w: CircleWidth_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "h: CircleWidth_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "start_angle: start_angle_" + optionNameStart + type + "_mirror," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "end_angle: end_angle_" + optionNameStart + type + "_draw_mirror," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "color: color_cs_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "line_width: line_width_cs_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "});" + Environment.NewLine;
            }

            return options;
        }

        private string Circle_Scale_Progress_WidgetDelegate_Options(Circle_Scale circle_scale, string optionName, string optionNameMirror, string level, string show_level, int tabOffset = 0)
        {
            string circleScaleProgressOptions = Circle_Scale_Progress_Options(circle_scale, false, show_level, 4);
            string circleScaleProgressMirrorOptions = Circle_Scale_Progress_Options(circle_scale, true, show_level, 4);
            string options = Environment.NewLine;
            options += TabInString(9 + tabOffset) + "// " + optionName + "_circle_scale" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let level = Math.round(" + level + " * 100);" + Environment.NewLine;

            options += TabInString(9 + tabOffset) + "if (" + optionName + ") {" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + optionName + ".setProperty(hmUI.prop.MORE, {";
            options += TabInString(11 + tabOffset) + circleScaleProgressOptions;
            options += TabInString(11 + tabOffset) + "level: level," + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "});" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "};" + Environment.NewLine;
            if (optionNameMirror.Length > 5)
            {
                options += TabInString(9 + tabOffset) + "if (" + optionNameMirror + ") {" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + optionNameMirror + ".setProperty(hmUI.prop.MORE, {";
                options += TabInString(11 + tabOffset) + circleScaleProgressMirrorOptions;
                options += TabInString(11 + tabOffset) + "level: level," + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "});" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + "};" + Environment.NewLine;
            }
            return options;
        }

        private string Linear_Scale_WidgetDelegate_Options(Linear_Scale linear_scale, string optionNameStart, string type, string show_level)
        {
            string options = Environment.NewLine;
            options += TabInString(9) + "// " + optionNameStart + type + "_linear_scale" + Environment.NewLine;

            // исходные параметры
            int start_x = linear_scale.start_x;
            int start_y = linear_scale.start_y;
            int lenght = linear_scale.lenght;
            if (linear_scale.inversion)
            {
                if (linear_scale.vertical)
                {
                    start_y = start_y + lenght;
                    lenght = -lenght;
                }
                else
                {
                    start_x = start_x + lenght;
                    lenght = -lenght;
                }
            }
            int line_width = linear_scale.line_width;
            string color = linear_scale.color;

            options += TabInString(9) + "// initial parameters" + Environment.NewLine;
            options += TabInString(9) + "let start_x_" + optionNameStart + type + " = " +
                start_x.ToString() + ";" + Environment.NewLine;
            options += TabInString(9) + "let start_y_" + optionNameStart + type + " = " +
                start_y.ToString() + ";" + Environment.NewLine;
            options += TabInString(9) + "let lenght_ls_" + optionNameStart + type + " = " +
                lenght.ToString() + ";" + Environment.NewLine;
            options += TabInString(9) + "let line_width_ls_" + optionNameStart + type + " = " +
                line_width.ToString() + ";" + Environment.NewLine;
            options += TabInString(9) + "let color_ls_" + optionNameStart + type + " = " +
                color + ";" + Environment.NewLine;

            // расчетные параметры
            options += TabInString(9) + Environment.NewLine;
            options += TabInString(9) + "// calculated parameters" + Environment.NewLine;
            options += TabInString(9) + "let start_x_" + optionNameStart + type +
                "_draw = start_x_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9) + "let start_y_" + optionNameStart + type +
                "_draw = start_y_" + optionNameStart + type + ";" + Environment.NewLine;
            options += TabInString(9) + "lenght_ls_" + optionNameStart + type +
                " = lenght_ls_" + optionNameStart + type + " * progress_ls_" + optionNameStart + type + ";" + Environment.NewLine;

            if (linear_scale.vertical)
            {
                options += TabInString(9) + "let lenght_ls_" + optionNameStart + type +
                "_draw = line_width_ls_" + optionNameStart + type + ";" + Environment.NewLine;
                options += TabInString(9) + "let line_width_ls_" + optionNameStart + type +
                "_draw = lenght_ls_" + optionNameStart + type + ";" + Environment.NewLine;

                options += TabInString(9) + "if (lenght_ls_" + optionNameStart + type + " < 0){" + Environment.NewLine;
                options += TabInString(10) + "line_width_ls_" + optionNameStart + type + "_draw = -lenght_ls_" + 
                    optionNameStart + type + ";" + Environment.NewLine;
                options += TabInString(10) + "start_y_" + optionNameStart + type +
                    "_draw = start_y_" + optionNameStart + type + "_draw - line_width_ls_" + 
                    optionNameStart + type + "_draw;" + Environment.NewLine;
                options += TabInString(9) + "};" + Environment.NewLine;
            }
            else
            {
                options += TabInString(9) + "let lenght_ls_" + optionNameStart + type +
                    "_draw = lenght_ls_" + optionNameStart + type + ";" + Environment.NewLine;
                options += TabInString(9) + "let line_width_ls_" + optionNameStart + type +
                    "_draw = line_width_ls_" + optionNameStart + type + ";" + Environment.NewLine;

                options += TabInString(9) + "if (lenght_ls_" + optionNameStart + type + " < 0){" + Environment.NewLine;
                options += TabInString(10) + "lenght_ls_" + optionNameStart + type +
                    "_draw = -lenght_ls_" + optionNameStart + type + ";" + Environment.NewLine;
                options += TabInString(10) + "start_x_" + optionNameStart + type + "_draw = start_x_" + 
                    optionNameStart + type + " - lenght_ls_" + optionNameStart + type + "_draw;" + Environment.NewLine;
                options += TabInString(9) + "};" + Environment.NewLine;
            }

            options += TabInString(9) + Environment.NewLine;
            options += TabInString(9) + optionNameStart + type + "_linear_scale.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
            options += TabInString(10) + "x: start_x_" + optionNameStart + type + "_draw," + Environment.NewLine;
            options += TabInString(10) + "y: start_y_" + optionNameStart + type + "_draw," + Environment.NewLine;
            options += TabInString(10) + "w: lenght_ls_" + optionNameStart + type + "_draw," + Environment.NewLine;
            options += TabInString(10) + "h: line_width_ls_" + optionNameStart + type + "_draw," + Environment.NewLine;
            if(linear_scale.line_cap == "Rounded") 
                options += TabInString(10) + "radius: " + (linear_scale.line_width/2).ToString() + "," + Environment.NewLine;
            options += TabInString(10) + "color: color_ls_" + optionNameStart + type + "," + Environment.NewLine;
            options += TabInString(9) + "});" + Environment.NewLine;


            if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
            {
                int pointer_index = ListImages.IndexOf(linear_scale.pointer);
                if (pointer_index >= 0)
                {
                    System.Drawing.Bitmap src = OpenFileStream(ListImagesFullName[pointer_index]);
                    int pointer_offset_x = src.Width / 2;
                    int pointer_offset_y = src.Height / 2;

                    options += TabInString(9) + Environment.NewLine;
                    options += TabInString(9) + "// pointers parameters" + Environment.NewLine;
                    options += TabInString(9) + "let pointer_offset_x_ls_" + optionNameStart + type + " = " +
                        pointer_offset_x.ToString() + ";" + Environment.NewLine;
                    options += TabInString(9) + "let pointer_offset_y_ls_" + optionNameStart + type + " = " +
                        pointer_offset_y.ToString() + ";" + Environment.NewLine;


                    options += TabInString(9) + "" + optionNameStart + type +
                        "_linear_scale_pointer_img.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
                    if (linear_scale.vertical)
                    {
                        options += TabInString(10) + "x: start_x_" + optionNameStart + type + 
                            "_draw + line_width_ls_" + optionNameStart + type + 
                            " / 2 - pointer_offset_x_ls_" + optionNameStart + type + "," + Environment.NewLine;
                        options += TabInString(10) + "y: start_y_" + optionNameStart + type +
                            " + lenght_ls_" + optionNameStart + type + " - pointer_offset_y_ls_" + 
                            optionNameStart + type + "," + Environment.NewLine;
                    }
                    else
                    {

                        options += TabInString(10) + "x: start_x_" + optionNameStart + type +
                            " + lenght_ls_" + optionNameStart + type + " - pointer_offset_x_ls_" + 
                            optionNameStart + type + "," + Environment.NewLine;
                        options += TabInString(10) + "y: start_y_" + optionNameStart + type +
                            "_draw + line_width_ls_" + optionNameStart + type + " / 2 - pointer_offset_y_ls_" + 
                            optionNameStart + type + "," + Environment.NewLine;
                    }
                    options += TabInString(10) + "src: '" + linear_scale.pointer + ".png'," + Environment.NewLine;
                    if (show_level.Length > 0)
                    {
                        options += TabInString(10) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                    }
                    options += TabInString(9) + "});" + Environment.NewLine;
                }
            }

            // зеркальная шкала
            if (linear_scale.mirror)
            {
                options += TabInString(9) + Environment.NewLine;
                options += TabInString(9) + "// " + optionNameStart + type + "_linear_scale_mirror" + Environment.NewLine;

                // исходные параметры
                start_x = linear_scale.start_x;
                start_y = linear_scale.start_y;
                lenght = - linear_scale.lenght;
                if (linear_scale.inversion)
                {
                    if (linear_scale.vertical)
                    {
                        start_y = start_y + lenght;
                        lenght = -lenght;
                    }
                    else
                    {
                        start_x = start_x + lenght;
                        lenght = -lenght;
                    }
                }
                //line_width = linear_scale.line_width;
                //color = linear_scale.color;

                options += TabInString(9) + "// initial parameters" + Environment.NewLine;
                options += TabInString(9) + "let start_x_" + optionNameStart + type + "_mirror = " +
                    start_x.ToString() + ";" + Environment.NewLine;
                options += TabInString(9) + "let start_y_" + optionNameStart + type + "_mirror = " +
                    start_y.ToString() + ";" + Environment.NewLine;
                options += TabInString(9) + "let lenght_ls_" + optionNameStart + type + "_mirror = " +
                    lenght.ToString() + ";" + Environment.NewLine;
                options += TabInString(9) + "let line_width_ls_" + optionNameStart + type + "_mirror ="  +
                    line_width.ToString() + ";" + Environment.NewLine;
                options += TabInString(9) + "let color_ls_" + optionNameStart + type + "_mirror = " +
                    color + ";" + Environment.NewLine;

                // расчетные параметры
                options += TabInString(9) + Environment.NewLine;
                options += TabInString(9) + "// calculated parameters" + Environment.NewLine;
                options += TabInString(9) + "let start_x_" + optionNameStart + type +
                    "_draw_mirror = start_x_" + optionNameStart + type + "_mirror;" + Environment.NewLine;
                options += TabInString(9) + "let start_y_" + optionNameStart + type +
                    "_draw_mirror = start_y_" + optionNameStart + type + "_mirror;" + Environment.NewLine;
                options += TabInString(9) + "lenght_ls_" + optionNameStart + type +
                    "_mirror = lenght_ls_" + optionNameStart + type + "_mirror * progress_ls_" + optionNameStart + type + ";" + Environment.NewLine;

                if (linear_scale.vertical)
                {
                    options += TabInString(9) + "let lenght_ls_" + optionNameStart + type +
                    "_draw_mirror = line_width_ls_" + optionNameStart + type + "_mirror;" + Environment.NewLine;
                    options += TabInString(9) + "let line_width_ls_" + optionNameStart + type +
                    "_draw_mirror = lenght_ls_" + optionNameStart + type + "_mirror;" + Environment.NewLine;

                    options += TabInString(9) + "if (lenght_ls_" + optionNameStart + type + "_mirror < 0){" + Environment.NewLine;
                    options += TabInString(10) + "line_width_ls_" + optionNameStart + type + "_draw_mirror = -lenght_ls_" +
                        optionNameStart + type + "_mirror;" + Environment.NewLine;
                    options += TabInString(10) + "start_y_" + optionNameStart + type +
                        "_draw_mirror = start_y_" + optionNameStart + type + "_draw - line_width_ls_" +
                        optionNameStart + type + "_draw_mirror;" + Environment.NewLine;
                    options += TabInString(9) + "};" + Environment.NewLine;
                }
                else
                {
                    options += TabInString(9) + "let lenght_ls_" + optionNameStart + type +
                        "_draw_mirror = lenght_ls_" + optionNameStart + type + "_mirror;" + Environment.NewLine;
                    options += TabInString(9) + "let line_width_ls_" + optionNameStart + type +
                        "_draw_mirror = line_width_ls_" + optionNameStart + type + "_mirror;" + Environment.NewLine;

                    options += TabInString(9) + "if (lenght_ls_" + optionNameStart + type + "_mirror < 0){" + Environment.NewLine;
                    options += TabInString(10) + "lenght_ls_" + optionNameStart + type +
                        "_draw_mirror = -lenght_ls_" + optionNameStart + type + "_mirror;" + Environment.NewLine;
                    options += TabInString(10) + "start_x_" + optionNameStart + type + "_draw_mirror = start_x_" +
                        optionNameStart + type + " - lenght_ls_" + optionNameStart + type + "_draw_mirror;" + Environment.NewLine;
                    options += TabInString(9) + "};" + Environment.NewLine;
                }

                options += TabInString(9) + Environment.NewLine;
                options += TabInString(9) + optionNameStart + type + "_linear_scale_mirror.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
                options += TabInString(10) + "x: start_x_" + optionNameStart + type + "_draw_mirror," + Environment.NewLine;
                options += TabInString(10) + "y: start_y_" + optionNameStart + type + "_draw_mirror," + Environment.NewLine;
                options += TabInString(10) + "w: lenght_ls_" + optionNameStart + type + "_draw_mirror," + Environment.NewLine;
                options += TabInString(10) + "h: line_width_ls_" + optionNameStart + type + "_draw_mirror," + Environment.NewLine;
                if (linear_scale.line_cap == "Rounded")
                    options += TabInString(10) + "radius: " + (linear_scale.line_width / 2).ToString() + "," + Environment.NewLine;
                options += TabInString(10) + "color: color_ls_" + optionNameStart + type + "," + Environment.NewLine;
                options += TabInString(9) + "});" + Environment.NewLine;


                if (linear_scale.pointer != null && linear_scale.pointer.Length > 0)
                {
                    int pointer_index = ListImages.IndexOf(linear_scale.pointer);
                    if (pointer_index >= 0)
                    {
                        System.Drawing.Bitmap src = OpenFileStream(ListImagesFullName[pointer_index]);
                        int pointer_offset_x = src.Width / 2;
                        int pointer_offset_y = src.Height / 2;

                        options += TabInString(9) + Environment.NewLine;
                        options += TabInString(9) + "// pointers parameters" + Environment.NewLine;
                        options += TabInString(9) + "let pointer_offset_x_ls_" + optionNameStart + type + "_mirror = " +
                            pointer_offset_x.ToString() + ";" + Environment.NewLine;
                        options += TabInString(9) + "let pointer_offset_y_ls_" + optionNameStart + type + "_mirror = " +
                            pointer_offset_y.ToString() + ";" + Environment.NewLine;


                        options += TabInString(9) + "" + optionNameStart + type +
                            "_linear_scale_pointer_img_mirror.setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
                        if (linear_scale.vertical)
                        {
                            options += TabInString(10) + "x: start_x_" + optionNameStart + type +
                                "_draw_mirror + line_width_ls_" + optionNameStart + type +
                                "_mirror / 2 - pointer_offset_x_ls_" + optionNameStart + type + "_mirror," + Environment.NewLine;
                            options += TabInString(10) + "y: start_y_" + optionNameStart + type +
                                "_mirror + lenght_ls_" + optionNameStart + type + "_mirror - pointer_offset_y_ls_" +
                                optionNameStart + type + "_mirror," + Environment.NewLine;
                        }
                        else
                        {

                            options += TabInString(10) + "x: start_x_" + optionNameStart + type +
                                "_mirror + lenght_ls_" + optionNameStart + type + "_mirror - pointer_offset_x_ls_" +
                                optionNameStart + type + "_mirror," + Environment.NewLine;
                            options += TabInString(10) + "y: start_y_" + optionNameStart + type +
                                "_draw_mirror + line_width_ls_" + optionNameStart + type + "_mirror / 2 - pointer_offset_y_ls_" +
                                optionNameStart + type + "_mirror," + Environment.NewLine;
                        }
                        options += TabInString(10) + "src: '" + linear_scale.pointer + ".png'," + Environment.NewLine;
                        if (show_level.Length > 0)
                        {
                            options += TabInString(10) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                        }
                        options += TabInString(9) + "});" + Environment.NewLine;
                    }
                }
            }

            return options;
        }

        private string Text_Circle_Options(Text_Circle text_circle, string type, string show_level, bool need_dot_image, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (text_circle == null) return options;
            if (text_circle.img_First == null || text_circle.img_First.Length == 0) return options;
            if (need_dot_image && (text_circle.dot_image == null || text_circle.dot_image.Length == 0)) return options;

            string img = text_circle.img_First;
            int imgPosition = ListImages.IndexOf(img);
            if (imgPosition + 9 > ListImages.Count)
            {
                MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                    "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                    MessageBoxButtons.OK, MessageBoxIcon.Warning);
                return options;
            }
            string img_array = "[";
            for (int i = imgPosition; i < imgPosition + 10; i++)
            {
                string file_name = "\"" + ListImages[i] + ".png" + "\"";
                img_array += file_name;
                if (i < imgPosition + 9) img_array += ",";
            }
            img_array += "]";
            options += TabInString(7 + tabOffset) + "// circle_center_X: " + text_circle.circle_center_X.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// circle_center_Y: " + text_circle.circle_center_Y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// font_array: " + img_array + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// radius: " + text_circle.radius.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// angle: " + text_circle.angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// char_space_angle: " + text_circle.char_space_angle.ToString() + "," + Environment.NewLine;

            if (text_circle.unit != null && text_circle.unit.Length > 0)
            {
                string unit = "'" + text_circle.unit + ".png'";
                options += TabInString(7 + tabOffset) + "// unit: " + unit + "," + Environment.NewLine;
            }

            if (text_circle.imperial_unit != null && text_circle.imperial_unit.Length > 0)
            {
                string unit = "'" + text_circle.imperial_unit + ".png'";
                options += TabInString(7 + tabOffset) + "// imperial_unit: " + unit + "," + Environment.NewLine;
            }

            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
            {
                string dot_image = "'" + text_circle.dot_image + ".png'";
                options += TabInString(7 + tabOffset) + "// dot_image: " + dot_image + "," + Environment.NewLine;
            }

            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
            {
                string error_image = "'" + text_circle.error_image + ".png'";
                options += TabInString(7 + tabOffset) + "// error_image: " + error_image + "," + Environment.NewLine;
            }

            if (text_circle.zero) options += TabInString(7 + tabOffset) + "// zero: true," + Environment.NewLine;
            else options += TabInString(7 + tabOffset) + "// zero: false," + Environment.NewLine;
            if (text_circle.reverse_direction) options += TabInString(7 + tabOffset) + "// reverse_direction: true," + Environment.NewLine;
            else options += TabInString(7 + tabOffset) + "// reverse_direction: false," + Environment.NewLine;
            if (text_circle.unit_in_alignment) options += TabInString(7 + tabOffset) + "// unit_in_alignment: true," + Environment.NewLine;
            else options += TabInString(7 + tabOffset) + "// unit_in_alignment: false," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "// vertical_alignment: " + text_circle.vertical_alignment + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// horizontal_alignment: " + text_circle.horizontal_alignment + "," + Environment.NewLine;


            if (type.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
            }

            if (show_level.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }

            return options;
        }

        private string Text_Circle_Function_Options(Text_Circle text_circle, string optionNameStart, string intValueName, string strValueName, 
            bool need_dot_image, string type, int valueLenght, int tabOffset = 0, bool need_separator_image = false)
        {
            string options = "";
            if (text_circle == null) return options;
            if (text_circle.img_First == null || text_circle.img_First.Length == 0) return options;
            if (need_dot_image && (text_circle.dot_image == null || text_circle.dot_image.Length == 0)) return options;
            if (need_separator_image && (text_circle.separator_image == null || text_circle.separator_image.Length == 0)) return options;

            // скрываем все символы
            options += TabInString(8 + tabOffset) + "for (var i = 1; i < " + valueLenght.ToString() + "; i++) {  // hide all symbols" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle[i].setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;
            options += TabInString(8 + tabOffset) + "};" + Environment.NewLine;
            if (text_circle.unit != null && text_circle.unit.Length > 0)
                options += TabInString(8 + tabOffset) + optionNameStart + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

            if (!text_circle.reverse_direction)
                options += TabInString(8 + tabOffset) + "let char_Angle = " + text_circle.angle.ToString() + ";" + Environment.NewLine;
            else options += TabInString(8 + tabOffset) + "let char_Angle = " + (text_circle.angle + 180).ToString() + ";" + Environment.NewLine;
            options += TabInString(8 + tabOffset) + "if (" + intValueName + " != null && " + intValueName + " != undefined && isFinite(" +
                intValueName + ") && " + strValueName + ".length > 0 && " + strValueName + 
                ".length <= " + valueLenght + ") {  // display data if it was possible to get it" + Environment.NewLine;

            // вычисляем углы поворота для символов
            string img_angle_name = optionNameStart + "TextCircle_img_angle";
            options += TabInString(9 + tabOffset) + "let " + img_angle_name + " = 0;" + Environment.NewLine;
            //options += TabInString(9 + tabOffset) + "let " + optionNameStart + "TextCircle_error_img_angle = 0;" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let " + optionNameStart + "TextCircle_dot_img_angle = 0;" + Environment.NewLine;
            if (type == "WeatherHighLow") 
                options += TabInString(9 + tabOffset) + "let " + optionNameStart + "TextCircle_separator_img_angle = 0;" + Environment.NewLine;
            if (text_circle.unit != null && text_circle.unit.Length > 0)
                options += TabInString(9 + tabOffset) + "let " + optionNameStart + "TextCircle_unit_angle = 0;" + Environment.NewLine;

            options += TabInString(9 + tabOffset) + img_angle_name + " = toDegree(Math.atan2(" +
                optionNameStart + "TextCircle_img_width/2, " + text_circle.radius.ToString() + "));" + Environment.NewLine;
            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
            {
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_dot_img_angle = toDegree(Math.atan2(" +
                        optionNameStart + "TextCircle_dot_width/2, " + text_circle.radius.ToString() + "));" + Environment.NewLine;
            }
            if (type == "WeatherHighLow" && text_circle.separator_image != null && text_circle.separator_image.Length > 0)
            {
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_separator_img_angle = toDegree(Math.atan2(" +
                        optionNameStart + "TextCircle_separator_width/2, " + text_circle.radius.ToString() + "));" + Environment.NewLine;
            }
            if (text_circle.unit != null && text_circle.unit.Length > 0)
            {
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_unit_angle = toDegree(Math.atan2(" +
                        optionNameStart + "TextCircle_unit_width/2, " + text_circle.radius.ToString() + "));" + Environment.NewLine;
            }
            string angleOffsetName = optionNameStart + "TextCircle_angleOffset";
            
            // вычисляем смещение угла в зависимисти от выравнивания
            switch (text_circle.horizontal_alignment)
            {
                case "CENTER_H":
                    options += TabInString(9 + tabOffset) + "// alignment = CENTER_H" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "let " + angleOffsetName + " = " + img_angle_name +
                        " * (" + strValueName + ".length - 1);" + Environment.NewLine;

                    if (type == "DISTANCE")
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine;
                    }
                    if (type == "WeatherHighLow")
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_separator_img_angle;" + Environment.NewLine;

                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-', 2) >= 0) " + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine;
                    }

                    if (text_circle.char_space_angle != 0)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " + " +
                                        text_circle.char_space_angle.ToString() + " * (" + strValueName + ".length - 1) / 2;" + Environment.NewLine; 
                    }
                    if (text_circle.unit_in_alignment && text_circle.unit != null && text_circle.unit.Length > 0)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " + (" + img_angle_name + " + " + 
                            optionNameStart + "TextCircle_unit_angle + " + text_circle.char_space_angle.ToString() + ") / 2;" + Environment.NewLine; 
                    }
                    if (text_circle.reverse_direction)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = -" + angleOffsetName + ";" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "char_Angle -= " + angleOffsetName + ";" + Environment.NewLine;
                    if (type == "WeatherHighLow" || type == "WEATHER")
                    {
                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".startsWith('-')) char_Angle = char_Angle - (" +
                            optionNameStart + "TextCircle_dot_img_angle - " + img_angle_name + ")/2;" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "// alignment end" + Environment.NewLine;

                    break;
                case "RIGHT":
                    options += TabInString(9 + tabOffset) + "// alignment = RIGHT" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "let " + angleOffsetName + " = " + img_angle_name +
                        " * (" + strValueName + ".length - 1);" + Environment.NewLine;

                    if (type == "DISTANCE")
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine;
                    }
                    if (type == "WeatherHighLow")
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_separator_img_angle;" + Environment.NewLine;

                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-', 2) >= 0) " + angleOffsetName + " = " + angleOffsetName + " - " + img_angle_name +
                            " + " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine;
                    }

                    if (text_circle.char_space_angle != 0)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " + " +
                                        text_circle.char_space_angle.ToString() + " * (" + strValueName + ".length - 1) / 2;" + Environment.NewLine; 
                    }
                    if (text_circle.unit_in_alignment && text_circle.unit != null && text_circle.unit.Length > 0)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = " + angleOffsetName + " + (" + img_angle_name + " + " +
                            optionNameStart + "TextCircle_unit_angle + " + text_circle.char_space_angle.ToString() + ") / 2;" + Environment.NewLine;
                    }
                    if (text_circle.reverse_direction)
                    {
                        options += TabInString(9 + tabOffset) + angleOffsetName + " = -" + angleOffsetName + ";" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "char_Angle -= 2 * " + angleOffsetName + ";" + Environment.NewLine;
                    if (type == "WeatherHighLow" || type == "forecastData")
                    {
                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".startsWith('-')) char_Angle = char_Angle - " +
                            optionNameStart + "TextCircle_dot_img_angle + " + img_angle_name + ";" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "// alignment end" + Environment.NewLine;
                    break;
            }

            options += TabInString(9 + tabOffset) + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let firstSymbol = true;" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let index = 0;" + Environment.NewLine;
            //options += TabInString(9 + tabOffset) + "let char_Angle = " + text_rotate.angle.ToString() + " - " + posOffsetName + ";" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "for (let char of " + strValueName + ") {" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "let charCode = char.charCodeAt()-48;" + Environment.NewLine;
            //options += TabInString(10 + tabOffset) + "if (charCode < 0) continue;" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "if (index >= " + valueLenght.ToString() + ") break;" + Environment.NewLine;

            // digit 
            options += TabInString(10 + tabOffset) + "if (charCode >= 0 && charCode < 10) { " + Environment.NewLine;
            if (text_circle.reverse_direction)
            {
                options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle -= " + img_angle_name + ";" + Environment.NewLine; 
            }
            else
            {
                options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle += " + img_angle_name + ";" + Environment.NewLine;
            }
            options += TabInString(11 + tabOffset) + "firstSymbol = false;" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                " - " + optionNameStart + "TextCircle_img_width / 2);" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.SRC, " + 
                optionNameStart + "TextCircle_ASCIIARRAY[charCode]);" + Environment.NewLine;
            //options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.MORE, {" + Environment.NewLine;
            //options += TabInString(12 + tabOffset) + "pos_x: " + optionNameStart + "TextCircle_img_width / 2," + Environment.NewLine;
            //options += TabInString(12 + tabOffset) + "angle: char_Angle," + Environment.NewLine;
            //options += TabInString(12 + tabOffset) + "src: " + optionNameStart + "TextCircle_ASCIIARRAY[charCode]," + Environment.NewLine;
            //options += TabInString(11 + tabOffset) + "});" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
            if (text_circle.char_space_angle == 0)
            {
                if (text_circle.reverse_direction)
                {
                    options += TabInString(11 + tabOffset) + "char_Angle -= " + img_angle_name + ";" + Environment.NewLine;  
                }
                else
                {
                    options += TabInString(11 + tabOffset) + "char_Angle += " + img_angle_name + ";" + Environment.NewLine;
                }
            }
            else if (text_circle.reverse_direction)
            {
                options += TabInString(11 + tabOffset) + "char_Angle -= " + img_angle_name + " + " +
                    text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;
            }
            else options += TabInString(11 + tabOffset) + "char_Angle += " + img_angle_name + " + " +
                    text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
            if (need_separator_image)
            {
                options += TabInString(10 + tabOffset) + "}  // end if digit" + Environment.NewLine;  // end if digit 
                options += TabInString(10 + tabOffset) + "else if (charCode == -6) { " + Environment.NewLine;

                if (text_circle.reverse_direction)
                {
                    options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle -= " + optionNameStart + "TextCircle_separator_img_angle; " + Environment.NewLine;
                }
                else
                {
                    options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle += " + optionNameStart + "TextCircle_separator_img_angle; " + Environment.NewLine;
                }
                options += TabInString(11 + tabOffset) + "firstSymbol = false;" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                    " - " + optionNameStart + "TextCircle_separator_width / 2);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.SRC, '" +
                    text_circle.separator_image + ".png');" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                if (text_circle.char_space_angle == 0)
                {
                    if (text_circle.reverse_direction)
                    {
                        options += TabInString(11 + tabOffset) + "char_Angle -= " + optionNameStart + "TextCircle_separator_img_angle;" + Environment.NewLine;
                    }
                    else
                    {
                        options += TabInString(11 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_separator_img_angle;" + Environment.NewLine;
                    }
                }
                else if (text_circle.reverse_direction)
                {
                    options += TabInString(11 + tabOffset) + "char_Angle -= " + optionNameStart + "TextCircle_separator_img_angle + " +
                        text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;
                }
                else options += TabInString(11 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_separator_img_angle + " +
                        text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;

                options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "}  // end if separator" + Environment.NewLine;  // end if digit 
            }
            else
            {
                if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
                    options += TabInString(10 + tabOffset) + "}  // end if digit" + Environment.NewLine;  // end if digit 
                else options += TabInString(10 + tabOffset) + "};  // end if digit" + Environment.NewLine;  // end if digit  
            }

            // dot point
            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
            {
                options += TabInString(10 + tabOffset) + "else { " + Environment.NewLine;
                if (text_circle.reverse_direction)
                {
                    options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle -= " + optionNameStart + "TextCircle_dot_img_angle; " + Environment.NewLine; 
                }
                else
                {
                    options += TabInString(11 + tabOffset) + "if (!firstSymbol) char_Angle += " + optionNameStart + "TextCircle_dot_img_angle; " + Environment.NewLine;
                }
                options += TabInString(11 + tabOffset) + "firstSymbol = false;" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                    " - " + optionNameStart + "TextCircle_dot_width / 2);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.SRC, '" +
                    text_circle.dot_image + ".png');" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextCircle[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                if (text_circle.char_space_angle == 0)
                {
                    if (text_circle.reverse_direction)
                    {
                        options += TabInString(11 + tabOffset) + "char_Angle -= " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine; 
                    }
                    else
                    {
                        options += TabInString(11 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_dot_img_angle;" + Environment.NewLine;
                    }
                }
                else if (text_circle.reverse_direction)
                {
                    options += TabInString(11 + tabOffset) + "char_Angle -= " + optionNameStart + "TextCircle_dot_img_angle + " +
                        text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;
                }
                else options += TabInString(11 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_dot_img_angle + " +
                        text_circle.char_space_angle.ToString() + ";" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "};  // end if dot point " + Environment.NewLine;  // end dot point 
            }

            options += TabInString(9 + tabOffset) + "};  // end char of string" + Environment.NewLine;  // end char of string

            // unit
            if (text_circle.unit != null && text_circle.unit.Length > 0)
            {
                if (text_circle.reverse_direction)
                {
                    options += TabInString(9 + tabOffset) + "char_Angle -= " + optionNameStart + "TextCircle_unit_angle;" + Environment.NewLine; 
                }
                else
                {
                    options += TabInString(9 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_unit_angle;" + Environment.NewLine;
                }
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_unit.setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_unit[index].setProperty(hmUI.prop.POS_X, " + text_rotate.circle_center_X.ToString() +
                //    " - " + optionNameStart + "TextCircle_unit_width / 2);" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_unit[index].setProperty(hmUI.prop.SRC, '" +
                //    text_rotate.dot_image + ".png');" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                //if (text_rotate.char_space_angle == 0)
                //{
                //    options += TabInString(9 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_unit_angle;" + Environment.NewLine;
                //}
                //else if (text_rotate.reverse_direction)
                //{
                //    options += TabInString(9 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_unit_angle - " +
                //        text_rotate.char_space_angle.ToString() + ";" + Environment.NewLine;
                //}
                //else options += TabInString(9 + tabOffset) + "char_Angle += " + optionNameStart + "TextCircle_unit_angle + " +
                //        text_rotate.char_space_angle.ToString() + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + "index++;" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + "};  // end if unit" + Environment.NewLine;  // end unit
            }

            options += TabInString(8 + tabOffset) + "}  // end isFinite" + Environment.NewLine;  // end isFinite

            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
            {
                options += TabInString(8 + tabOffset) + "else {" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.POS_X, " + text_circle.circle_center_X.ToString() +
                    " - " + optionNameStart + "TextCircle_error_img_width / 2);" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.SRC, '" +
                    text_circle.error_image + ".png');" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextCircle[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                options += TabInString(8 + tabOffset) + "};  // end else isFinite" + Environment.NewLine; 
            }

            return options;
        }

        private string Text_Rotate_Options(hmUI_widget_IMG_NUMBER img_number, string type, string show_level, bool need_dot_image, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (img_number == null) return options;
            if (img_number.img_First == null) return options;
            if (need_dot_image && (img_number.dot_image == null || img_number.dot_image.Length == 0)) return options;

            string img = img_number.img_First;
            if (img.Length > 0)
            {
                int imgPosition = ListImages.IndexOf(img);
                if (imgPosition + 9 > ListImages.Count)
                {
                    MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                        "type: hmUI.data_type." + type, Properties.FormStrings.Message_Warning_Caption,
                        MessageBoxButtons.OK, MessageBoxIcon.Warning);
                    return options;
                }
                string img_array = "[";
                for (int i = imgPosition; i < imgPosition + 10; i++)
                {
                    string file_name = "\"" + ListImages[i] + ".png" + "\"";
                    img_array += file_name;
                    if (i < imgPosition + 9) img_array += ",";
                }
                img_array += "]";
                options += TabInString(7 + tabOffset) + "// x: " + img_number.imageX.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// y: " + img_number.imageY.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// font_array: " + img_array + "," + Environment.NewLine;

                if (img_number.zero) options += TabInString(7 + tabOffset) + "// zero: true," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "// zero: false," + Environment.NewLine;
                if (img_number.unit_in_alignment) options += TabInString(7 + tabOffset) + "// unit_in_alignment: true," + Environment.NewLine;
                else options += TabInString(7 + tabOffset) + "// unit_in_alignment: false," + Environment.NewLine;

                options += TabInString(7 + tabOffset) + "// h_space: " + img_number.space.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tabOffset) + "// angle: " + img_number.angle.ToString() + "," + Environment.NewLine;
                if (img_number.unit != null && img_number.unit.Length > 0)
                {
                    string unit = "'" + img_number.unit + ".png'";
                    //options += TabInString(7 + tabOffset) + "// unit_sc: " + unit + "," + Environment.NewLine;
                    //options += TabInString(7 + tabOffset) + "// unit_tc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.imperial_unit != null && img_number.imperial_unit.Length > 0)
                {
                    string unit = "'" + img_number.imperial_unit + ".png'";
                    //options += TabInString(7 + tabOffset) + "// imperial_unit_sc: " + unit + "," + Environment.NewLine;
                    //options += TabInString(7 + tabOffset) + "// imperial_unit_tc: " + unit + "," + Environment.NewLine;
                    options += TabInString(7 + tabOffset) + "// imperial_unit_en: " + unit + "," + Environment.NewLine;
                }

                if (img_number.negative_image != null && img_number.negative_image.Length > 0)
                {
                    string negative_image = "'" + img_number.negative_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// negative_image: " + negative_image + "," + Environment.NewLine;
                }

                if (img_number.invalid_image != null && img_number.invalid_image.Length > 0)
                {
                    string invalid_image = "'" + img_number.invalid_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// invalid_image: " + invalid_image + "," + Environment.NewLine;
                }

                if (img_number.dot_image != null && img_number.dot_image.Length > 0)
                {
                    string dot_path = "'" + img_number.dot_image + ".png'";
                    options += TabInString(7 + tabOffset) + "// dot_image: " + dot_path + "," + Environment.NewLine;
                }

                options += TabInString(7 + tabOffset) + "// align_h: hmUI.align." + img_number.align.ToUpper() + "," + Environment.NewLine;


                if (type.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
                }

                if (show_level.Length > 0)
                {
                    options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                }
            }
            return options;
        }

        private string Text_Rotate_Function_Options(hmUI_widget_IMG_NUMBER text_rotate, string optionNameStart, string intValueName, string strValueName,
            bool need_dot_image, string type, int valueLenght, int tabOffset = 0, bool need_separator_image = false)
        {
            string options = "";
            if (text_rotate == null) return options;
            if (text_rotate.img_First == null || text_rotate.img_First.Length == 0) return options;
            if (need_dot_image && (text_rotate.dot_image == null || text_rotate.dot_image.Length == 0)) return options;
            if (need_separator_image && (text_rotate.separator_image == null || text_rotate.separator_image.Length == 0)) return options;

            // скрываем все символы
            options += TabInString(8 + tabOffset) + "for (var i = 1; i < " + valueLenght.ToString() + "; i++) {  // hide all symbols" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[i].setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;
            options += TabInString(8 + tabOffset) + "};" + Environment.NewLine;
            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
                options += TabInString(8 + tabOffset) + optionNameStart + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

            options += TabInString(8 + tabOffset) + "if (" + intValueName + " != null && " + intValueName + " != undefined && isFinite(" +
                intValueName + ") && " + strValueName + ".length > 0 && " + strValueName +
                ".length <= " + valueLenght.ToString() + ") {  // display data if it was possible to get it" + Environment.NewLine;

            options += TabInString(9 + tabOffset) + "let img_offset = 0;" + Environment.NewLine;
            string posOffsetName = optionNameStart + "TextRotate_posOffset";

            // вычисляем смещение угла в зависимисти от выравнивания
            switch (text_rotate.align)
            {
                case "CENTER_H":
                    options += TabInString(9 + tabOffset) + "// alignment = CENTER_H" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "let " + posOffsetName + " = " + optionNameStart + "TextRotate_img_width" +
                        " * " + strValueName + ".length;" + Environment.NewLine;

                    if (type == "DISTANCE")
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;
                    }
                    if (type == "WeatherHighLow")
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_separator_width;" + Environment.NewLine;

                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-') >= 0) " + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;
                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-', 2) >= 0) " + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;

                    }
                    if (text_rotate.space != 0)
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " + " +
                                        text_rotate.space.ToString() + " * (" + strValueName + ".length - 1);" + Environment.NewLine;
                    }
                    if (text_rotate.unit_in_alignment && text_rotate.unit != null && text_rotate.unit.Length > 0)
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " + " +
                            optionNameStart + "TextRotate_unit_width + " + text_rotate.space.ToString() + ";" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "img_offset -= " + posOffsetName + "/2;" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "// alignment end" + Environment.NewLine;
                    break;
                case "RIGHT":
                    options += TabInString(9 + tabOffset) + "// alignment = RIGHT" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "let " + posOffsetName + " = " + optionNameStart + "TextRotate_img_width" +
                        " * " + strValueName + ".length;" + Environment.NewLine;

                    if (type == "DISTANCE")
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;
                    }
                    if (type == "WeatherHighLow")
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_separator_width;" + Environment.NewLine;

                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-') >= 0) " + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;
                        options += TabInString(9 + tabOffset) + "if (" + strValueName + ".indexOf('-', 2) >= 0) " + posOffsetName + " = " + posOffsetName + " - " + optionNameStart + "TextRotate_img_width" +
                            " + " + optionNameStart + "TextRotate_dot_width;" + Environment.NewLine;

                    }
                    if (text_rotate.space != 0)
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " + " +
                                        text_rotate.space.ToString() + " * (" + strValueName + ".length - 1);" + Environment.NewLine;
                    }
                    if (text_rotate.unit_in_alignment && text_rotate.unit != null && text_rotate.unit.Length > 0)
                    {
                        options += TabInString(9 + tabOffset) + posOffsetName + " = " + posOffsetName + " + " +
                            optionNameStart + "TextRotate_unit_width + " + text_rotate.space.ToString() + ";" + Environment.NewLine;
                    }
                    options += TabInString(9 + tabOffset) + "img_offset -= " + posOffsetName + ";" + Environment.NewLine;
                    options += TabInString(9 + tabOffset) + "// alignment end" + Environment.NewLine;
                    break;
            }

            options += TabInString(9 + tabOffset) + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "let index = 0;" + Environment.NewLine;
            options += TabInString(9 + tabOffset) + "for (let char of " + strValueName + ") {" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "let charCode = char.charCodeAt()-48;" + Environment.NewLine;
            options += TabInString(10 + tabOffset) + "if (index >= " + valueLenght.ToString() + ") break;" + Environment.NewLine;

            // digit 
            options += TabInString(10 + tabOffset) + "if (charCode >= 0 && charCode < 10) { " + Environment.NewLine;
            //options += TabInString(11 + tabOffset) + "console.log(`digit img_offset = ${img_offset}`);" + Environment.NewLine;
            //options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.POS_X, " + text_rotate.imageX.ToString() +
                " + "  + "img_offset);" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.SRC, " +
                optionNameStart + "TextRotate_ASCIIARRAY[charCode]);" + Environment.NewLine;
            options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
            
            if (text_rotate.space == 0)
                options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_img_width" + ";" + Environment.NewLine;
            else options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_img_width + " +
                    text_rotate.space.ToString() + ";" + Environment.NewLine;
            
            options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
            if (need_separator_image) // separator
            {
                options += TabInString(10 + tabOffset) + "}  // end if digit" + Environment.NewLine;  // end if digit 
                options += TabInString(10 + tabOffset) + "else if (charCode == -6) { " + Environment.NewLine;

                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.POS_X, " + text_rotate.imageX.ToString() +
                " + " + "img_offset);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.SRC, '" +
                    text_rotate.separator_image + ".png');" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;

                if (text_rotate.space == 0)
                    options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_separator_width" + ";" + Environment.NewLine;
                else options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_separator_width + " +
                        text_rotate.space.ToString() + ";" + Environment.NewLine;

                options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "}  // end if separator" + Environment.NewLine;  // end if digit 
            }
            else
            {
                if (text_rotate.dot_image != null && text_rotate.dot_image.Length > 0)
                    options += TabInString(10 + tabOffset) + "}  // end if digit" + Environment.NewLine;  // end if digit 
                else options += TabInString(10 + tabOffset) + "};  // end if digit" + Environment.NewLine;  // end if digit  
            }

            // dot point
            if (text_rotate.dot_image != null && text_rotate.dot_image.Length > 0)
            {
                options += TabInString(10 + tabOffset) + "else { " + Environment.NewLine;
                //options += TabInString(11 + tabOffset) + "console.log(`dot img_offset = ${img_offset}`);" + Environment.NewLine;
                //options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.POS_X, " + text_rotate.imageX.ToString() +
                " + " + "img_offset);" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.SRC, '" +
                    text_rotate.dot_image + ".png');" + Environment.NewLine;
                options += TabInString(11 + tabOffset) + optionNameStart + "TextRotate[index].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;

                if (text_rotate.space == 0)
                    options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_dot_width" + ";" + Environment.NewLine;
                else options += TabInString(11 + tabOffset) + "img_offset += " + optionNameStart + "TextRotate_dot_width + " +
                        text_rotate.space.ToString() + ";" + Environment.NewLine;

                options += TabInString(11 + tabOffset) + "index++;" + Environment.NewLine;
                options += TabInString(10 + tabOffset) + "};  // end if dot point " + Environment.NewLine;  // end dot point 
            }

            options += TabInString(9 + tabOffset) + "};  // end char of string" + Environment.NewLine;  // end char of string

            // unit
            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
            {
                //options += TabInString(11 + tabOffset) + "console.log(`unit img_offset = ${img_offset}`);" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate_unit.setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate_unit.setProperty(hmUI.prop.POS_X, " + text_rotate.imageX.ToString() +
                " + " + "img_offset);" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate_unit[index].setProperty(hmUI.prop.SRC, '" +
                //    text_rotate.dot_image + ".png');" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
            }

            options += TabInString(8 + tabOffset) + "}  // end isFinite" + Environment.NewLine;  // end isFinite

            if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
            {
                options += TabInString(8 + tabOffset) + "else {" + Environment.NewLine;
                //options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.ANGLE, char_Angle);" + Environment.NewLine;
                switch (text_rotate.align)
                {
                    case "CENTER_H":
                        options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " + 
                            text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                        break;
                    case "RIGHT":
                        options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                            text_rotate.imageX.ToString() + " - " + optionNameStart + "TextRotate_error_img_width / 2);" + Environment.NewLine;
                        break;
                    default:
                        options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.POS_X, " +
                            text_rotate.imageX.ToString() + ");" + Environment.NewLine;
                        break;
                }
               
                options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.SRC, '" +
                    text_rotate.invalid_image + ".png');" + Environment.NewLine;
                options += TabInString(9 + tabOffset) + optionNameStart + "TextRotate[0].setProperty(hmUI.prop.VISIBLE, true);" + Environment.NewLine;
                options += TabInString(8 + tabOffset) + "};  // end else isFinite" + Environment.NewLine;
            }

            return options;
        }

        private string IMG_STATUS_Options(hmUI_widget_IMG_STATUS img_status, string type, string show_level)
        {
            string options = Environment.NewLine;
            if (img_status == null) return options;
            if (img_status.src == null) return options;
            if (img_status.src.Length > 0)
            {
                options += TabInString(7) + "x: " + img_status.x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "y: " + img_status.y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "src: '" + img_status.src + ".png'," + Environment.NewLine;
                options += TabInString(7) + "type: hmUI.system_status." + type + "," + Environment.NewLine;
                options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;

                //if (SelectedModel.versionOS >= 2.1 && img_status.alpha != 255)
                //{
                //    options += TabInString(7) + "// alpha: " + img_status.alpha.ToString() + "," + Environment.NewLine;
                //}
            }
            return options;
        }

        private string IMG_CLICK_Options(hmUI_widget_IMG_CLICK img_click, string type, string show_level)
        {
            string options = Environment.NewLine;
            if (img_click == null) return options;

            options += TabInString(7) + "x: " + img_click.x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "y: " + img_click.y.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "w: " + img_click.w.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "h: " + img_click.h.ToString() + "," + Environment.NewLine;

            if (img_click.src != null && img_click.src.Length > 0)
            {
                options += TabInString(7) + "src: '" + img_click.src + ".png'," + Environment.NewLine; 
            }

            options += TabInString(7) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
            options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;

            return options;
        }

        private string Buttons_Options(Button button, string show_level)
        {
            string options = Environment.NewLine;
            if (button == null) return options;
            options += TabInString(7) + "x: " + button.x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "y: " + button.y.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "w: " + button.w.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "h: " + button.h.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "text: '" + button.text + "'," + Environment.NewLine;
            options += TabInString(7) + "color: " + button.color + "," + Environment.NewLine;
            options += TabInString(7) + "text_size: " + button.text_size.ToString() + "," + Environment.NewLine;

            if (button.press_src != null && button.press_src.Length > 0 && button.normal_src != null && button.normal_src.Length > 0)
            {
                if (button.press_src != null && button.press_src.Length > 0)
                    options += TabInString(7) + "press_src: '" + button.press_src + ".png'," + Environment.NewLine;
                if (button.normal_src != null && button.normal_src.Length > 0)
                    options += TabInString(7) + "normal_src: '" + button.normal_src + ".png'," + Environment.NewLine;
            }
            else
            {
                if (button.radius > 0) options += TabInString(7) + "radius: " + button.radius.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "press_color: " + button.press_color + "," + Environment.NewLine;
                options += TabInString(7) + "normal_color: " + button.normal_color + "," + Environment.NewLine;
            }

            if (button.click_func.Length > 0)
            {
                options += TabInString(7) + "click_func: (button_widget) => {" + Environment.NewLine;
                string[] subString = button.click_func.Split(new string[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries);
                foreach (string str in subString)
                {
                    options += TabInString(8) + str + Environment.NewLine;
                }
                //options += TabInString(8) + button.click_func + Environment.NewLine;
                options += TabInString(7) + "}, // end func" + Environment.NewLine;
            }

            if (button.longpress_func.Length > 0)
            {
                options += TabInString(7) + "longpress_func: (button_widget) => {" + Environment.NewLine;
                string[] subString = button.longpress_func.Split(new string[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries);
                foreach (string str in subString)
                {
                    options += TabInString(8) + str + Environment.NewLine;
                }
                //options += TabInString(8) + button.click_func + Environment.NewLine;
                options += TabInString(7) + "}, // end func" + Environment.NewLine;
            }

            options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            //}
            return options;
        }

        private string TEXT_Options(hmUI_widget_TEXT text, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (text == null) return options;
            int x = text.x;
            int y = text.y;
            int w = text.w;
            int h = text.h;
            if (text.centreHorizontally) x = (SelectedModel.background.w - w) / 2;
            if (text.centreVertically) y = (SelectedModel.background.h - h) / 2;
            options += TabInString(7 + tabOffset) + "x: " + x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "y: " + y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "w: " + w.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "h: " + h.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "text_size: " + text.text_size.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "char_space: " + text.char_space.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "line_space: " + text.line_space.ToString() + "," + Environment.NewLine;

            if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
            {
                options += TabInString(7 + tabOffset) + "font: 'fonts/" + text.font + "'," + Environment.NewLine;
            }
            if (SelectedModel.versionOS >= 3.5 && text.alpha != 255)
            {
                options += TabInString(7 + tabOffset) + "alpha: " + text.alpha.ToString() + "," + Environment.NewLine;
            }

            options += TabInString(7 + tabOffset) + "color: " + text.color + "," + Environment.NewLine;

            //options += TabInString(7 + tabOffset) + "align_h: hmUI.align." + text.align_h + "," + Environment.NewLine;
            //options += TabInString(7 + tabOffset) + "align_v: hmUI.align." + text.align_v + "," + Environment.NewLine;
            if (text.centreHorizontally) options += TabInString(7 + tabOffset) + "align_h: hmUI.align.CENTER_H," + Environment.NewLine;
            else options += TabInString(7 + tabOffset) + "align_h: hmUI.align." + text.align_h + "," + Environment.NewLine;
            if (text.centreVertically) options += TabInString(7 + tabOffset) + "align_v: hmUI.align.CENTER_V," + Environment.NewLine;
            else options += TabInString(7 + tabOffset) + "align_v: hmUI.align." + text.align_v + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "text_style: hmUI.text_style." + text.text_style + "," + Environment.NewLine;

            if (text.padding) options += TabInString(7 + tabOffset) + "// padding: true," + Environment.NewLine;
            if (text.unit_type > 0) options += TabInString(7 + tabOffset) + "// unit_type: " + text.unit_type.ToString() + "," + Environment.NewLine;
            if (text.unit_end) options += TabInString(7 + tabOffset) + "// unit_end: true," + Environment.NewLine;
            if (text.unit_string.Length > 0) options += TabInString(7 + tabOffset) + "// unit_string: " + text.unit_string + "," + Environment.NewLine;

#if DEBUG
            options += TabInString(7 + tabOffset) + "text: 'City Name'," + Environment.NewLine;
#endif

            if (show_level.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }

            return options;
        }

        private string TEXT_Сommented_Options(hmUI_widget_TEXT text, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (text == null) return options;
            int x = text.x;
            int y = text.y;
            int w = text.w;
            int h = text.h;
            if (text.centreHorizontally) x = (SelectedModel.background.w - w) / 2;
            if (text.centreVertically) y = (SelectedModel.background.h - h) / 2;
            options += TabInString(7 + tabOffset) + "// x: " + x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// y: " + y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// w: " + w.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// h: " + h.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "// text_size: " + text.text_size.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// char_space: " + text.char_space.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// line_space: " + text.line_space.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// alpha: " + text.alpha.ToString() + "," + Environment.NewLine;

            if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
            {
                options += TabInString(7 + tabOffset) + "// font: 'fonts/" + text.font + "'," + Environment.NewLine;
            }

            options += TabInString(7 + tabOffset) + "// color: " + text.color + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// color_2: " + text.color_2 + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// use_color_2: " + text.use_color_2.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "// align_h: hmUI.align." + text.align_h + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// align_v: hmUI.align." + text.align_v + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "// text_style: hmUI.text_style." + text.text_style + "," + Environment.NewLine;

            if (type.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "// type: hmUI.data_type." + type + "," + Environment.NewLine;
            }

            if (text.padding) options += TabInString(7 + tabOffset) + "// padding: true," + Environment.NewLine;
            if (text.unit_type > 0) options += TabInString(7 + tabOffset) + "// unit_type: " + text.unit_type.ToString() + "," + Environment.NewLine;
            if (text.unit_end) options += TabInString(7 + tabOffset) + "// unit_end: true," + Environment.NewLine;
            if (text.unit_string.Length > 0) options += TabInString(7 + tabOffset) + "// unit_string: " + text.unit_string + "," + Environment.NewLine;

#if DEBUG
            options += TabInString(7 + tabOffset) + "// text: 'Text'," + Environment.NewLine;
#endif

            if (show_level.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }

            return options;
        }

        private string TEXT_FONT_Options(hmUI_widget_TEXT text, string type, string show_level, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (text == null) return options;

            int x = text.x;
            int y = text.y;
            int w = text.w;
            int h = text.h;

            string align_h = text.align_h;
            string align_v = text.align_v;

            if (text.centreHorizontally)
            {
                x = (SelectedModel.background.w - w) / 2;
                align_h = "CENTER_H";
            }
            if (text.centreVertically)
            {
                y = (SelectedModel.background.h - h) / 2;
                align_v = "CENTER_V";
            }

            options += TabInString(7 + tabOffset) + "x: " + x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "y: " + y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "w: " + w.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "h: " + h.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "text_size: " + text.text_size.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "char_space: " + text.char_space.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "line_space: " + text.line_space.ToString() + "," + Environment.NewLine;

            if (SelectedModel.versionOS >= 2 && text.font != null && text.font.Length > 3)
            {
                options += TabInString(7 + tabOffset) + "font: 'fonts/" + text.font + "'," + Environment.NewLine;
            }
            if (SelectedModel.versionOS >= 3.5 && text.alpha != 255)
            {
                options += TabInString(7 + tabOffset) + "alpha: " + text.alpha.ToString() + "," + Environment.NewLine;
            }

            options += TabInString(7 + tabOffset) + "color: " + text.color + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "align_h: hmUI.align." + align_h + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "align_v: hmUI.align." + align_v + "," + Environment.NewLine;

            if (text.padding) options += TabInString(7 + tabOffset) + "padding: true," + Environment.NewLine;
            if (text.unit_type > 0) options += TabInString(7 + tabOffset) + "unit_type: " + text.unit_type.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "text_style: hmUI.text_style." + text.text_style + "," + Environment.NewLine;

            if (type.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "type: hmUI.data_type." + type + "," + Environment.NewLine;
            }

            if (show_level.Length > 0)
            {
                options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }

            return options;
        }

        private string TEXT_Cache_Options(hmUI_widget_TEXT text, bool fullCache, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (text == null) return options;
            if (text.font == null || text.font.Length < 3) return options;
            int x = SelectedModel.background.w - 2;
            int y = SelectedModel.background.h - 2;
            int w = (int)(text.text_size * 1.2);
            int h = (int)(text.text_size * 1.2);
            string stringCache = ProgramSettings.CacheFonts_light;
            if(fullCache) stringCache = ProgramSettings.CacheFonts_full;
            if (!fullCache)
            {
                string fontPath = ProjectDir + @"\assets\fonts\" + text.font;
                Size size = GetStringSize(fontPath, text.text_size, stringCache);
                if (size.Width > 0) w = (int)(size.Width * 1.2 + text.char_space * stringCache.Length * 1.2);
                if (size.Height > 0) h = (int)(size.Height * 1.2); 
            }

            options += TabInString(7 + tabOffset) + "x: " + x.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "y: " + y.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "w: " + w.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "h: " + h.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "text_size: " + text.text_size.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "char_space: " + text.char_space.ToString() + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "line_space: " + text.line_space.ToString() + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "font: 'fonts/" + text.font + "'," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "color: " + text.color + "," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "align_h: hmUI.align." + text.align_h + "," + Environment.NewLine;
            options += TabInString(7 + tabOffset) + "align_v: hmUI.align." + text.align_v + "," + Environment.NewLine;
            if (fullCache)
            {
                options += TabInString(7 + tabOffset) + "text_style: hmUI.text_style.NONE," + Environment.NewLine; 
            }
            else
            {
                options += TabInString(7 + tabOffset) + "text_style: hmUI.text_style.ELLIPSIS," + Environment.NewLine;
            }

            options += TabInString(7 + tabOffset) + "text: \"" + stringCache + "\"," + Environment.NewLine;

            options += TabInString(7 + tabOffset) + "show_level: hmUI.show_level.ONLY_NORMAL," + Environment.NewLine;

            return options;
        }

        private string IMG_ANIM_Options(hmUI_widget_IMG_ANIM anim_fps, string show_level)
        {
            string options = Environment.NewLine;
            if (!anim_fps.visible) return options;
            if (anim_fps == null) return options;
            if (anim_fps.anim_prefix == null || anim_fps.anim_prefix == "-" || anim_fps.anim_src == null) return options;
            string img = anim_fps.anim_src;
            int count = anim_fps.anim_size;
            int imgPosition = ListAnimImages.IndexOf(img);
            if (imgPosition + count - 1 > ListAnimImages.Count && imgPosition < 0)
            {
                MessageBox.Show(Properties.FormStrings.Message_ImageCount_Error + Environment.NewLine +
                    "hmUI_widget_IMG_ANIM", Properties.FormStrings.Message_Warning_Caption,
                    MessageBoxButtons.OK, MessageBoxIcon.Warning);
                return options;
            }
            

            options += TabInString(7) + "x: " + anim_fps.x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "y: " + anim_fps.y.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "anim_path: \"animation\"," + Environment.NewLine;
            options += TabInString(7) + "anim_ext: \"png\"," + Environment.NewLine;
            options += TabInString(7) + "anim_prefix: \"" + anim_fps.anim_prefix + "\"," + Environment.NewLine;
            options += TabInString(7) + "anim_fps: " + anim_fps.anim_fps.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "anim_size: " + anim_fps.anim_size.ToString() + "," + Environment.NewLine;
            if (anim_fps.anim_repeat)
            {
                options += TabInString(7) + "repeat_count: 0," + Environment.NewLine;
                options += TabInString(7) + "anim_repeat: true," + Environment.NewLine;
            }
            else 
            {
                options += TabInString(7) + "repeat_count: 1," + Environment.NewLine;
                options += TabInString(7) + "anim_repeat: false," + Environment.NewLine;
            }
            //if (anim_rotate.display_on_restart) options += TabInString(7) + "display_on_restart:true," + Environment.NewLine;
            //else options += TabInString(7) + "display_on_restart:false," + Environment.NewLine;
            //options += TabInString(7) + "display_on_restart:true," + Environment.NewLine;
            options += TabInString(7) + "anim_status:hmUI.anim_status.START," + Environment.NewLine;

            if (show_level.Length > 0)
            {
                options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string Motion_Animation_Img(Motion_Animation anim, string show_level, int tab_offset)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7 + tab_offset) + "x: 0," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "y: 0," + Environment.NewLine;
                /*switch (Watch_Face.WatchFace_Info.DeviceName)
                {
                    case "GTR3":
                    case "T_Rex_2":
                    case "T_Rex_Ultra":
                        options += TabInString(7 + tab_offset) + "w: 453," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 453," + Environment.NewLine;
                        break;
                    case "GTR3_Pro":
                        options += TabInString(7 + tab_offset) + "w: 479," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 479," + Environment.NewLine;
                        break;
                    case "GTS3":
                        options += TabInString(7 + tab_offset) + "w: 389," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 449," + Environment.NewLine;
                        break;
                    case "GTR4":
                        options += TabInString(7 + tab_offset) + "w: 465," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 465," + Environment.NewLine;
                        break;
                    case "Amazfit_Band_7":
                        options += TabInString(7 + tab_offset) + "w: 194," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 368," + Environment.NewLine;
                        break;
                    case "GTS4_mini":
                        options += TabInString(7 + tab_offset) + "w: 336," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 384," + Environment.NewLine;
                        break;
                    case "Falcon":
                    case "GTR_mini":
                        options += TabInString(7 + tab_offset) + "w: 415," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 415," + Environment.NewLine;
                        break;
                }*/
                options += TabInString(7 + tab_offset) + "w: " + (SelectedModel.background.w - 1).ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "h: " + (SelectedModel.background.h - 1).ToString() + "," + Environment.NewLine;

                options += TabInString(7 + tab_offset) + "pos_x: " + anim.x_start.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "pos_y: " + anim.y_start.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "src: 'animation/" + anim.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string Motion_Animation_Options(Motion_Animation anim,bool x_anim,bool mirror)
        {
            //if (ProgramSettings.Watch_Model == "GTR 4" || ProgramSettings.Watch_Model == "GTS 4" || ProgramSettings.Watch_Model == "T-Rex 2" || 
            //    ProgramSettings.Watch_Model == "T-Rex Ultra" || ProgramSettings.Watch_Model == "GTR mini") 
            if (SelectedModel.versionOS >= 1.5)
                return Motion_Animation_Options_2(anim, x_anim, mirror);
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7) + "anim_rate: 'linear'," + Environment.NewLine;
                options += TabInString(7) + "anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
                if (!mirror)
                {
                    if (x_anim) options += TabInString(7) + "anim_from: " + anim.x_start.ToString() + "," + Environment.NewLine;
                    else options += TabInString(7) + "anim_from: " + anim.y_start.ToString() + "," + Environment.NewLine;
                    if (x_anim) options += TabInString(7) + "anim_to: " + anim.x_end.ToString() + "," + Environment.NewLine;
                    else options += TabInString(7) + "anim_to: " + anim.y_end.ToString() + "," + Environment.NewLine;
                }
                else
                {
                    if (x_anim) options += TabInString(7) + "anim_from: " + anim.x_end.ToString() + "," + Environment.NewLine;
                    else options += TabInString(7) + "anim_from: " + anim.y_end.ToString() + "," + Environment.NewLine;
                    if (x_anim) options += TabInString(7) + "anim_to: " + anim.x_start.ToString() + "," + Environment.NewLine;
                    else options += TabInString(7) + "anim_to: " + anim.y_start.ToString() + "," + Environment.NewLine;
                }
                options += TabInString(7) + "anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
                if (x_anim) options += TabInString(7) + "anim_key: \"pos_x\"," + Environment.NewLine;
                else options += TabInString(7) + "anim_key: \"pos_y\"," + Environment.NewLine;
            }
            return options;
        }
        private string Motion_Animation_Options_2(Motion_Animation anim, bool x_anim, bool mirror)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7) + "anim_steps: [{" + Environment.NewLine;
                options += TabInString(8) + "anim_rate: 'linear'," + Environment.NewLine;
                options += TabInString(8) + "anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
                if (!mirror)
                {
                    if (x_anim) options += TabInString(8) + "anim_from: " + anim.x_start.ToString() + "," + Environment.NewLine;
                    else options += TabInString(8) + "anim_from: " + anim.y_start.ToString() + "," + Environment.NewLine;
                    if (x_anim) options += TabInString(8) + "anim_to: " + anim.x_end.ToString() + "," + Environment.NewLine;
                    else options += TabInString(8) + "anim_to: " + anim.y_end.ToString() + "," + Environment.NewLine;
                }
                else
                {
                    if (x_anim) options += TabInString(8) + "anim_from: " + anim.x_end.ToString() + "," + Environment.NewLine;
                    else options += TabInString(8) + "anim_from: " + anim.y_end.ToString() + "," + Environment.NewLine;
                    if (x_anim) options += TabInString(8) + "anim_to: " + anim.x_start.ToString() + "," + Environment.NewLine;
                    else options += TabInString(8) + "anim_to: " + anim.y_start.ToString() + "," + Environment.NewLine;
                }
                if (x_anim) options += TabInString(8) + "anim_key: \"pos_x\"," + Environment.NewLine;
                else options += TabInString(8) + "anim_key: \"pos_y\"," + Environment.NewLine;
                options += TabInString(7) + "}]," + Environment.NewLine;
                options += TabInString(7) + "anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "anim_auto_start: 1," + Environment.NewLine;
                options += TabInString(7) + "anim_repeat: 0," + Environment.NewLine;
                options += TabInString(7) + "anim_auto_destroy: 1," + Environment.NewLine;
            }
            return options;
        }

        private string Motion_Animation_OptionsForRead(Motion_Animation anim, string optionNameStart, string show_level, int index)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;

            options += TabInString(6) + "// " + optionNameStart + "motion_anime_" + index.ToString() + 
                " = hmUI.createWidget(hmUI.widget.Motion_Animation, {" + Environment.NewLine;
            options += TabInString(7) + "// x_start: " + anim.x_start.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// y_start: " + anim.y_start.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// x_end: " + anim.x_end.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// y_end: " + anim.y_end.ToString() + "," + Environment.NewLine;
            if (anim.src != null && anim.src.Length > 0)
                options += TabInString(7) + "// src: '" + anim.src + ".png'," + Environment.NewLine;
            options += TabInString(7) + "// anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// repeat_count: " + anim.repeat_count.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// anim_two_sides: " + anim.anim_two_sides.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            options += TabInString(6) + "// });" + Environment.NewLine;

            return options;
        }

        private string Rotate_Animation_Img(Rotate_Animation anim, string show_level, int tab_offset)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7 + tab_offset) + "x: 0," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "y: 0," + Environment.NewLine;
                /*switch (Watch_Face.WatchFace_Info.DeviceName)
                {
                    case "GTR3":
                    case "T_Rex_2":
                    case "T_Rex_Ultra":
                        options += TabInString(7 + tab_offset) + "w: 455," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 455," + Environment.NewLine;
                        break;
                    case "GTR3_Pro":
                        options += TabInString(7 + tab_offset) + "w: 481," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 481," + Environment.NewLine;
                        break;
                    case "GTS3":
                        options += TabInString(7 + tab_offset) + "w: 391," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 451," + Environment.NewLine;
                        break;
                    case "GTR4":
                        options += TabInString(7 + tab_offset) + "w: 467," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 467," + Environment.NewLine;
                        break;
                    case "Amazfit_Band_7":
                        options += TabInString(7 + tab_offset) + "w: 194," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 386," + Environment.NewLine;
                        break;
                    case "GTS4_mini":
                        options += TabInString(7 + tab_offset) + "w: 336," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 384," + Environment.NewLine;
                        break;
                    case "Falcon":
                    case "GTR_mini":
                        options += TabInString(7 + tab_offset) + "w: 417," + Environment.NewLine;
                        options += TabInString(7 + tab_offset) + "h: 417," + Environment.NewLine;
                        break;
                }*/
                options += TabInString(7 + tab_offset) + "w: " + (SelectedModel.background.w + 1).ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "h: " + (SelectedModel.background.h + 1).ToString() + "," + Environment.NewLine;

                options += TabInString(7 + tab_offset) + "pos_x: " + (anim.center_x - anim.pos_x).ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "pos_y: " + (anim.center_y - anim.pos_y).ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "center_x: " + anim.center_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "center_y: " + anim.center_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "angle: " + anim.start_angle.ToString() + "," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "src: 'animation/" + anim.src + ".png'," + Environment.NewLine;
                options += TabInString(7 + tab_offset) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string Rotate_Animation_Options(Rotate_Animation anim, bool mirror)
        {
            //if (ProgramSettings.Watch_Model == "GTR 4" || ProgramSettings.Watch_Model == "GTS 4" || ProgramSettings.Watch_Model == "T-Rex 2" ||
            //    ProgramSettings.Watch_Model == "T-Rex Ultra" || ProgramSettings.Watch_Model == "GTR mini") 
            if (SelectedModel.versionOS >= 1.5)
                return Rotate_Animation_Options_2(anim, mirror);
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7) + "anim_rate: 'linear'," + Environment.NewLine;
                options += TabInString(7) + "anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
                if (!mirror)
                {
                    options += TabInString(7) + "anim_from: " + anim.start_angle.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "anim_to: " + anim.end_angle.ToString() + "," + Environment.NewLine;
                }
                else
                {
                    options += TabInString(7) + "anim_from: " + anim.end_angle.ToString() + "," + Environment.NewLine;
                    options += TabInString(7) + "anim_to: " + anim.start_angle.ToString() + "," + Environment.NewLine;
                }
                options += TabInString(7) + "anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "anim_key: \"angle\"," + Environment.NewLine;
            }
            return options;
        }
        private string Rotate_Animation_Options_2(Rotate_Animation anim, bool mirror)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;
            if (anim.src.Length > 0)
            {
                options += TabInString(7) + "anim_steps: [{" + Environment.NewLine;
                options += TabInString(8) + "anim_rate: 'linear'," + Environment.NewLine;
                options += TabInString(8) + "anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
                if (!mirror)
                {
                    options += TabInString(8) + "anim_from: " + anim.start_angle.ToString() + "," + Environment.NewLine;
                    options += TabInString(8) + "anim_to: " + anim.end_angle.ToString() + "," + Environment.NewLine;
                }
                else
                {
                    options += TabInString(8) + "anim_from: " + anim.end_angle.ToString() + "," + Environment.NewLine;
                    options += TabInString(8) + "anim_to: " + anim.start_angle.ToString() + "," + Environment.NewLine;
                }
                options += TabInString(8) + "anim_key: \"angle\"," + Environment.NewLine;
                options += TabInString(7) + "}]," + Environment.NewLine;
                options += TabInString(7) + "anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "anim_auto_start: 1," + Environment.NewLine;
                options += TabInString(7) + "anim_repeat: 0," + Environment.NewLine;
                options += TabInString(7) + "anim_auto_destroy: 1," + Environment.NewLine;
            }
            return options;
        }

        private string Rotate_Animation_OptionsForRead(Rotate_Animation anim, string optionNameStart, string show_level, int index)
        {
            string options = Environment.NewLine;
            if (anim == null) return options;
            if (!anim.visible) return options;
            if (anim.src == null) return options;

            options += TabInString(6) + "// " + optionNameStart + "rotate_anime_" + index.ToString() +
                " = hmUI.createWidget(hmUI.widget.Rotate_Animation, {" + Environment.NewLine;
            options += TabInString(7) + "// start_angle: " + anim.start_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// end_angle: " + anim.end_angle.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// pos_x: " + anim.pos_x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// pos_y: " + anim.pos_y.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// center_x: " + anim.center_x.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// center_y: " + anim.center_y.ToString() + "," + Environment.NewLine;
            if (anim.src != null && anim.src.Length > 0)
                options += TabInString(7) + "// src: '" + anim.src + ".png'," + Environment.NewLine;
            options += TabInString(7) + "// anim_fps: " + anim.anim_fps.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// anim_duration: " + anim.anim_duration.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// repeat_count: " + anim.repeat_count.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// anim_two_sides: " + anim.anim_two_sides.ToString() + "," + Environment.NewLine;
            options += TabInString(7) + "// show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
            options += TabInString(6) + "// });" + Environment.NewLine;

            return options;
        }

        private string Editable_Background_Options(Editable_Background editable_background, string show_level)
        {
            string options = Environment.NewLine;
            if (editable_background == null) return options;
            if (!editable_background.enable_edit_bg) return options;
            //if (editable_background.fg == null || editable_background.fg.Length < 1) return options;
            //if (editable_background.tips_bg == null || editable_background.tips_bg.Length < 1) return options;
            if (editable_background.BackgroundList == null || editable_background.BackgroundList.Count == 0) return options;
            if (editable_background.BackgroundList[0].path.Length > 0)
            {
                options += TabInString(7) + "edit_id: 1002," + Environment.NewLine;
                options += TabInString(7) + "x: 0," + Environment.NewLine;
                options += TabInString(7) + "y: 0," + Environment.NewLine;
                options += TabInString(7) + "// w: " + editable_background.w.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "// h: " + editable_background.h.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "// AOD_show: " + editable_background.AOD_show.ToString() + "," + Environment.NewLine;

                int count = editable_background.BackgroundList.Count;
                options += TabInString(7) + "bg_config: [" + Environment.NewLine;
                for(int i= 0; i < count; i++)
                {
                    options += TabInString(8) + "{ id: " + (i+1).ToString() + 
                        ", preview: '" + editable_background.BackgroundList[i].preview +
                        ".png', path: '" + editable_background.BackgroundList[i].path + ".png' }," + Environment.NewLine;
                }
                options += TabInString(7) + "]," + Environment.NewLine;

                options += TabInString(7) + "count: " + count.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "default_id: 1," + Environment.NewLine;
                options += TabInString(7) + "fg: '" + editable_background.fg + ".png'," + Environment.NewLine;
                options += TabInString(7) + "tips_bg: '" + editable_background.tips_bg + ".png'," + Environment.NewLine;
                options += TabInString(7) + "tips_x: " + editable_background.tips_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_y: " + editable_background.tips_y.ToString() + "," + Environment.NewLine;

                //options += TabInString(7) + "show_level: hmUI.show_level." + show_level + "," + Environment.NewLine;
                if(show_level != null && show_level.Length > 0) 
                    options += TabInString(7) + "show_level: " + show_level + "," + Environment.NewLine;
            }
            return options;
        }

        private string Editable_Pointers_Options(ElementEditablePointers editable_pointers)
        {
            string options = Environment.NewLine;
            if (editable_pointers == null) return options;
            if (editable_pointers.config != null && editable_pointers.config.Count > 0)
            {
                options += TabInString(7) + "edit_id: 1003," + Environment.NewLine;
                options += TabInString(7) + "x: 0," + Environment.NewLine;
                options += TabInString(7) + "y: 0," + Environment.NewLine;
                options += TabInString(7) + "config: [" + Environment.NewLine;
                string tempStr = "";
                for (int i = 0; i < editable_pointers.config.Count; i++)
                {
                    string configStr = "";
                    PointersList pointersList = editable_pointers.config[i];

                    if (pointersList.second != null && pointersList.second.path != null && pointersList.second.path.Length > 0)
                    {
                        configStr += TabInString(9) + "second: {" + Environment.NewLine;
                        configStr += TabInString(10) + "centerX: " + pointersList.second.centerX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "centerY: " + pointersList.second.centerY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posX: " + pointersList.second.posX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posY: " + pointersList.second.posY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "path: '" + pointersList.second.path + ".png'," + Environment.NewLine;
                        configStr += TabInString(9) + "}," + Environment.NewLine;
                    }

                    if (pointersList.hour != null && pointersList.hour.path != null && pointersList.hour.path.Length > 0)
                    {
                        configStr += TabInString(9) + "hour: {" + Environment.NewLine;
                        configStr += TabInString(10) + "centerX: " + pointersList.hour.centerX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "centerY: " + pointersList.hour.centerY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posX: " + pointersList.hour.posX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posY: " + pointersList.hour.posY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "path: '" + pointersList.hour.path + ".png'," + Environment.NewLine;
                        configStr += TabInString(9) + "}," + Environment.NewLine;
                    }

                    if (pointersList.minute != null && pointersList.minute.path != null && pointersList.minute.path.Length > 0)
                    {
                        configStr += TabInString(9) + "minute: {" + Environment.NewLine;
                        configStr += TabInString(10) + "centerX: " + pointersList.minute.centerX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "centerY: " + pointersList.minute.centerY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posX: " + pointersList.minute.posX.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "posY: " + pointersList.minute.posY.ToString() + "," + Environment.NewLine;
                        configStr += TabInString(10) + "path: '" + pointersList.minute.path + ".png'," + Environment.NewLine;
                        configStr += TabInString(9) + "}," + Environment.NewLine;
                    }

                    if (pointersList.preview != null && pointersList.preview.Length > 0)
                    {
                        configStr += TabInString(9) + "preview: '" + pointersList.preview + ".png'," + Environment.NewLine;
                    }
                    if (configStr.Length > 5) 
                    { 
                        configStr = TabInString(9) + "id: " + (i + 1).ToString() + "," + Environment.NewLine + configStr;
                        tempStr += TabInString(8) + "{" + Environment.NewLine;
                        tempStr += configStr;
                        tempStr += TabInString(8) + "}," + Environment.NewLine;
                    }
                }
                if (tempStr.Length > 5)
                {
                    //options += TabInString(8) + "{" + Environment.NewLine;
                    options += tempStr;
                    //options += TabInString(8) + "}," + Environment.NewLine; 
                }

                options += TabInString(7) + "]," + Environment.NewLine;

                options += TabInString(7) + "count: " + editable_pointers.config.Count.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "default_id: 1," + Environment.NewLine;
                options += TabInString(7) + "fg: '" + editable_pointers.fg + ".png'," + Environment.NewLine;
                options += TabInString(7) + "tips_x: " + editable_pointers.tips_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_y: " + editable_pointers.tips_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_bg: '" + editable_pointers.tips_bg + ".png'," + Environment.NewLine;


            }
            return options;
        }

        private string Editable_Elements_Options(WATCHFACE_EDIT_GROUP editable_elements, int index)
        {
            string options = Environment.NewLine;
            if (editable_elements == null) return options;
            if (editable_elements.optional_types_list != null && editable_elements.optional_types_list.Count > 0)
            {
                int x = editable_elements.x;
                int y = editable_elements.y;
                int tips_x = editable_elements.tips_x;
                int tips_y = editable_elements.tips_y;
                int offset_x = tips_x - x;
                int offset_y = tips_y - y;

                options += TabInString(7) + "edit_id: 1002" + index.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "x: " + x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "y: " + y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "w: " + editable_elements.w.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "h: " + editable_elements.h.ToString() + "," + Environment.NewLine;
                if(editable_elements.select_image != null && editable_elements.select_image.Length > 0)
                    options += TabInString(7) + "select_image: '" + editable_elements.select_image + ".png'," + Environment.NewLine;
                if (editable_elements.un_select_image != null && editable_elements.un_select_image.Length > 0)
                    options += TabInString(7) + "un_select_image: '" + editable_elements.un_select_image + ".png'," + Environment.NewLine;
                if (editable_elements.optional_types_list[0].type == "FAT_BURNING")
                {
                    options += TabInString(7) + "default_type: hmUI.edit_type.FAT_BURN," + Environment.NewLine;
                }
                else options += TabInString(7) + "default_type: hmUI.edit_type." + editable_elements.optional_types_list[0].type + "," + Environment.NewLine;
                options += TabInString(7) + "optional_types: [" + Environment.NewLine;
                int count = 0;
                for (int i = 0; i < editable_elements.optional_types_list.Count; i++)
                {
                    Optional_Types_List typeList = editable_elements.optional_types_list[i];
                    if (typeList.type != null && typeList.type.Length > 0 && typeList.preview != null && typeList.preview.Length > 0)
                    {
                        switch (typeList.type)
                        {
                            //case "PAI":
                            //    options += TabInString(8) + "{ type: 1300001, preview: '" + typeList.preview +
                            //        ".png', title_sc: 'PAI', title_tc: 'PAI', title_en: 'PAI' }," + Environment.NewLine;
                            //    break;
                            case "FAT_BURNING":
                                options += TabInString(8) + "{ type: hmUI.edit_type.FAT_BURN, preview: '" + typeList.preview + ".png'}," + Environment.NewLine;
                                break;
                            //case "FAT_BURNING":
                            //    options += TabInString(8) + "{ type: 1300002, preview: '" + typeList.preview +
                            //        ".png', title_sc: 'Fat burning', title_tc: 'Fat burning', title_en: 'Fat burning' }," + Environment.NewLine;
                            //    break;
                            case "DATE":
                                if (!options.Contains("{ type: hmUI.edit_type.DATE"))
                                    options += TabInString(8) + "{ type: hmUI.edit_type." + typeList.type +
                                               ", preview: '" + typeList.preview + ".png' }," + Environment.NewLine;
                                else count--;
                                break;

                            default:
                                options += TabInString(8) + "{ type: hmUI.edit_type." + typeList.type +
                                               ", preview: '" + typeList.preview + ".png' }," + Environment.NewLine;
                                break;
                        }
                        count++;
                    }
                }

                options += TabInString(7) + "]," + Environment.NewLine;

                //options += TabInString(7) + "count: " + editable_elements.Elements.Count.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "count: " + count.ToString() + "," + Environment.NewLine;
                if (comboBox_watch_model.Text != "GTS 4 mini")
                {
                    options += TabInString(7) + "select_list: {" + Environment.NewLine;
                    options += TabInString(8) + "title_font_size: 34," + Environment.NewLine;
                    options += TabInString(8) + "title_align_h: hmUI.align.CENTER_H," + Environment.NewLine;
                    options += TabInString(8) + "list_item_vspace: 8," + Environment.NewLine;
                    options += TabInString(8) + "list_tips_text_font_size: 32," + Environment.NewLine;
                    options += TabInString(8) + "list_tips_text_align_h: hmUI.align.LEFT" + Environment.NewLine;
                    options += TabInString(7) + "}," + Environment.NewLine; 
                }
                options += TabInString(7) + "tips_BG: '" + editable_elements.tips_BG + ".png'," + Environment.NewLine;
                //options += TabInString(7) + "tips_x: " + editable_elements.tips_x.ToString() + "," + Environment.NewLine;
                //options += TabInString(7) + "tips_y: " + editable_elements.tips_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_x: " + offset_x.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_y: " + offset_y.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_width: " + editable_elements.tips_width.ToString() + "," + Environment.NewLine;
                options += TabInString(7) + "tips_margin: " + editable_elements.tips_margin.ToString() + "," + Environment.NewLine;
                //options += TabInString(7) + "show_level: hmUI.show_level.ONLY_NORMAL | hmUI.show_level.ONLY_EDIT," + Environment.NewLine;


            }
            return options;
        }

        private string DisconnectAlert_Options(DisconnectAlert disconnectAlert, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (disconnectAlert == null) return options;
            options += TabInString(6 + tabOffset) + "// disconnectAlert = hmUI.createWidget(hmUI.widget.DisconnectAlert, {" + Environment.NewLine;
            if (disconnectAlert.BluetoothOff != null)
            {
                if (disconnectAlert.BluetoothOff.vibrate)
                {
                    options += TabInString(7 + tabOffset) + "// disconneсnt_vibrate_type: " +
                                disconnectAlert.BluetoothOff.vibrateType.ToString() + "," + Environment.NewLine; 
                }
                if (disconnectAlert.BluetoothOff.toastShow)
                {
                    string toastText = disconnectAlert.BluetoothOff.toastText.Replace(Environment.NewLine, "\\r\\n");
                    options += TabInString(7 + tabOffset) + "// disconneсnt_toast_text: " +
                                toastText + "," + Environment.NewLine;  
                }
            }
            if (disconnectAlert.BluetoothOn != null)
            {
                if (disconnectAlert.BluetoothOn.vibrate)
                {
                    options += TabInString(7 + tabOffset) + "// conneсnt_vibrate_type: " +
                               disconnectAlert.BluetoothOn.vibrateType.ToString() + "," + Environment.NewLine; 
                }
                if (disconnectAlert.BluetoothOn.toastShow)
                {
                    string toastText = disconnectAlert.BluetoothOn.toastText.Replace(Environment.NewLine, "\\r\\n");
                    options += TabInString(7 + tabOffset) + "// conneсnt_toast_text: " +
                              toastText + "," + Environment.NewLine; 
                }
            }
            options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;

            return options;
        }

        private string RepeatAlert_Options(RepeatAlert repeatAlert, int tabOffset = 0)
        {
            string options = Environment.NewLine;
            if (repeatAlert == null) return options;
            options += TabInString(6 + tabOffset) + "// repeatAlert = hmUI.createWidget(hmUI.widget.RepeatAlert, {" + Environment.NewLine;
            if (repeatAlert.EveryHour != null)
            {
                if (repeatAlert.EveryHour.vibrate)
                {
                    options += TabInString(7 + tabOffset) + "// everyHour_vibrate_type: " +
                                repeatAlert.EveryHour.vibrateType.ToString() + "," + Environment.NewLine;
                }
                if (repeatAlert.EveryHour.toastShow)
                {
                    string toastText = repeatAlert.EveryHour.toastText.Replace(Environment.NewLine, "\\r\\n");
                    options += TabInString(7 + tabOffset) + "// everyHour_toast_text: " +
                                toastText + "," + Environment.NewLine;
                }
            }
            if (repeatAlert.RepeatingAlert != null)
            {
                if (repeatAlert.RepeatingAlert.vibrate)
                {
                    options += TabInString(7 + tabOffset) + "// repeatingAlert_vibrate_type: " +
                               repeatAlert.RepeatingAlert.vibrateType.ToString() + "," + Environment.NewLine;
                }
                if (repeatAlert.RepeatingAlert.toastShow)
                {
                    string toastText = repeatAlert.RepeatingAlert.toastText.Replace(Environment.NewLine, "\\r\\n");
                    options += TabInString(7 + tabOffset) + "// repeatingAlert_toast_text: " +
                              toastText + "," + Environment.NewLine;
                }
                if (repeatAlert.RepeatingAlert.vibrate || repeatAlert.RepeatingAlert.toastShow)
                {
                    options += TabInString(7 + tabOffset) + "// repeatingAlert_repeat_period: " +
                               repeatAlert.RepeatingAlert.repeatPeriod.ToString() + "," + Environment.NewLine;
                }
            }
            options += TabInString(6 + tabOffset) + "// });" + Environment.NewLine;

            return options;
        }


        private string TabInString(int count)
        {
            string returnStr = "";
            returnStr = new String(' ', count * 2);
            return returnStr;
        }

        /// <summary>Распознаем текст и преобразуем JS в Json</summary>
        private void JSToJson(string fileName, out string user_functions, out string user_script_start, out string user_script, out string user_script_AOD, out string user_script_beforeShortcuts, 
            out string user_script_end, out string resume_call, out string pause_call)
        {
            user_functions = "";
            user_script_start = "";
            user_script = "";
            user_script_AOD = "";
            user_script_beforeShortcuts = "";
            user_script_end = "";
            resume_call = "";
            pause_call = "";

            Watch_Face = null;
            if (!File.Exists(fileName)) return;
            string functionText = File.ReadAllText(fileName);
            // вычищаем код от функций которые могот помешать парсингу
            #region code cleanup
            int startPosDel = functionText.IndexOf("//start of ignored block");
            int endPosDel = functionText.IndexOf("//end of ignored block");
            while (startPosDel > 0 && startPosDel < endPosDel)
            {
                int lenght = endPosDel - startPosDel + "//end of ignored block".Length;
                functionText = functionText.Remove(startPosDel, lenght);

                startPosDel = functionText.IndexOf("//start of ignored block");
                endPosDel = functionText.IndexOf("//end of ignored block");
            }
            startPosDel = functionText.IndexOf("function getApp() {");
            endPosDel = functionText.IndexOf("init_view()");
            if (startPosDel > 0 && startPosDel < endPosDel)
            {
                endPosDel = functionText.IndexOf("}");
                if (startPosDel < endPosDel) functionText = functionText.Remove(startPosDel, endPosDel - startPosDel + 1);
            }
            startPosDel = functionText.IndexOf("function getCurrentPage() {");
            endPosDel = functionText.IndexOf("init_view()");
            if (startPosDel > 0 && startPosDel < endPosDel)
            {
                endPosDel = functionText.IndexOf("}");
                if (startPosDel < endPosDel) functionText = functionText.Remove(startPosDel, endPosDel - startPosDel + 1);
            }

            functionText = functionText.Replace("\r", "");
            functionText = functionText.Replace("\n", Environment.NewLine);
            Regex regex = new Regex(@"{px:\w}");
            functionText = regex.Replace(functionText, "px:x");
            regex = new Regex(@"{px: \w}");
            functionText = regex.Replace(functionText, "px:x");
            //functionText = functionText.Replace("{px:n}", "px:n");
            //functionText = functionText.Replace("{px:g}", "px:g");
            functionText = functionText.Replace("const {px}", "const px");
            #endregion
            // конец очистки кода

            #region user_script
            string start_user_script = "// start user_functions.js";
            string end_user_script = "// end user_functions.js";
            int user_script_startPos = functionText.IndexOf(start_user_script);
            int user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_functions = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start user_script_start.js";
            end_user_script = "// end user_script_start.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_script_start = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start user_script.js";
            end_user_script = "// end user_script.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_script = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start AOD_user_script.js";
            end_user_script = "// end AOD_user_script.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_script_AOD = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start user_script_end.js";
            end_user_script = "// end user_script_end.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_script_end = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start resume_call.js";
            end_user_script = "// end resume_call.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                resume_call = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start pause_call.js";
            end_user_script = "// end pause_call.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                pause_call = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            start_user_script = "// start user_script_beforeShortcuts.js";
            end_user_script = "// end user_script_beforeShortcuts.js";
            user_script_startPos = functionText.IndexOf(start_user_script);
            user_script_endPos = functionText.IndexOf(end_user_script);
            if (user_script_startPos > 0 && user_script_startPos < user_script_endPos)
            {
                int lenght = user_script_endPos - user_script_startPos - start_user_script.Length;
                string user_script_text = functionText.Substring(user_script_startPos + start_user_script.Length, lenght);
                user_script_text = user_script_text.Trim();
                user_script_beforeShortcuts = user_script_text;

                lenght = user_script_endPos + end_user_script.Length - user_script_startPos;
                functionText = functionText.Remove(user_script_startPos, lenght);
            }

            #endregion

            string functionName = "";
            while (functionName != "init_view()" && functionText.Length > 10)
            {
                functionText = GetFunction(functionText, out functionName, true);
            }
            List<string> functionsList = GetFunctionsList(functionText);

            Watch_Face = new WATCH_FACE();
            Watch_Face.WatchFace_Info = new WatchFace_Info();
            Watch_Face.ScreenNormal = new ScreenNormal();
            Watch_Face.ScreenAOD = new ScreenAOD();
            bool firstImgNormal = true;
            bool firstImgAOD = true;

            foreach (string parametrString in functionsList)
            {
                Dictionary<string, string> parametrs = ParseParametrsInString(parametrString);
                if (parametrs.ContainsKey("ObjectType") /*&& parametrs.ContainsKey("ObjectName")*/)
                {
                    string objectType = parametrs["ObjectType"];
                    string objectName = "";
                    if (parametrs.ContainsKey("ObjectName")) objectName = parametrs["ObjectName"];
                    List<object> elementsList = null;
                    switch (objectType)
                    {
                        #region IMG
                        case "IMG":
                        case "IMG_Options":
                            hmUI_widget_IMG img = Object_IMG(parametrs);
                            if (objectName.EndsWith("background_bg") || objectName.EndsWith("background_bg_img"))
                            {
                                if (img.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                                {
                                    if (Watch_Face.ScreenNormal.Background == null)
                                        Watch_Face.ScreenNormal.Background = new Background();
                                    Watch_Face.ScreenNormal.Background.BackgroundImage = img;
                                }
                                else if (img.show_level == "ONLY_AOD" || img.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                                {
                                    if (Watch_Face.ScreenAOD.Background == null)
                                        Watch_Face.ScreenAOD.Background = new Background();
                                    Watch_Face.ScreenAOD.Background.BackgroundImage = img;
                                }
                            }
                            else
                            {
                                elementsList = null;
                                if (img.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                                {
                                    if (Watch_Face.ScreenNormal.Elements == null)
                                        Watch_Face.ScreenNormal.Elements = new List<object>();
                                    elementsList = Watch_Face.ScreenNormal.Elements;
                                }
                                else if (img.show_level == "ONLY_AOD" || img.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                                {
                                    if (Watch_Face.ScreenAOD.Elements == null)
                                        Watch_Face.ScreenAOD.Elements = new List<object>();
                                    elementsList = Watch_Face.ScreenAOD.Elements;
                                }
                                //if (elementsList != null) elementsList.Add(anim);
                            }

                            if (objectName.EndsWith("separator_img"))
                            {
                                if (objectName.EndsWith("hour_separator_img"))
                                {
                                    ElementDigitalTime_v2 digitalTime = null;
                                    digitalTime = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                                    if (digitalTime != null && digitalTime.Group_Hour != null && digitalTime.Group_Hour.Number != null)
                                    {
                                        digitalTime.Group_Hour.Number.icon = img.src;
                                        digitalTime.Group_Hour.Number.iconPosX = img.x;
                                        digitalTime.Group_Hour.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("minute_separator_img"))
                                {
                                    ElementDigitalTime_v2 digitalTime = null;
                                    digitalTime = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                                    if (digitalTime != null && digitalTime.Group_Minute != null && digitalTime.Group_Minute.Number != null)
                                    {
                                        digitalTime.Group_Minute.Number.icon = img.src;
                                        digitalTime.Group_Minute.Number.iconPosX = img.x;
                                        digitalTime.Group_Minute.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("second_separator_img"))
                                {
                                    ElementDigitalTime_v2 digitalTime = null;
                                    digitalTime = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                                    if (digitalTime != null && digitalTime.Group_Second != null && digitalTime.Group_Second.Number != null)
                                    {
                                        digitalTime.Group_Second.Number.icon = img.src;
                                        digitalTime.Group_Second.Number.iconPosX = img.x;
                                        digitalTime.Group_Second.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("day_separator_img"))
                                {
                                    ElementDateDay dateDay = null;
                                    dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                                    if (dateDay != null && dateDay.Number != null)
                                    {
                                        dateDay.Number.icon = img.src;
                                        dateDay.Number.iconPosX = img.x;
                                        dateDay.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("month_separator_img"))
                                {
                                    ElementDateMonth dateMonth = null;
                                    dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                    if (dateMonth != null && dateMonth.Number != null)
                                    {
                                        dateMonth.Number.icon = img.src;
                                        dateMonth.Number.iconPosX = img.x;
                                        dateMonth.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("year_separator_img"))
                                {
                                    ElementDateYear dateYear = null;
                                    dateYear = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                    if (dateYear != null && dateYear.Number != null)
                                    {
                                        dateYear.Number.icon = img.src;
                                        dateYear.Number.iconPosX = img.x;
                                        dateYear.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("step_current_separator_img"))
                                {
                                    ElementSteps steps = null;
                                    steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                                    if (steps != null && steps.Number != null)
                                    {
                                        steps.Number.icon = img.src;
                                        steps.Number.iconPosX = img.x;
                                        steps.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("step_target_separator_img"))
                                {
                                    ElementSteps steps = null;
                                    steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                                    if (steps != null && steps.Number_Target != null)
                                    {
                                        steps.Number_Target.icon = img.src;
                                        steps.Number_Target.iconPosX = img.x;
                                        steps.Number_Target.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("battery_text_separator_img"))
                                {
                                    ElementBattery battery = null;
                                    battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                                    if (battery != null && battery.Number != null)
                                    {
                                        battery.Number.icon = img.src;
                                        battery.Number.iconPosX = img.x;
                                        battery.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("calorie_current_separator_img"))
                                {
                                    ElementCalories calorie = null;
                                    calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                                    if (calorie != null && calorie.Number != null)
                                    {
                                        calorie.Number.icon = img.src;
                                        calorie.Number.iconPosX = img.x;
                                        calorie.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("calorie_target_separator_img"))
                                {
                                    ElementCalories calorie = null;
                                    calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                                    if (calorie != null && calorie.Number_Target != null)
                                    {
                                        calorie.Number_Target.icon = img.src;
                                        calorie.Number_Target.iconPosX = img.x;
                                        calorie.Number_Target.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("heart_rate_text_separator_img"))
                                {
                                    ElementHeart heart = null;
                                    heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                                    if (heart != null && heart.Number != null)
                                    {
                                        heart.Number.icon = img.src;
                                        heart.Number.iconPosX = img.x;
                                        heart.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("pai_day_separator_img"))
                                {
                                    ElementPAI pai_day = null;
                                    pai_day = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                                    if (pai_day != null && pai_day.Number != null)
                                    {
                                        pai_day.Number.icon = img.src;
                                        pai_day.Number.iconPosX = img.x;
                                        pai_day.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("pai_weekly_separator_img"))
                                {
                                    ElementPAI pai_weekly = null;
                                    pai_weekly = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                                    if (pai_weekly != null && pai_weekly.Number_Target != null)
                                    {
                                        pai_weekly.Number_Target.icon = img.src;
                                        pai_weekly.Number_Target.iconPosX = img.x;
                                        pai_weekly.Number_Target.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("distance_text_separator_img"))
                                {
                                    ElementDistance distance = null;
                                    distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                                    if (distance != null && distance.Number != null)
                                    {
                                        distance.Number.icon = img.src;
                                        distance.Number.iconPosX = img.x;
                                        distance.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("stand_current_separator_img"))
                                {
                                    ElementStand stand = null;
                                    stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                                    if (stand != null && stand.Number != null)
                                    {
                                        stand.Number.icon = img.src;
                                        stand.Number.iconPosX = img.x;
                                        stand.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("stand_target_separator_img"))
                                {
                                    ElementStand stand = null;
                                    stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                                    if (stand != null && stand.Number_Target != null)
                                    {
                                        stand.Number_Target.icon = img.src;
                                        stand.Number_Target.iconPosX = img.x;
                                        stand.Number_Target.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("activity_current_separator_img"))
                                {
                                    ElementActivity activity = null;
                                    activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                                    if (activity != null && activity.Number != null)
                                    {
                                        activity.Number.icon = img.src;
                                        activity.Number.iconPosX = img.x;
                                        activity.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("activity_target_separator_img"))
                                {
                                    ElementActivity activity = null;
                                    activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                                    if (activity != null && activity.Number_Target != null)
                                    {
                                        activity.Number_Target.icon = img.src;
                                        activity.Number_Target.iconPosX = img.x;
                                        activity.Number_Target.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("spo2_text_separator_img"))
                                {
                                    ElementSpO2 spo2 = null;
                                    spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                                    if (spo2 != null && spo2.Number != null)
                                    {
                                        spo2.Number.icon = img.src;
                                        spo2.Number.iconPosX = img.x;
                                        spo2.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("stress_text_separator_img"))
                                {
                                    ElementStress stress = null;
                                    stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                                    if (stress != null && stress.Number != null)
                                    {
                                        stress.Number.icon = img.src;
                                        stress.Number.iconPosX = img.x;
                                        stress.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("fat_burning_current_separator_img"))
                                {
                                    ElementFatBurning fat_burning = null;
                                    fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                                    if (fat_burning != null && fat_burning.Number != null)
                                    {
                                        fat_burning.Number.icon = img.src;
                                        fat_burning.Number.iconPosX = img.x;
                                        fat_burning.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("fat_burning_target_separator_img"))
                                {
                                    ElementFatBurning fat_burning = null;
                                    fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                                    if (fat_burning != null && fat_burning.Number_Target != null)
                                    {
                                        fat_burning.Number_Target.icon = img.src;
                                        fat_burning.Number_Target.iconPosX = img.x;
                                        fat_burning.Number_Target.iconPosY = img.y;
                                    }
                                }



                                /*if (objectName.EndsWith("temperature_current_separator_img"))
                                {
                                    ElementWeather weather = null;
                                    weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                                    if (weather != null && weather.Number != null)
                                    {
                                        weather.Number.icon = img.src;
                                        weather.Number.iconPosX = img.x;
                                        weather.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("temperature_low_separator_img"))
                                {
                                    ElementWeather weather = null;
                                    weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                                    if (weather != null && weather.Number_Min != null)
                                    {
                                        weather.Number_Min.icon = img.src;
                                        weather.Number_Min.iconPosX = img.x;
                                        weather.Number_Min.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("temperature_high_separator_img"))
                                {
                                    ElementWeather weather = null;
                                    weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                                    if (weather != null && weather.Number_Max != null)
                                    {
                                        weather.Number_Max.icon = img.src;
                                        weather.Number_Max.iconPosX = img.x;
                                        weather.Number_Max.iconPosY = img.y;
                                    }
                                }*/

                                if (objectName.EndsWith("temperature_current_separator_img"))
                                {
                                    ElementWeather_v2 weather = null;
                                    weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    if (weather != null && weather.Group_Current != null && weather.Group_Current.Number != null)
                                    {
                                        weather.Group_Current.Number.icon = img.src;
                                        weather.Group_Current.Number.iconPosX = img.x;
                                        weather.Group_Current.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("temperature_low_separator_img"))
                                {
                                    ElementWeather_v2 weather = null;
                                    weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    if (weather != null && weather.Group_Min != null && weather.Group_Min.Number != null)
                                    {
                                        weather.Group_Min.Number.icon = img.src;
                                        weather.Group_Min.Number.iconPosX = img.x;
                                        weather.Group_Min.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("temperature_high_separator_img"))
                                {
                                    ElementWeather_v2 weather = null;
                                    weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    if (weather != null && weather.Group_Max != null && weather.Group_Max.Number != null)
                                    {
                                        weather.Group_Max.Number.icon = img.src;
                                        weather.Group_Max.Number.iconPosX = img.x;
                                        weather.Group_Max.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("temperature_max_min_separator_img"))
                                {
                                    ElementWeather_v2 weather = null;
                                    weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    if (weather != null && weather.Group_Max_Min != null && weather.Group_Max_Min.Number != null)
                                    {
                                        weather.Group_Max_Min.Number.icon = img.src;
                                        weather.Group_Max_Min.Number.iconPosX = img.x;
                                        weather.Group_Max_Min.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("uvi_text_separator_img"))
                                {
                                    ElementUVIndex uv_index = null;
                                    uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                                    if (uv_index != null && uv_index.Number != null)
                                    {
                                        uv_index.Number.icon = img.src;
                                        uv_index.Number.iconPosX = img.x;
                                        uv_index.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("humidity_text_separator_img"))
                                {
                                    ElementHumidity humidity = null;
                                    humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                                    if (humidity != null && humidity.Number != null)
                                    {
                                        humidity.Number.icon = img.src;
                                        humidity.Number.iconPosX = img.x;
                                        humidity.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("altimeter_text_separator_img"))
                                {
                                    ElementAltimeter altimeter = null;
                                    altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                                    if (altimeter != null && altimeter.Number != null)
                                    {
                                        altimeter.Number.icon = img.src;
                                        altimeter.Number.iconPosX = img.x;
                                        altimeter.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("sun_high_separator_img"))
                                {
                                    ElementSunrise sunrise = null;
                                    sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                                    if (sunrise != null && sunrise.Sunrise != null)
                                    {
                                        sunrise.Sunrise.icon = img.src;
                                        sunrise.Sunrise.iconPosX = img.x;
                                        sunrise.Sunrise.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("sun_low_separator_img"))
                                {
                                    ElementSunrise sunset = null;
                                    sunset = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                                    if (sunset != null && sunset.Sunset != null)
                                    {
                                        sunset.Sunset.icon = img.src;
                                        sunset.Sunset.iconPosX = img.x;
                                        sunset.Sunset.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("sun_current_separator_img"))
                                {
                                    ElementSunrise sunset = null;
                                    sunset = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                                    if (sunset != null && sunset.Sunset_Sunrise != null)
                                    {
                                        sunset.Sunset_Sunrise.icon = img.src;
                                        sunset.Sunset_Sunrise.iconPosX = img.x;
                                        sunset.Sunset_Sunrise.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("moon_high_separator_img"))
                                {
                                    ElementMoon moon = null;
                                    moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                                    if (moon != null && moon.Sunrise != null)
                                    {
                                        moon.Sunrise.icon = img.src;
                                        moon.Sunrise.iconPosX = img.x;
                                        moon.Sunrise.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("moon_low_separator_img"))
                                {
                                    ElementMoon moon = null;
                                    moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                                    if (moon != null && moon.Sunset != null)
                                    {
                                        moon.Sunset.icon = img.src;
                                        moon.Sunset.iconPosX = img.x;
                                        moon.Sunset.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("moon_current_separator_img"))
                                {
                                    ElementMoon moon = null;
                                    moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                                    if (moon != null && moon.Sunset_Sunrise != null)
                                    {
                                        moon.Sunset_Sunrise.icon = img.src;
                                        moon.Sunset_Sunrise.iconPosX = img.x;
                                        moon.Sunset_Sunrise.iconPosY = img.y;
                                    }
                                }


                                if (objectName.EndsWith("wind_text_separator_img"))
                                {
                                    ElementWind wind = null;
                                    wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                                    if (wind != null && wind.Number != null)
                                    {
                                        wind.Number.icon = img.src;
                                        wind.Number.iconPosX = img.x;
                                        wind.Number.iconPosY = img.y;
                                    }
                                }

                                if (objectName.EndsWith("compass_separator_img"))
                                {
                                    ElementCompass compass = null;
                                    compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                                    if (compass != null && compass.Number != null)
                                    {
                                        compass.Number.icon = img.src;
                                        compass.Number.iconPosX = img.x;
                                        compass.Number.iconPosY = img.y;
                                    }
                                }

                            }

                            if (objectName.EndsWith("icon_img"))
                            {

                                if (objectName.EndsWith("year_icon_img"))
                                {
                                    ElementDateYear year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                    if (year == null)
                                    {
                                        elementsList.Add(new ElementDateYear());
                                        year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                    }
                                    if (year != null)
                                    {
                                        int offset = 1;
                                        if (year.Number != null) offset++;
                                        if (year.Number_Font != null) offset++;
                                        if (year.Text_rotation != null) offset++;
                                        if (year.Text_circle != null) offset++;

                                        year.Icon = new hmUI_widget_IMG();
                                        year.Icon.src = img.src;
                                        year.Icon.x = img.x;
                                        year.Icon.y = img.y;
                                        year.Icon.alpha = img.alpha;
                                        year.Icon.visible = true;
                                        year.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("step_icon_img"))
                                {
                                    ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                                    if(steps == null)
                                    {
                                        elementsList.Add(new ElementSteps()); 
                                        steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                                    }
                                    if (steps != null)
                                    {
                                        int offset = 1;
                                        if (steps.Images != null) offset++;
                                        if (steps.Segments != null) offset++;
                                        if (steps.Number != null) offset++;
                                        if (steps.Number_Font != null) offset++;
                                        if (steps.Text_rotation != null) offset++;
                                        if (steps.Text_circle != null) offset++;
                                        if (steps.Number_Target != null) offset++;
                                        if (steps.Number_Target_Font != null) offset++;
                                        if (steps.Text_rotation_Target != null) offset++;
                                        if (steps.Text_circle_Target != null) offset++;
                                        if (steps.Pointer != null) offset++;
                                        if (steps.Circle_Scale != null) offset++;
                                        if (steps.Linear_Scale != null) offset++;

                                        steps.Icon = new hmUI_widget_IMG();
                                        steps.Icon.src = img.src;
                                        steps.Icon.x = img.x;
                                        steps.Icon.y = img.y;
                                        steps.Icon.alpha = img.alpha;
                                        steps.Icon.visible = true;
                                        steps.Icon.position = offset;
                                    }
                                }
                                
                                if (objectName.EndsWith("battery_icon_img"))
                                {
                                    ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                                    if (battery == null)
                                    {
                                        elementsList.Add(new ElementBattery());
                                        battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                                    }
                                    if (battery != null)
                                    {
                                        int offset = 1;
                                        if (battery.Images != null) offset++;
                                        if (battery.Segments != null) offset++;
                                        if (battery.Number != null) offset++;
                                        if (battery.Number_Font != null) offset++;
                                        if (battery.Text_rotation != null) offset++;
                                        if (battery.Text_circle != null) offset++;
                                        if (battery.Pointer != null) offset++;
                                        if (battery.Circle_Scale != null) offset++;
                                        if (battery.Linear_Scale != null) offset++;

                                        battery.Icon = new hmUI_widget_IMG();
                                        battery.Icon.src = img.src;
                                        battery.Icon.x = img.x;
                                        battery.Icon.y = img.y;
                                        battery.Icon.alpha = img.alpha;
                                        battery.Icon.visible = true;
                                        battery.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("calorie_icon_img"))
                                {
                                    ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                                    if (calorie == null)
                                    {
                                        elementsList.Add(new ElementCalories());
                                        calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                                    }
                                    if (calorie != null)
                                    {
                                        int offset = 1;
                                        if (calorie.Images != null) offset++;
                                        if (calorie.Segments != null) offset++;
                                        if (calorie.Number != null) offset++;
                                        if (calorie.Number_Font != null) offset++;
                                        if (calorie.Text_rotation != null) offset++;
                                        if (calorie.Text_circle != null) offset++;
                                        if (calorie.Number_Target != null) offset++;
                                        if (calorie.Number_Target_Font != null) offset++;
                                        if (calorie.Text_rotation_Target != null) offset++;
                                        if (calorie.Text_circle_Target != null) offset++;
                                        if (calorie.Pointer != null) offset++;
                                        if (calorie.Circle_Scale != null) offset++;
                                        if (calorie.Linear_Scale != null) offset++;

                                        calorie.Icon = new hmUI_widget_IMG();
                                        calorie.Icon.src = img.src;
                                        calorie.Icon.x = img.x;
                                        calorie.Icon.y = img.y;
                                        calorie.Icon.alpha = img.alpha;
                                        calorie.Icon.visible = true;
                                        calorie.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("heart_rate_icon_img"))
                                {
                                    ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                                    if (heart == null)
                                    {
                                        elementsList.Add(new ElementHeart());
                                        heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                                    }
                                    if (heart != null)
                                    {
                                        int offset = 1;
                                        if (heart.Images != null) offset++;
                                        if (heart.Segments != null) offset++;
                                        if (heart.Number != null) offset++;
                                        if (heart.Number_Font != null) offset++;
                                        if (heart.Text_rotation != null) offset++;
                                        if (heart.Text_circle != null) offset++;
                                        if (heart.Pointer != null) offset++;
                                        if (heart.Circle_Scale != null) offset++;
                                        if (heart.Linear_Scale != null) offset++;

                                        heart.Icon = new hmUI_widget_IMG();
                                        heart.Icon.src = img.src;
                                        heart.Icon.x = img.x;
                                        heart.Icon.y = img.y;
                                        heart.Icon.alpha = img.alpha;
                                        heart.Icon.visible = true;
                                        heart.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("pai_icon_img"))
                                {
                                    ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                                    if (pai == null)
                                    {
                                        elementsList.Add(new ElementPAI());
                                        pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                                    }
                                    if (pai != null)
                                    {
                                        int offset = 1;
                                        if (pai.Images != null) offset++;
                                        if (pai.Segments != null) offset++;
                                        if (pai.Number != null) offset++;
                                        //if (pai.Number_Font != null) offset++;
                                        if (pai.Number_Target != null) offset++;
                                        if (pai.Number_Target_Font != null) offset++;
                                        if (pai.Text_rotation_Target != null) offset++;
                                        if (pai.Text_circle_Target != null) offset++;
                                        if (pai.Pointer != null) offset++;
                                        if (pai.Circle_Scale != null) offset++;
                                        if (pai.Linear_Scale != null) offset++;

                                        pai.Icon = new hmUI_widget_IMG();
                                        pai.Icon.src = img.src;
                                        pai.Icon.x = img.x;
                                        pai.Icon.y = img.y;
                                        pai.Icon.alpha = img.alpha;
                                        pai.Icon.visible = true;
                                        pai.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("distance_icon_img"))
                                {
                                    ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                                    if (distance == null)
                                    {
                                        elementsList.Add(new ElementDistance());
                                        distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                                    }
                                    if (distance != null)
                                    {
                                        int offset = 1;
                                        if (distance.Number != null) offset++;
                                        if (distance.Number_Font != null) offset++;
                                        if (distance.Text_rotation != null) offset++;
                                        if (distance.Text_circle != null) offset++;

                                        distance.Icon = new hmUI_widget_IMG();
                                        distance.Icon.src = img.src;
                                        distance.Icon.x = img.x;
                                        distance.Icon.y = img.y;
                                        distance.Icon.alpha = img.alpha;
                                        distance.Icon.visible = true;
                                        distance.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("stand_icon_img"))
                                {
                                    ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                                    if (stand == null)
                                    {
                                        elementsList.Add(new ElementStand());
                                        stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                                    }
                                    if (stand != null)
                                    {
                                        int offset = 1;
                                        if (stand.Images != null) offset++;
                                        if (stand.Segments != null) offset++;
                                        if (stand.Number != null) offset++;
                                        if (stand.Number_Font != null) offset++;
                                        if (stand.Number != null) offset++;
                                        if (stand.Text_rotation != null) offset++;
                                        if (stand.Text_circle != null) offset++;
                                        if (stand.Number_Target_Font != null) offset++;
                                        if (stand.Text_rotation_Target != null) offset++;
                                        if (stand.Text_circle_Target != null) offset++;
                                        if (stand.Pointer != null) offset++;
                                        if (stand.Circle_Scale != null) offset++;
                                        if (stand.Linear_Scale != null) offset++;

                                        stand.Icon = new hmUI_widget_IMG();
                                        stand.Icon.src = img.src;
                                        stand.Icon.x = img.x;
                                        stand.Icon.y = img.y;
                                        stand.Icon.alpha = img.alpha;
                                        stand.Icon.visible = true;
                                        stand.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("activity_icon_img"))
                                {
                                    ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                                    if (activity == null)
                                    {
                                        elementsList.Add(new ElementActivity());
                                        activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                                    }
                                    if (activity != null)
                                    {
                                        int offset = 1;
                                        if (activity.Images != null) offset++;
                                        if (activity.Segments != null) offset++;
                                        if (activity.Number != null) offset++;
                                        if (activity.Number_Font != null) offset++;
                                        if (activity.Number_Target != null) offset++;
                                        if (activity.Number_Target_Font != null) offset++;
                                        if (activity.Pointer != null) offset++;
                                        if (activity.Circle_Scale != null) offset++;
                                        if (activity.Linear_Scale != null) offset++;

                                        activity.Icon = new hmUI_widget_IMG();
                                        activity.Icon.src = img.src;
                                        activity.Icon.x = img.x;
                                        activity.Icon.y = img.y;
                                        activity.Icon.alpha = img.alpha;
                                        activity.Icon.visible = true;
                                        activity.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("spo2_icon_img"))
                                {
                                    ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                                    if (spo2 == null)
                                    {
                                        elementsList.Add(new ElementSpO2());
                                        spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                                    }
                                    if (spo2 != null)
                                    {
                                        int offset = 1;
                                        if (spo2.Number != null) offset++;
                                        if (spo2.Number_Font != null) offset++;
                                        if (spo2.Text_rotation != null) offset++;
                                        if (spo2.Text_circle != null) offset++;

                                        spo2.Icon = new hmUI_widget_IMG();
                                        spo2.Icon.src = img.src;
                                        spo2.Icon.x = img.x;
                                        spo2.Icon.y = img.y;
                                        spo2.Icon.alpha = img.alpha;
                                        spo2.Icon.visible = true;
                                        spo2.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("stress_icon_img"))
                                {
                                    ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                                    if (stress == null)
                                    {
                                        elementsList.Add(new ElementStress());
                                        stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                                    }
                                    if (stress != null)
                                    {
                                        int offset = 1;
                                        if (stress.Images != null) offset++;
                                        if (stress.Segments != null) offset++;
                                        if (stress.Number != null) offset++;
                                        if (stress.Number_Font != null) offset++;
                                        if (stress.Pointer != null) offset++;

                                        stress.Icon = new hmUI_widget_IMG();
                                        stress.Icon.src = img.src;
                                        stress.Icon.x = img.x;
                                        stress.Icon.y = img.y;
                                        stress.Icon.alpha = img.alpha;
                                        stress.Icon.visible = true;
                                        stress.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("fat_burning_icon_img"))
                                {
                                    ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                                    if (fat_burning == null)
                                    {
                                        elementsList.Add(new ElementFatBurning());
                                        fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                                    }
                                    if (fat_burning != null)
                                    {
                                        int offset = 1;
                                        if (fat_burning.Images != null) offset++;
                                        if (fat_burning.Segments != null) offset++;
                                        if (fat_burning.Number != null) offset++;
                                        if (fat_burning.Number_Font != null) offset++;
                                        if (fat_burning.Text_rotation != null) offset++;
                                        if (fat_burning.Text_circle != null) offset++;
                                        if (fat_burning.Number_Target != null) offset++;
                                        if (fat_burning.Number_Target_Font != null) offset++;
                                        if (fat_burning.Text_rotation_Target != null) offset++;
                                        if (fat_burning.Text_circle_Target != null) offset++;
                                        if (fat_burning.Pointer != null) offset++;
                                        if (fat_burning.Circle_Scale != null) offset++;
                                        if (fat_burning.Linear_Scale != null) offset++;

                                        fat_burning.Icon = new hmUI_widget_IMG();
                                        fat_burning.Icon.src = img.src;
                                        fat_burning.Icon.x = img.x;
                                        fat_burning.Icon.y = img.y;
                                        fat_burning.Icon.alpha = img.alpha;
                                        fat_burning.Icon.visible = true;
                                        fat_burning.Icon.position = offset;
                                    }
                                }



                                if (objectName.EndsWith("temperature_icon_img"))
                                {
                                    ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    if (weather == null)
                                    {
                                        elementsList.Add(new ElementWeather_v2());
                                        weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                                    }
                                    if (weather != null)
                                    {
                                        int offset = 1;
                                        if (weather.Group_Current != null) offset++;
                                        if (weather.Group_Min != null) offset++;
                                        if (weather.Group_Max != null) offset++;
                                        if (weather.Group_Max_Min != null) offset++;
                                        if (weather.Images != null) offset++;
                                        if (weather.City_Name != null) offset++;

                                        weather.Icon = new hmUI_widget_IMG();
                                        weather.Icon.src = img.src;
                                        weather.Icon.x = img.x;
                                        weather.Icon.y = img.y;
                                        weather.Icon.alpha = img.alpha;
                                        weather.Icon.visible = true;
                                        weather.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("forecast_icon_img"))
                                {
                                    Element_Weather_FewDays wfd_icon = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                                    if (wfd_icon == null)
                                    {
                                        elementsList.Add(new Element_Weather_FewDays());
                                        wfd_icon = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                                    }
                                    if (wfd_icon != null)
                                    {
                                        int offset = 1;
                                        if (wfd_icon.Images != null) offset++;
                                        if (wfd_icon.Diagram != null) offset++;
                                        if (wfd_icon.Number_Max != null) offset++;
                                        if (wfd_icon.Number_Font_Max != null) offset++;
                                        if (wfd_icon.Number_Min != null) offset++;
                                        if (wfd_icon.Number_Font_Min != null) offset++;
                                        if (wfd_icon.Number_MaxMin != null) offset++;
                                        if (wfd_icon.Number_Font_MaxMin != null) offset++;
                                        if (wfd_icon.Number_Average != null) offset++;
                                        if (wfd_icon.Number_Font_Average != null) offset++;
                                        if (wfd_icon.DayOfWeek_Images != null) offset++;
                                        if (wfd_icon.DayOfWeek_Font != null) offset++;
                                        //if (wfd_icon.Icon != null) offset++;

                                        wfd_icon.Icon = new hmUI_widget_IMG();
                                        wfd_icon.Icon.src = img.src;
                                        wfd_icon.Icon.x = img.x;
                                        wfd_icon.Icon.y = img.y;
                                        wfd_icon.Icon.alpha = img.alpha;
                                        wfd_icon.Icon.visible = true;
                                        wfd_icon.Icon.position = offset;

                                        //if (wfd_icon.FewDays != null)
                                        //{
                                        //    wfd_icon.Icon.x -= wfd_icon.FewDays.X;
                                        //    wfd_icon.Icon.y -= wfd_icon.FewDays.Y;
                                        //}
                                    }
                                }

                                if (objectName.EndsWith("uvi_icon_img"))
                                {
                                    ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                                    if (uv_index == null)
                                    {
                                        elementsList.Add(new ElementUVIndex());
                                        uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                                    }
                                    if (uv_index != null)
                                    {
                                        int offset = 1;
                                        if (uv_index.Images != null) offset++;
                                        if (uv_index.Segments != null) offset++;
                                        if (uv_index.Number != null) offset++;
                                        if (uv_index.Number_Font != null) offset++;
                                        if (uv_index.Pointer != null) offset++;

                                        uv_index.Icon = new hmUI_widget_IMG();
                                        uv_index.Icon.src = img.src;
                                        uv_index.Icon.x = img.x;
                                        uv_index.Icon.y = img.y;
                                        uv_index.Icon.alpha = img.alpha;
                                        uv_index.Icon.visible = true;
                                        uv_index.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("humidity_icon_img"))
                                {
                                    ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                                    if (humidity == null)
                                    {
                                        elementsList.Add(new ElementHumidity());
                                        humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                                    }
                                    if (humidity != null)
                                    {
                                        int offset = 1;
                                        if (humidity.Images != null) offset++;
                                        if (humidity.Segments != null) offset++;
                                        if (humidity.Number != null) offset++;
                                        if (humidity.Number_Font != null) offset++;
                                        if (humidity.Pointer != null) offset++;

                                        humidity.Icon = new hmUI_widget_IMG();
                                        humidity.Icon.src = img.src;
                                        humidity.Icon.x = img.x;
                                        humidity.Icon.y = img.y;
                                        humidity.Icon.alpha = img.alpha;
                                        humidity.Icon.visible = true;
                                        humidity.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("altimeter_icon_img"))
                                {
                                    ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                                    if (altimeter == null)
                                    {
                                        elementsList.Add(new ElementAltimeter());
                                        altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                                    }
                                    if (altimeter != null)
                                    {
                                        int offset = 1;
                                        if (altimeter.Number != null) offset++;
                                        if (altimeter.Number_Font != null) offset++;
                                        if (altimeter.Number_Target != null) offset++;
                                        if (altimeter.Number_Target_Font != null) offset++;
                                        if (altimeter.Pointer != null) offset++;

                                        altimeter.Icon = new hmUI_widget_IMG();
                                        altimeter.Icon.src = img.src;
                                        altimeter.Icon.x = img.x;
                                        altimeter.Icon.y = img.y;
                                        altimeter.Icon.alpha = img.alpha;
                                        altimeter.Icon.visible = true;
                                        altimeter.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("sun_icon_img"))
                                {
                                    ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                                    if (sunrise == null)
                                    {
                                        elementsList.Add(new ElementSunrise());
                                        sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                                    }
                                    if (sunrise != null)
                                    {
                                        int offset = 1;
                                        if (sunrise.Images != null) offset++;
                                        if (sunrise.Segments != null) offset++;
                                        if (sunrise.Sunrise != null) offset++;
                                        if (sunrise.Sunrise_Font != null) offset++;
                                        if (sunrise.Sunrise_rotation != null) offset++;
                                        if (sunrise.Sunrise_circle != null) offset++;
                                        if (sunrise.Sunset != null) offset++;
                                        if (sunrise.Sunset_Font != null) offset++;
                                        if (sunrise.Sunset_rotation != null) offset++;
                                        if (sunrise.Sunset_circle != null) offset++;
                                        if (sunrise.Sunset_Sunrise != null) offset++;
                                        if (sunrise.Pointer != null) offset++;

                                        sunrise.Icon = new hmUI_widget_IMG();
                                        sunrise.Icon.src = img.src;
                                        sunrise.Icon.x = img.x;
                                        sunrise.Icon.y = img.y;
                                        sunrise.Icon.alpha = img.alpha;
                                        sunrise.Icon.visible = true;
                                        sunrise.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("moon_icon_img"))
                                {
                                    ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                                    if (moon == null)
                                    {
                                        elementsList.Add(new ElementMoon());
                                        moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                                    }
                                    if (moon != null)
                                    {
                                        int offset = 1;
                                        if (moon.Images != null) offset++;
                                        if (moon.Sunrise != null) offset++;
                                        if (moon.Sunrise_Font != null) offset++;
                                        if (moon.Sunset != null) offset++;
                                        if (moon.Sunset_Font != null) offset++;
                                        if (moon.Sunset_Sunrise != null) offset++;
                                        if (moon.Pointer != null) offset++;

                                        moon.Icon = new hmUI_widget_IMG();
                                        moon.Icon.src = img.src;
                                        moon.Icon.x = img.x;
                                        moon.Icon.y = img.y;
                                        moon.Icon.alpha = img.alpha;
                                        moon.Icon.visible = true;
                                        moon.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("wind_icon_img"))
                                {
                                    ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                                    if (wind == null)
                                    {
                                        elementsList.Add(new ElementWind());
                                        wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                                    }
                                    if (wind != null)
                                    {
                                        int offset = 1;
                                        if (wind.Images != null) offset++;
                                        if (wind.Segments != null) offset++;
                                        if (wind.Number != null) offset++;
                                        if (wind.Number_Font != null) offset++;
                                        if (wind.Pointer != null) offset++;
                                        if (wind.Direction != null) offset++;

                                        wind.Icon = new hmUI_widget_IMG();
                                        wind.Icon.src = img.src;
                                        wind.Icon.x = img.x;
                                        wind.Icon.y = img.y;
                                        wind.Icon.alpha = img.alpha;
                                        wind.Icon.visible = true;
                                        wind.Icon.position = offset;
                                    }
                                }

                                if (objectName.EndsWith("compass_icon_img"))
                                {
                                    ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                                    if (compass == null)
                                    {
                                        elementsList.Add(new ElementCompass());
                                        compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                                    }
                                    if (compass != null)
                                    {
                                        int offset = 1;
                                        if (compass.Images != null) offset++;
                                        if (compass.Number != null) offset++;
                                        if (compass.Number_Font != null) offset++;
                                        if (compass.Text_rotation != null) offset++;
                                        if (compass.Text_circle != null) offset++;
                                        if (compass.Pointer != null) offset++;

                                        compass.Icon = new hmUI_widget_IMG();
                                        compass.Icon.src = img.src;
                                        compass.Icon.x = img.x;
                                        compass.Icon.y = img.y;
                                        compass.Icon.alpha = img.alpha;
                                        compass.Icon.visible = true;
                                        compass.Icon.position = offset;
                                    }
                                }

                            }

                            if (objectName.EndsWith("image_img"))
                            {

                                ElementImage image = (ElementImage)elementsList.Find(e => e.GetType().Name == "ElementImage");
                                if (image == null)
                                {
                                    elementsList.Add(new ElementImage());
                                    image = (ElementImage)elementsList.Find(e => e.GetType().Name == "ElementImage");
                                }
                                if (image != null)
                                {
                                    image.Icon = new hmUI_widget_IMG();
                                    image.Icon.src = img.src;
                                    image.Icon.x = img.x;
                                    image.Icon.y = img.y;
                                    image.Icon.alpha = img.alpha;
                                    image.Icon.position = 1;
                                    image.Icon.visible = true;
                                }
                            }

                            if (objectName == "editableTimePointers_cover_img")
                            {
                                ElementEditablePointers editablePointers = Watch_Face.ElementEditablePointers;
                                if (editablePointers != null)
                                {
                                    editablePointers.cover = new hmUI_widget_IMG();
                                    editablePointers.cover.src = img.src;
                                    editablePointers.cover.x = img.x;
                                    editablePointers.cover.y = img.y;
                                    editablePointers.cover.visible = true;
                                    editablePointers.cover.position = -1;
                                }
                                continue;
                            }

                            if (objectName == "image_top_img")
                            {
                                if (Watch_Face.TopImage == null) Watch_Face.TopImage = new TopImage();
                                TopImage topImage = Watch_Face.TopImage;
                                if (topImage != null)
                                {
                                    topImage.Icon = new hmUI_widget_IMG();
                                    topImage.Icon.src = img.src;
                                    topImage.Icon.x = img.x;
                                    topImage.Icon.y = img.y;
                                    topImage.Icon.alpha = img.alpha;
                                    if (img.show_level == "ONLY_NORMAL | ONLY_AOD") topImage.showInAOD = true;
                                }
                                continue;
                            }

                            if (objectName.EndsWith("compass_direction_img_level"))
                            {
                                ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                                if (compass == null)
                                {
                                    elementsList.Add(new ElementCompass());
                                    compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                                }
                                if (compass != null)
                                {
                                    int offset = 1;
                                    //if (compass.Images != null) offset++;
                                    if (compass.Number != null) offset++;
                                    if (compass.Number_Font != null) offset++;
                                    if (compass.Text_rotation != null) offset++;
                                    if (compass.Text_circle != null) offset++;
                                    if (compass.Pointer != null) offset++;
                                    if (compass.Icon != null) offset++;

                                    compass.Images = new hmUI_widget_IMG_LEVEL();
                                    compass.Images.img_First = img.src;
                                    compass.Images.image_length = 8;
                                    compass.Images.X = img.x;
                                    compass.Images.Y = img.y;
                                    if (parametrs.ContainsKey("// img_error"))
                                    {
                                        string imgName = parametrs["// img_error"].Replace("'", "");
                                        imgName = imgName.Replace("\"", "");
                                        imgName = Path.GetFileNameWithoutExtension(imgName);
                                        compass.Images.img_error = imgName;
                                    }
                                    compass.Images.visible = true;
                                    compass.Images.position = offset;
                                }
                                continue;
                            }

                            /*if (objectName.EndsWith("forecast_background"))
                            {

                                Element_Weather_FewDays wfd_background = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                                if (wfd_background == null)
                                {
                                    elementsList.Add(new Element_Weather_FewDays());
                                    wfd_background = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                                }
                                if (wfd_background != null)
                                {
                                    if (wfd_background.FewDays == null) wfd_background.FewDays = new FewDays();
                                    wfd_background.FewDays.Background = img.src;
                                }
                            }*/

                            if (objectName.Length == 0 || objectName == "normal_img0")
                            {
                                if (firstImgNormal && img.show_level == "ONLY_NORMAL")
                                {
                                    firstImgNormal = false;
                                    if ((img.w == 454 && img.h == 454) || (img.w == 480 && img.h == 480) ||  // gtr 3; gtr 3 pro
                                        (img.w == 390 && img.h == 450) || (img.w == 466 && img.h == 466) ||  // gts 3; gtr 4
                                        (img.w == 194 && img.h == 368) || (img.w == 336 && img.h == 384) ||  // band 7; gts 4 mini
                                        (img.w == 416 && img.h == 416) || (img.w == 320 && img.h == 380))  // falcon; bip5
                                    {
                                        if (Watch_Face.ScreenNormal.Background == null)
                                            Watch_Face.ScreenNormal.Background = new Background();
                                        Watch_Face.ScreenNormal.Background.BackgroundImage = img; 
                                    }
                                }
                                else if (firstImgAOD && (img.show_level == "ONLY_AOD" || img.show_level == "ONAL_AOD"))
                                {
                                    firstImgAOD = false;
                                    if ((img.w == 454 && img.h == 454) || (img.w == 480 && img.h == 480) ||
                                        (img.w == 390 && img.h == 450) || (img.w == 466 && img.h == 466) ||
                                        (img.w == 194 && img.h == 368) || (img.w == 336 && img.h == 384) ||
                                        (img.w == 416 && img.h == 416) || (img.w == 320 && img.h == 380))
                                    {
                                        if (Watch_Face.ScreenAOD.Background == null)
                                            Watch_Face.ScreenAOD.Background = new Background();
                                        Watch_Face.ScreenAOD.Background.BackgroundImage = img; 
                                    }
                                }
                            };

                            break;
                        #endregion

                        #region FILL_RECT
                        case "FILL_RECT":
                            hmUI_widget_FILL_RECT fill_rect = Object_FILL_RECT(parametrs);
                            if (objectName.IndexOf("background") >= 0)
                            {
                                if (fill_rect.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                                {
                                    if (Watch_Face.ScreenNormal.Background == null)
                                        Watch_Face.ScreenNormal.Background = new Background();
                                    Watch_Face.ScreenNormal.Background.BackgroundColor = fill_rect;
                                }
                                else if (fill_rect.show_level == "ONLY_AOD" || fill_rect.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                                {
                                    if (Watch_Face.ScreenAOD.Background == null)
                                        Watch_Face.ScreenAOD.Background = new Background();
                                    Watch_Face.ScreenAOD.Background.BackgroundColor = fill_rect;
                                }
                            }

                            break;
                        #endregion

                        #region WATCHFACE_EDIT_BG
                        case "WATCHFACE_EDIT_BG":
                            Editable_Background edit_bg = Object_WATCHFACE_EDIT_BG(parametrs);
                            if(Watch_Face.ScreenNormal.Background == null)
                                        Watch_Face.ScreenNormal.Background = new Background();
                            Watch_Face.ScreenNormal.Background.Editable_Background = edit_bg;

                            break;
                        #endregion

                        #region WATCHFACE_EDIT_GROUP
                        case "WATCHFACE_EDIT_GROUP":
                            WATCHFACE_EDIT_GROUP edit_group = Object_WATCHFACE_EDIT_GROUP(parametrs);
                            if (Watch_Face.Editable_Elements == null) Watch_Face.Editable_Elements = new EditableElements();
                            Watch_Face.Editable_Elements.visible = true;
                            if (Watch_Face.Editable_Elements.Watchface_edit_group == null)
                                Watch_Face.Editable_Elements.Watchface_edit_group = new List<WATCHFACE_EDIT_GROUP>();
                            Watch_Face.Editable_Elements.Watchface_edit_group.Add(edit_group);

                            break;
                        #endregion

                        #region switch
                        case "switch":
                            foreach (KeyValuePair<string, string> entry in parametrs)
                            {
                                //Console.WriteLine(entry.Key + " : " + entry.Value);
                                if(entry.Key != "ObjectType" && entry.Key != "GroupIndex")
                                {
                                    if (Watch_Face.Editable_Elements != null && Watch_Face.Editable_Elements.Watchface_edit_group != null)
                                    {
                                        int group_index = 1;
                                        string group_index_str = "1";
                                        if (parametrs.ContainsKey("GroupIndex")) group_index_str = parametrs["GroupIndex"];
                                        Int32.TryParse(group_index_str, out group_index);
                                        if(Watch_Face.Editable_Elements.Watchface_edit_group.Count >= group_index)
                                        {
                                            WATCHFACE_EDIT_GROUP edit_group_switch = Watch_Face.Editable_Elements.Watchface_edit_group[group_index - 1];
                                            if (edit_group_switch.Elements == null) edit_group_switch.Elements = new List<object>();
                                            elementsList = edit_group_switch.Elements;
                                            List<string> functions_switch_List = GetFunctionsList(entry.Value);
                                            if (functions_switch_List != null && functions_switch_List.Count > 0)
                                            {
                                                foreach(string functions_switch in functions_switch_List)
                                                {
                                                    Dictionary<string, string> parametrs_switch = ParseParametrsInString(functions_switch);
                                                    ParametrsToObject(elementsList, parametrs_switch, entry.Key);
                                                }
                                            }

                                        }
                                    }
                                }
                            }

                            break;
                        #endregion

                        #region WATCHFACE_EDIT_MASK
                        case "WATCHFACE_EDIT_MASK":
                            hmUI_widget_IMG img_mask = Object_IMG(parametrs);
                            if (Watch_Face.Editable_Elements != null) Watch_Face.Editable_Elements.mask = img_mask.src;
                            break;
                        #endregion

                        #region WATCHFACE_EDIT_FG_MASK
                        case "WATCHFACE_EDIT_FG_MASK":
                            hmUI_widget_IMG img_fg_mask = Object_IMG(parametrs);
                            if (Watch_Face.Editable_Elements != null) Watch_Face.Editable_Elements.fg_mask = img_fg_mask.src;
                            break;
                        #endregion

                        #region IMG_TIME
                        case "IMG_TIME":
                            ElementDigitalTime_v2 img_time = Object_DigitalTime_v2(parametrs);
                            elementsList = null;
                            if (objectName.StartsWith("normal") || 
                                ((img_time.Group_Hour != null && img_time.Group_Hour.Number != null && img_time.Group_Hour.Number.show_level == "ONLY_NORMAL") || 
                                (img_time.Group_Minute != null && img_time.Group_Minute.Number != null && img_time.Group_Minute.Number.show_level == "ONLY_NORMAL") || 
                                (img_time.Group_Second != null && img_time.Group_Second.Number != null && img_time.Group_Second.Number.show_level == "ONLY_NORMAL") || 
                                (img_time.AmPm != null && img_time.AmPm.show_level == "ONLY_NORMAL")))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (objectName.StartsWith("idle") ||
                                ((img_time.Group_Hour != null && img_time.Group_Hour.Number != null && (img_time.Group_Hour.Number.show_level == "ONLY_AOD") || (img_time.Group_Hour.Number.show_level == "ONAL_AOD")) ||
                                (img_time.Group_Minute != null && img_time.Group_Minute.Number != null && (img_time.Group_Minute.Number.show_level == "ONLY_AOD") || (img_time.Group_Minute.Number.show_level == "ONAL_AOD")) ||
                                (img_time.Group_Second != null && img_time.Group_Second.Number != null && (img_time.Group_Second.Number.show_level == "ONLY_AOD") || (img_time.Group_Second.Number.show_level == "ONAL_AOD")) ||
                                (img_time.AmPm != null && (img_time.AmPm.show_level == "ONLY_AOD") || (img_time.AmPm.show_level == "ONAL_AOD"))))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TIME_POINTER
                        case "TIME_POINTER":
                            ElementAnalogTime pointer_time = Object_AnalogTime(parametrs);
                            elementsList = null;
                            if (pointer_time.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (pointer_time.show_level == "ONLY_AOD" || pointer_time.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TIME_POINTER_PRO
                        case "TIME_POINTER_PRO":
                            bool format24h = false;
                            hmUI_widget_IMG_POINTER imgPointerPro = Object_IMG_POINTER_PRO(parametrs, out format24h);
                            elementsList = null;
                            if (imgPointerPro.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgPointerPro.show_level == "ONLY_AOD" || imgPointerPro.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region SMOOTH_SECOND
                        case "SMOOTH_SECOND":
                            Smooth_Second smoothSecond = Object_SMOOTH_SECOND(parametrs);
                            elementsList = null;
                            if (smoothSecond.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (smoothSecond.show_level == "ONLY_AOD" || smoothSecond.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region WATCHFACE_EDIT_POINTER
                        case "WATCHFACE_EDIT_POINTER":
                            int pos = parametrString.IndexOf("WATCHFACE_EDIT_POINTER");
                            string elementEditablePointers = parametrString.Remove(0, pos + "WATCHFACE_EDIT_POINTER".Length + 1);
                            //string elementEditablePointers = parametrString.Replace("const pointerEdit = hmUI.createWidget(hmUI.widget.WATCHFACE_EDIT_POINTER, ", "");
                            elementEditablePointers = elementEditablePointers.Replace(")", "");
                            ElementEditablePointers elementEditablePointers_temp = null;
                            try
                            {
                                elementEditablePointers_temp = JsonConvert.DeserializeObject<ElementEditablePointers>(elementEditablePointers, new JsonSerializerSettings
                                {
                                    //DefaultValueHandling = DefaultValueHandling.Ignore,
                                    NullValueHandling = NullValueHandling.Ignore
                                });
                            }
                            catch
                            {
                                
                            }
                            if (elementEditablePointers_temp != null && elementEditablePointers_temp.config != null && 
                                elementEditablePointers_temp.config.Count > 0) 
                            {
                                foreach (PointersList element in elementEditablePointers_temp.config)
                                {
                                    if (element != null && element.hour != null && element.hour.path != null && 
                                        element.hour.path.EndsWith(".png")) element.hour.path = element.hour.path.Replace(".png", "");
                                    if (element != null && element.minute != null && element.minute.path != null &&
                                        element.minute.path.EndsWith(".png")) element.minute.path = element.minute.path.Replace(".png", "");
                                    if (element != null && element.second != null && element.second.path != null &&
                                        element.second.path.EndsWith(".png")) element.second.path = element.second.path.Replace(".png", "");
                                    if (element != null && element.preview != null && element.preview.EndsWith(".png"))
                                        element.preview = element.preview.Replace(".png", "");
                                }

                                if (elementEditablePointers_temp.cover != null && elementEditablePointers_temp.cover.src != null &&
                                    elementEditablePointers_temp.cover.src.EndsWith(".png"))
                                    elementEditablePointers_temp.cover.src = elementEditablePointers_temp.cover.src.Replace(".png", "");
                                if (elementEditablePointers_temp.fg != null && elementEditablePointers_temp.fg.EndsWith(".png"))
                                    elementEditablePointers_temp.fg = elementEditablePointers_temp.fg.Replace(".png", "");
                                if (elementEditablePointers_temp.tips_bg != null && elementEditablePointers_temp.tips_bg.EndsWith(".png"))
                                    elementEditablePointers_temp.tips_bg = elementEditablePointers_temp.tips_bg.Replace(".png", "");

                                Watch_Face.ElementEditablePointers = elementEditablePointers_temp; 
                            }

                            break;
                        #endregion

                        #region IMG_DATE
                        case "IMG_DATE":
                            List<hmUI_widget_IMG_NUMBER> img_number_list = Object_ImgDate(parametrs);
                            List<hmUI_widget_IMG_LEVEL> img_level_list = Object_ImgLevelDate(parametrs);
                            elementsList = null;
                            if ((img_number_list.Count > 0 && img_number_list[0].show_level == "ONLY_NORMAL") || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if ((img_number_list.Count > 0 && 
                                (img_number_list[0].show_level == "ONLY_AOD" || img_number_list[0].show_level == "ONAL_AOD")) || 
                                objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region DATE_POINTER
                        case "DATE_POINTER":
                            hmUI_widget_IMG_POINTER img_pointer = Object_DATE_POINTER(parametrs);
                            elementsList = null;
                            if (img_pointer.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (img_pointer.show_level == "ONLY_AOD" || img_pointer.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_WEEK
                        case "IMG_WEEK":
                            hmUI_widget_IMG_LEVEL imgWeek = Object_IMG_WEEK(parametrs);
                            elementsList = null;
                            if (imgWeek.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgWeek.show_level == "ONLY_AOD" || imgWeek.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_LEVEL
                        case "IMG_LEVEL":
                            hmUI_widget_IMG_LEVEL imgLevel = Object_IMG_LEVEL(parametrs);
                            elementsList = null;
                            if (imgLevel.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgLevel.show_level == "ONLY_AOD" || imgLevel.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_LEVEL_Options
                        case "IMG_LEVEL_Options":
                            hmUI_widget_IMG_LEVEL imgLevelOptions = Object_IMG_LEVEL_Options(parametrs);
                            elementsList = null;
                            if (imgLevelOptions.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgLevelOptions.show_level == "ONLY_AOD" || imgLevelOptions.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_PROGRESS
                        case "IMG_PROGRESS":
                            hmUI_widget_IMG_PROGRESS imgProgress = Object_IMG_PROGRESS(parametrs);
                            elementsList = null;
                            if (imgProgress.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgProgress.show_level == "ONLY_AOD" || imgProgress.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TEXT_IMG
                        case "TEXT_IMG":
                            hmUI_widget_IMG_NUMBER imgNumber = Object_IMG_NUMBER(parametrs);
                            elementsList = null;
                            if (imgNumber.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgNumber.show_level == "ONLY_AOD" || imgNumber.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TEXT_IMG_Options
                        case "TEXT_IMG_Options":
                            hmUI_widget_IMG_NUMBER imgNumberOptions = Object_IMG_NUMBER_Options(parametrs);
                            elementsList = null;
                            if (imgNumberOptions.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgNumberOptions.show_level == "ONLY_AOD" || imgNumberOptions.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Text_Rotate
                        case "Text_Rotate":
                            hmUI_widget_IMG_NUMBER textRotate = Object_Text_Rotate(parametrs);
                            elementsList = null;
                            if (textRotate.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (textRotate.show_level == "ONLY_AOD" || textRotate.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Text_Circle
                        case "Text_Circle":
                            Text_Circle textCircle = Object_Text_Circle(parametrs);
                            elementsList = null;
                            if (textCircle.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (textCircle.show_level == "ONLY_AOD" || textCircle.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_POINTER
                        case "IMG_POINTER":
                            hmUI_widget_IMG_POINTER imgPointer = Object_IMG_POINTER(parametrs);
                            elementsList = null;
                            if (imgPointer.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgPointer.show_level == "ONLY_AOD" || imgPointer.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region CUSTOM_POINTER
                        case "CUSTOM_POINTER":
                            hmUI_widget_IMG_POINTER customPointer = Object_CUSTOM_POINTER(parametrs);
                            elementsList = null;
                            if (customPointer.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (customPointer.show_level == "ONLY_AOD" || customPointer.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Circle_Scale
                        case "Circle_Scale":
                            Circle_Scale img_Circle_Scale = Object_Circle_Scale(parametrs);
                            elementsList = null;
                            if (img_Circle_Scale.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (img_Circle_Scale.show_level == "ONLY_AOD" || img_Circle_Scale.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Linear_Scale
                        case "Linear_Scale":
                            Linear_Scale img_Linear_Scale = Object_Linear_Scale(parametrs);
                            elementsList = null;
                            if (img_Linear_Scale.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (img_Linear_Scale.show_level == "ONLY_AOD" || img_Linear_Scale.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion


                        #region IMG_STATUS
                        case "IMG_STATUS":
                            hmUI_widget_IMG_STATUS imgStatus = Object_IMG_STATUS(parametrs);
                            elementsList = null;
                            if (imgStatus.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (imgStatus.show_level == "ONLY_AOD" || imgStatus.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region IMG_CLICK
                        case "IMG_CLICK":
                            hmUI_widget_IMG_CLICK imgShortcut = Object_IMG_CLICK(parametrs);

                            if (Watch_Face.Shortcuts == null) Watch_Face.Shortcuts = new ElementShortcuts();
                            ElementShortcuts elementShortcuts = Watch_Face.Shortcuts;

                            if (elementShortcuts != null)
                            {
                                int index = 1;
                                switch (imgShortcut.type)
                                {

                                    case "STEP":
                                        if (elementShortcuts.Step == null)
                                        {
                                            //if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Step = imgShortcut;
                                        }
                                        break;
                                    
                                    case "CAL":
                                        if (elementShortcuts.Cal == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            //if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Cal = imgShortcut;
                                        }
                                        break;

                                    case "HEART":
                                        if (elementShortcuts.Heart == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            //if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Heart = imgShortcut;
                                        }
                                        break;

                                    case "PAI":
                                    case "PAI_WEEKLY":
                                        if (elementShortcuts.PAI == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            //if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.PAI = imgShortcut;
                                        }
                                        break;

                                    case "BATTERY":
                                        if (elementShortcuts.Battery == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            //if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Battery = imgShortcut;
                                        }
                                        break;

                                    case "SUN_CURRENT":
                                        if (elementShortcuts.Sunrise == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            //if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Sunrise = imgShortcut;
                                        }
                                        break;

                                    case "MOON_CURRENT":
                                        if (elementShortcuts.Moon == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            //if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Moon = imgShortcut;
                                        }
                                        break;

                                    case "BODY_TEMP":
                                        if (elementShortcuts.BodyTemp == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            //if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.BodyTemp = imgShortcut;
                                        }
                                        break;

                                    case "WEATHER_CURRENT":
                                        if (elementShortcuts.Weather == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            //if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Weather = imgShortcut;
                                        }
                                        break;

                                    case "STAND":
                                        if (elementShortcuts.Stand == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            //if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Stand = imgShortcut;
                                        }
                                        break;

                                    case "SPO2":
                                        if (elementShortcuts.SPO2 == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            //if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.SPO2 = imgShortcut;
                                        }
                                        break;

                                    case "ALTIMETER":
                                        if (elementShortcuts.Altimeter == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            //if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Altimeter = imgShortcut;
                                        }
                                        break;

                                    case "STRESS":
                                        if (elementShortcuts.Stress == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            //if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Stress = imgShortcut;
                                        }
                                        break;

                                    case "COUNT_DOWN":
                                        if (elementShortcuts.Countdown == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            //if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Countdown = imgShortcut;
                                        }
                                        break;

                                    case "STOP_WATCH":
                                        if (elementShortcuts.Stopwatch == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            //if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Stopwatch = imgShortcut;
                                        }
                                        break;

                                    case "ALARM_CLOCK":
                                        if (elementShortcuts.Alarm == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            //if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Alarm = imgShortcut;
                                        }
                                        break;

                                    case "SLEEP":
                                        if (elementShortcuts.Sleep == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            //if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Sleep = imgShortcut;
                                        }
                                        break;

                                    case "ALTITUDE":
                                        if (elementShortcuts.Altitude == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            //if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Altitude = imgShortcut;
                                        }
                                        break;

                                    case "READINESS":
                                        if (elementShortcuts.Readiness == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            //if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Readiness = imgShortcut;
                                        }
                                        break;

                                    case "OUTDOOR_RUNNING":
                                        if (elementShortcuts.OutdoorRunning == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            //if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.OutdoorRunning = imgShortcut;
                                        }
                                        break;

                                    case "WALKING":
                                        if (elementShortcuts.Walking == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            //if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Walking = imgShortcut;
                                        }
                                        break;

                                    case "OUTDOOR_CYCLING":
                                        if (elementShortcuts.OutdoorCycling == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            //if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.OutdoorCycling = imgShortcut;
                                        }
                                        break;

                                    case "FREE_TRAINING":
                                        if (elementShortcuts.FreeTraining == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            //if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.FreeTraining = imgShortcut;
                                        }
                                        break;

                                    case "POOL_SWIMMING":
                                        if (elementShortcuts.PoolSwimming == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            //if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.PoolSwimming = imgShortcut;
                                        }
                                        break;

                                    case "OPEN_WATER_SWIMMING":
                                        if (elementShortcuts.OpenWaterSwimming == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            //if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.Step = imgShortcut;
                                        }
                                        break;

                                    case "TRAINING_LOAD":
                                        if (elementShortcuts.TrainingLoad == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            //if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.TrainingLoad = imgShortcut;
                                        }
                                        break;

                                    case "VO2MAX":
                                        if (elementShortcuts.VO2max == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            //if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.VO2max = imgShortcut;
                                        }
                                        break;

                                    case "RECOVERY_TIME":
                                        if (elementShortcuts.RecoveryTime == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            //if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.RecoveryTime = imgShortcut;
                                        }
                                        break;

                                    case "BREATH_TRAIN":
                                        if (elementShortcuts.BreathTrain == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            //if (elementShortcuts.BreathTrain != null) index++;
                                            if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.BreathTrain = imgShortcut;
                                        }
                                        break;

                                    case "FAT_BURNING":
                                        if (elementShortcuts.FatBurning == null)
                                        {
                                            if (elementShortcuts.Step != null) index++;
                                            if (elementShortcuts.Cal != null) index++;
                                            if (elementShortcuts.Heart != null) index++;
                                            if (elementShortcuts.PAI != null) index++;
                                            if (elementShortcuts.Battery != null) index++;
                                            if (elementShortcuts.Sunrise != null) index++;
                                            if (elementShortcuts.Moon != null) index++;
                                            if (elementShortcuts.BodyTemp != null) index++;
                                            if (elementShortcuts.Weather != null) index++;
                                            if (elementShortcuts.Stand != null) index++;
                                            if (elementShortcuts.SPO2 != null) index++;
                                            if (elementShortcuts.Altimeter != null) index++;
                                            if (elementShortcuts.Stress != null) index++;
                                            if (elementShortcuts.Countdown != null) index++;
                                            if (elementShortcuts.Stopwatch != null) index++;
                                            if (elementShortcuts.Alarm != null) index++;
                                            if (elementShortcuts.Sleep != null) index++;
                                            if (elementShortcuts.Altitude != null) index++;
                                            if (elementShortcuts.Readiness != null) index++;
                                            if (elementShortcuts.OutdoorRunning != null) index++;
                                            if (elementShortcuts.Walking != null) index++;
                                            if (elementShortcuts.OutdoorCycling != null) index++;
                                            if (elementShortcuts.FreeTraining != null) index++;
                                            if (elementShortcuts.PoolSwimming != null) index++;
                                            if (elementShortcuts.OpenWaterSwimming != null) index++;
                                            if (elementShortcuts.TrainingLoad != null) index++;
                                            if (elementShortcuts.VO2max != null) index++;
                                            if (elementShortcuts.RecoveryTime != null) index++;
                                            if (elementShortcuts.BreathTrain != null) index++;
                                            //if (elementShortcuts.FatBurning != null) index++;

                                            imgShortcut.position = index;
                                            elementShortcuts.FatBurning = imgShortcut;
                                        }
                                        break;

                                }
                            }
                            break;
                        #endregion

                        #region TEXT
                        case "TEXT":
                            hmUI_widget_TEXT text = Object_TEXT(parametrs);
                            elementsList = null;
                            if (text.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (text.show_level == "ONLY_AOD" || text.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            if (!objectName.EndsWith("_cache")) ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TEXT_Options
                        case "TEXT_Options":
                            hmUI_widget_TEXT textOptions = Object_TEXT_Options(parametrs);
                            elementsList = null;
                            if (textOptions.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (textOptions.show_level == "ONLY_AOD" || textOptions.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region TEXT_FONT
                        case "TEXT_FONT":
                            hmUI_widget_TEXT text_font = Object_TEXT(parametrs);
                            elementsList = null;
                            if (text_font.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (text_font.show_level == "ONLY_AOD" || text_font.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            if (!objectName.EndsWith("_cache")) ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion


                        #region IMG_ANIM
                        case "IMG_ANIM":
                            hmUI_widget_IMG_ANIM animation = Object_IMG_ANIM(parametrs);
                            elementsList = null;
                            if (animation.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (animation.show_level == "ONLY_AOD" || animation.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Motion_Animation
                        case "Motion_Animation":
                            Motion_Animation motion_animation = Object_Motion_Animation(parametrs);
                            elementsList = null;
                            if (motion_animation.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (motion_animation.show_level == "ONLY_AOD" || motion_animation.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region Rotate_Animation
                        case "Rotate_Animation":
                            Rotate_Animation rotate_animation = Object_Rotate_Animation(parametrs);
                            elementsList = null;
                            if (rotate_animation.show_level == "ONLY_NORMAL" || objectName.StartsWith("normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (rotate_animation.show_level == "ONLY_AOD" || rotate_animation.show_level == "ONAL_AOD" || objectName.StartsWith("idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                        #endregion

                        #region DisconnectAlert
                        case "DisconnectAlert":
                            DisconnectAlert disconnectAlert = Object_DisconnectAlert(parametrs);

                            if (disconnectAlert != null) Watch_Face.DisconnectAlert = disconnectAlert;
                            break;
                        #endregion

                        #region RepeatAlert
                        case "RepeatAlert":
                            RepeatAlert repeatAlert = Object_RepeatAlert(parametrs);

                            if (repeatAlert != null) Watch_Face.RepeatAlert = repeatAlert;
                            break;
                        #endregion

                        #region BUTTON
                        case "BUTTON":
                            Button button = Object_BUTTON(parametrs);

                            if (Watch_Face.Buttons == null) Watch_Face.Buttons = new ElementButtons();
                            if (Watch_Face.Buttons.Button == null) Watch_Face.Buttons.Button = new List<Button>();
                            Watch_Face.Buttons.Button.Add(button);
                            break;
                        #endregion

                        #region Script
                        case "Script":
                            ElementScript script = new ElementScript();
                            script.user_script = true;
                            elementsList = null;
                            if (objectName == "normal")
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (objectName == "AOD")
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            if (elementsList != null) elementsList.Add(script);
                            break;
                        #endregion

                        #region FewDays
                        case "FewDays":
                            FewDays fewDays = Object_FewDays(parametrs);
                            elementsList = null;
                            if (objectName.StartsWith("// normal"))
                            {
                                if (Watch_Face.ScreenNormal.Elements == null)
                                    Watch_Face.ScreenNormal.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenNormal.Elements;
                            }
                            else if (objectName.StartsWith("// idle"))
                            {
                                if (Watch_Face.ScreenAOD.Elements == null)
                                    Watch_Face.ScreenAOD.Elements = new List<object>();
                                elementsList = Watch_Face.ScreenAOD.Elements;
                            }
                            ParametrsToObject(elementsList, parametrs);
                            break;
                            #endregion
                    }
                }

            }

            if (Watch_Face.Editable_Elements != null) FixEditableElementsCount();
        }

        private void FixEditableElementsCount()
        {
            if (Watch_Face.Editable_Elements.Watchface_edit_group == null ||
                Watch_Face.Editable_Elements.Watchface_edit_group.Count == 0) return;
            Watch_Face.Editable_Elements.selected_zone = 0;
            int zone = 1;
            foreach(WATCHFACE_EDIT_GROUP edit_group in Watch_Face.Editable_Elements.Watchface_edit_group)
            {
                if(edit_group.Elements != null && edit_group.Elements.Count > 0)
                {
                    //edit_group.selected_element = 1;
                    List<Optional_Types_List> optional_types_list = new List<Optional_Types_List>();
                    for (int i = edit_group.Elements.Count -1; i >= 0; i--) // перебираем все элементы
                    {
                        object element = edit_group.Elements[i];
                        string type = element.GetType().Name;
                        string editableElementType = null;
                        switch (type)
                        {
                            case "ElementDateDay":
                                editableElementType = "DATE";
                                break;

                            case "ElementDateMonth":
                                editableElementType = "DATE";
                                break;

                            case "ElementDateYear":
                                editableElementType = "DATE";
                                break;

                            case "ElementDateWeek":
                                editableElementType = "WEEK";
                                break;


                            case "ElementBattery":
                                editableElementType = "BATTERY";
                                break;

                            case "ElementSteps":
                                editableElementType = "STEP";
                                break;
                            case "ElementCalories":
                                editableElementType = "CAL";
                                break;
                            case "ElementHeart":
                                editableElementType = "HEART";
                                break;
                            case "ElementPAI":
                                editableElementType = "PAI";
                                break;
                            case "ElementDistance":
                                editableElementType = "DISTANCE";
                                break;
                            case "ElementStand":
                                editableElementType = "STAND";
                                break;
                            case "ElementSpO2":
                                editableElementType = "SPO2";
                                break;
                            case "ElementStress":
                                editableElementType = "STRESS";
                                break;
                            case "ElementFatBurning":
                                editableElementType = "FAT_BURNING";
                                break;



                            case "ElementWeather":
                                editableElementType = "WEATHER";
                                //editableElementType = "TEMPERATURE";
                                break;
                            case "ElementUVIndex":
                                editableElementType = "UVI";
                                break;
                            case "ElementHumidity":
                                editableElementType = "HUMIDITY";
                                break;
                            case "ElementAltimeter":
                                editableElementType = "ALTIMETER";
                                break;
                            case "ElementSunrise":
                                editableElementType = "SUN";
                                break;
                            case "ElementWind":
                                editableElementType = "WIND";
                                break;
                            case "ElementMoon":
                                editableElementType = "MOON";
                                break;
                        }

                        bool foundPreview = false;
                        if (editableElementType != null && edit_group.optional_types_list != null && edit_group.optional_types_list.Count > 0)
                        {
                            for (int j = 0; j < edit_group.optional_types_list.Count; j++) // перебираем все предпросмотры
                            {
                                if (editableElementType == edit_group.optional_types_list[j].type)
                                {
                                    Optional_Types_List optional_types = new Optional_Types_List();
                                    optional_types.preview = edit_group.optional_types_list[j].preview;
                                    optional_types.type = edit_group.optional_types_list[j].type;
                                    Console.WriteLine("zone = " + zone + "; type = " + optional_types.type + "; preview = " + optional_types.preview);
                                    //optional_types_list.Add(optional_types);
                                    optional_types_list.Insert(0, optional_types);
                                    foundPreview = true;
                                    break;
                                }
                            }
                        }
                        if (!foundPreview) edit_group.Elements.RemoveAt(i);
                    }
                    edit_group.optional_types_list = optional_types_list;

                    //if (edit_group.Elements.Count < edit_group.optional_types_list.Count) DelUnusedPreview(edit_group);

                    if (edit_group.Elements.Count != edit_group.optional_types_list.Count)
                    {
                        edit_group.Elements = new List<object>();
                        edit_group.optional_types_list = new List<Optional_Types_List>();
                    }
                    if (edit_group.Elements.Count > 0) edit_group.selected_element = 0;
                }
                zone++;
            }
        }

        /*private void DelUnusedPreview(WATCHFACE_EDIT_GROUP edit_group)
        {
            for (int j = edit_group.optional_types_list.Count - 1; j >= 0; j--) // перебираем все предпросмотры
            {
                bool foundPreview = false;
                for (int i = edit_group.Elements.Count - 1; i >= 0; i--) // перебираем все элементы
                {
                    object element = edit_group.Elements[i];
                    string type = element.GetType().Name;
                    string editableElementType = null;
                    switch (type)
                    {
                        case "ElementDateDay":
                            editableElementType = "DATE";
                            break;

                        case "ElementDateMonth":
                            editableElementType = "DATE";
                            break;

                        case "ElementDateYear":
                            editableElementType = "DATE";
                            break;

                        case "ElementDateWeek":
                            editableElementType = "DATE";
                            break;


                        case "ElementBattery":
                            editableElementType = "BATTERY";
                            break;

                        case "ElementSteps":
                            editableElementType = "STEP";
                            break;
                        case "ElementCalories":
                            editableElementType = "CAL";
                            break;
                        case "ElementHeart":
                            editableElementType = "HEART";
                            break;
                        case "ElementPAI":
                            editableElementType = "PAI";
                            break;
                        case "ElementDistance":
                            editableElementType = "DISTANCE";
                            break;
                        case "ElementStand":
                            editableElementType = "STAND";
                            break;
                        case "ElementSpO2":
                            editableElementType = "SPO2";
                            break;
                        case "ElementStress":
                            editableElementType = "STRESS";
                            break;
                        case "ElementFatBurning":
                            editableElementType = "FAT_BURNING";
                            break;



                        case "ElementWeather":
                            editableElementType = "WEATHER";
                            //editableElementType = "TEMPERATURE";
                            break;
                        case "ElementUVIndex":
                            editableElementType = "UVI";
                            break;
                        case "ElementHumidity":
                            editableElementType = "HUMIDITY";
                            break;
                        case "ElementAltimeter":
                            editableElementType = "ALTIMETER";
                            break;
                        case "ElementSunrise":
                            editableElementType = "SUN";
                            break;
                        case "ElementWind":
                            editableElementType = "WIND";
                            break;
                        case "ElementMoon":
                            editableElementType = "MOON";
                            break;
                    }

                    if (editableElementType != null && editableElementType == edit_group.optional_types_list[j].type)
                    {
                        foundPreview = true;
                        break;
                    }
                }
                if (!foundPreview) edit_group.optional_types_list.RemoveAt(j);
            }
        }*/

        /// <summary>Преобразуем параметры в объекты</summary>
        private void ParametrsToObject (List<object> elementsList, Dictionary<string, string> parametrs, string type = "")
        {
            if (elementsList == null) return;
            if (parametrs.ContainsKey("ObjectType"))
            {
                string objectType = parametrs["ObjectType"];
                string objectName = "";
                if (parametrs.ContainsKey("ObjectName")) objectName = parametrs["ObjectName"];
                switch (objectType)
                {
                   /*#region IMG
                    case "IMG":
                        hmUI_widget_IMG img = Object_IMG(parametrs);

                        if (type == "DATE")
                        {
                            bool exists = elementsList.Exists(e => e.GetType().Name == "ElementDateMonth");
                            if (exists)
                            {
                                ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                if (dateMonth != null && dateMonth.Number != null)
                                {
                                    dateMonth.Number.icon = img.src;
                                    dateMonth.Number.iconPosX = img.x;
                                    dateMonth.Number.iconPosY = img.y;
                                }
                            }
                            else
                            {
                                exists = elementsList.Exists(e => e.GetType().Name == "ElementDateDay");
                                if (exists)
                                {
                                    ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                                    if (dateDay != null && dateDay.Number != null)
                                    {
                                        dateDay.Number.icon = img.src;
                                        dateDay.Number.iconPosX = img.x;
                                        dateDay.Number.iconPosY = img.y;
                                    }
                                }
                                else
                                {
                                    exists = elementsList.Exists(e => e.GetType().Name == "ElementDateYear");
                                    if (exists)
                                    {
                                        ElementDateDay dateYear = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                        if (dateYear != null && dateYear.Number != null)
                                        {
                                            dateYear.Number.icon = img.src;
                                            dateYear.Number.iconPosX = img.x;
                                            dateYear.Number.iconPosY = img.y;
                                        }
                                    }
                                }
                            }

                        }

                        if (type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;

                                if (battery.Icon == null)
                                {
                                    battery.Icon = new hmUI_widget_IMG();
                                    battery.Icon.src = img.src;
                                    battery.Icon.x = img.x;
                                    battery.Icon.y = img.y;
                                    battery.Icon.visible = true;
                                    battery.Icon.position = offset; 
                                }
                                else if (battery.Number != null && battery.Number.icon == null)
                                {
                                    if (battery.Icon.position < battery.Number.position)
                                    {
                                        battery.Number.icon = img.src;
                                        battery.Number.iconPosX = img.x;
                                        battery.Number.iconPosY = img.y; 
                                    }
                                    else
                                    {
                                        battery.Number.icon = battery.Icon.src;
                                        battery.Number.iconPosX = battery.Icon.x;
                                        battery.Number.iconPosY = battery.Icon.y;

                                        battery.Icon.src = img.src;
                                        battery.Icon.x = img.x;
                                        battery.Icon.y = img.y;
                                        battery.Icon.visible = true;
                                        battery.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;

                                if (steps.Icon == null)
                                {
                                    steps.Icon = new hmUI_widget_IMG();
                                    steps.Icon.src = img.src;
                                    steps.Icon.x = img.x;
                                    steps.Icon.y = img.y;
                                    steps.Icon.visible = true;
                                    steps.Icon.position = offset;
                                }
                                else if (steps.Number != null && steps.Number.icon == null)
                                {
                                    if (steps.Icon.position < steps.Number.position)
                                    {
                                        steps.Number.icon = img.src;
                                        steps.Number.iconPosX = img.x;
                                        steps.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        steps.Number.icon = steps.Icon.src;
                                        steps.Number.iconPosX = steps.Icon.x;
                                        steps.Number.iconPosY = steps.Icon.y;

                                        steps.Icon.src = img.src;
                                        steps.Icon.x = img.x;
                                        steps.Icon.y = img.y;
                                        steps.Icon.visible = true;
                                        steps.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;

                                if (calorie.Icon == null)
                                {
                                    calorie.Icon = new hmUI_widget_IMG();
                                    calorie.Icon.src = img.src;
                                    calorie.Icon.x = img.x;
                                    calorie.Icon.y = img.y;
                                    calorie.Icon.visible = true;
                                    calorie.Icon.position = offset;
                                }
                                else if (calorie.Number != null && calorie.Number.icon == null)
                                {
                                    if (calorie.Icon.position < calorie.Number.position)
                                    {
                                        calorie.Number.icon = img.src;
                                        calorie.Number.iconPosX = img.x;
                                        calorie.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        calorie.Number.icon = calorie.Icon.src;
                                        calorie.Number.iconPosX = calorie.Icon.x;
                                        calorie.Number.iconPosY = calorie.Icon.y;

                                        calorie.Icon.src = img.src;
                                        calorie.Icon.x = img.x;
                                        calorie.Icon.y = img.y;
                                        calorie.Icon.visible = true;
                                        calorie.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;

                                if (heart.Icon == null)
                                {
                                    heart.Icon = new hmUI_widget_IMG();
                                    heart.Icon.src = img.src;
                                    heart.Icon.x = img.x;
                                    heart.Icon.y = img.y;
                                    heart.Icon.visible = true;
                                    heart.Icon.position = offset;
                                }
                                else if (heart.Number != null && heart.Number.icon == null)
                                {
                                    if (heart.Icon.position < heart.Number.position)
                                    {
                                        heart.Number.icon = img.src;
                                        heart.Number.iconPosX = img.x;
                                        heart.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        heart.Number.icon = heart.Icon.src;
                                        heart.Number.iconPosX = heart.Icon.x;
                                        heart.Number.iconPosY = heart.Icon.y;

                                        heart.Icon.src = img.src;
                                        heart.Icon.x = img.x;
                                        heart.Icon.y = img.y;
                                        heart.Icon.visible = true;
                                        heart.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "PAI")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;

                                if (pai.Icon == null)
                                {
                                    pai.Icon = new hmUI_widget_IMG();
                                    pai.Icon.src = img.src;
                                    pai.Icon.x = img.x;
                                    pai.Icon.y = img.y;
                                    pai.Icon.visible = true;
                                    pai.Icon.position = offset;
                                }
                                else if (pai.Number != null && pai.Number.icon == null)
                                {
                                    if (pai.Icon.position < pai.Number.position)
                                    {
                                        pai.Number.icon = img.src;
                                        pai.Number.iconPosX = img.x;
                                        pai.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        pai.Number.icon = pai.Icon.src;
                                        pai.Number.iconPosX = pai.Icon.x;
                                        pai.Number.iconPosY = pai.Icon.y;

                                        pai.Icon.src = img.src;
                                        pai.Icon.x = img.x;
                                        pai.Icon.y = img.y;
                                        pai.Icon.visible = true;
                                        pai.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "DISTANCE")
                        {
                            ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            if (distance == null)
                            {
                                elementsList.Add(new ElementDistance());
                                distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            }
                            if (distance != null && distance.Number != null)
                            {
                                int offset = 1;
                                if (distance.Number != null) offset++;
                                if (distance.Number_Font != null) offset++;
                                if (distance.Text_rotation != null) offset++;
                                if (distance.Text_circle != null) offset++;

                                if (distance.Icon == null)
                                {
                                    distance.Icon = new hmUI_widget_IMG();
                                    distance.Icon.src = img.src;
                                    distance.Icon.x = img.x;
                                    distance.Icon.y = img.y;
                                    distance.Icon.visible = true;
                                    distance.Icon.position = offset;
                                }
                                else if (distance.Number != null && distance.Number.icon == null)
                                {
                                    if (distance.Icon.position < distance.Number.position)
                                    {
                                        distance.Number.icon = img.src;
                                        distance.Number.iconPosX = img.x;
                                        distance.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        distance.Number.icon = distance.Icon.src;
                                        distance.Number.iconPosX = distance.Icon.x;
                                        distance.Number.iconPosY = distance.Icon.y;

                                        distance.Icon.src = img.src;
                                        distance.Icon.x = img.x;
                                        distance.Icon.y = img.y;
                                        distance.Icon.visible = true;
                                        distance.Icon.position = offset;
                                    }
                                }
                            }

                        }

                        if (type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;

                                if (stand.Icon == null)
                                {
                                    stand.Icon = new hmUI_widget_IMG();
                                    stand.Icon.src = img.src;
                                    stand.Icon.x = img.x;
                                    stand.Icon.y = img.y;
                                    stand.Icon.visible = true;
                                    stand.Icon.position = offset;
                                }
                                else if (stand.Number != null && stand.Number.icon == null)
                                {
                                    if (stand.Icon.position < stand.Number.position)
                                    {
                                        stand.Number.icon = img.src;
                                        stand.Number.iconPosX = img.x;
                                        stand.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        stand.Number.icon = stand.Icon.src;
                                        stand.Number.iconPosX = stand.Icon.x;
                                        stand.Number.iconPosY = stand.Icon.y;

                                        stand.Icon.src = img.src;
                                        stand.Icon.x = img.x;
                                        stand.Icon.y = img.y;
                                        stand.Icon.visible = true;
                                        stand.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                if (stress.Images != null) offset++;
                                if (stress.Segments != null) offset++;
                                if (stress.Number != null) offset++;
                                if (stress.Number_Font != null) offset++;
                                if (stress.Pointer != null) offset++;

                                if (stress.Icon == null)
                                {
                                    stress.Icon = new hmUI_widget_IMG();
                                    stress.Icon.src = img.src;
                                    stress.Icon.x = img.x;
                                    stress.Icon.y = img.y;
                                    stress.Icon.visible = true;
                                    stress.Icon.position = offset;
                                }
                                else if (stress.Number != null && stress.Number.icon == null)
                                {
                                    if (stress.Icon.position < stress.Number.position)
                                    {
                                        stress.Number.icon = img.src;
                                        stress.Number.iconPosX = img.x;
                                        stress.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        stress.Number.icon = stress.Icon.src;
                                        stress.Number.iconPosX = stress.Icon.x;
                                        stress.Number.iconPosY = stress.Icon.y;

                                        stress.Icon.src = img.src;
                                        stress.Icon.x = img.x;
                                        stress.Icon.y = img.y;
                                        stress.Icon.visible = true;
                                        stress.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;

                                if (fat_burning.Icon == null)
                                {
                                    fat_burning.Icon = new hmUI_widget_IMG();
                                    fat_burning.Icon.src = img.src;
                                    fat_burning.Icon.x = img.x;
                                    fat_burning.Icon.y = img.y;
                                    fat_burning.Icon.visible = true;
                                    fat_burning.Icon.position = offset;
                                }
                                else if (fat_burning.Number != null && fat_burning.Number.icon == null)
                                {
                                    if (fat_burning.Icon.position < fat_burning.Number.position)
                                    {
                                        fat_burning.Number.icon = img.src;
                                        fat_burning.Number.iconPosX = img.x;
                                        fat_burning.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        fat_burning.Number.icon = fat_burning.Icon.src;
                                        fat_burning.Number.iconPosX = fat_burning.Icon.x;
                                        fat_burning.Number.iconPosY = fat_burning.Icon.y;

                                        fat_burning.Icon.src = img.src;
                                        fat_burning.Icon.x = img.x;
                                        fat_burning.Icon.y = img.y;
                                        fat_burning.Icon.visible = true;
                                        fat_burning.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "SPO2")
                        {
                            ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            if (spo2 != null && spo2.Number != null)
                            {
                                int offset = 1;
                                if (spo2.Number != null) offset++;
                                if (spo2.Number_Font != null) offset++;
                                if (spo2.Text_rotation != null) offset++;
                                if (spo2.Text_circle != null) offset++;

                                if (spo2.Icon == null)
                                {
                                    spo2.Icon = new hmUI_widget_IMG();
                                    spo2.Icon.src = img.src;
                                    spo2.Icon.x = img.x;
                                    spo2.Icon.y = img.y;
                                    spo2.Icon.visible = true;
                                    spo2.Icon.position = offset;
                                }
                                else if (spo2.Number != null && spo2.Number.icon == null)
                                {
                                    if (spo2.Icon.position < spo2.Number.position)
                                    {
                                        spo2.Number.icon = img.src;
                                        spo2.Number.iconPosX = img.x;
                                        spo2.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        spo2.Number.icon = spo2.Icon.src;
                                        spo2.Number.iconPosX = spo2.Icon.x;
                                        spo2.Number.iconPosY = spo2.Icon.y;

                                        spo2.Icon.src = img.src;
                                        spo2.Icon.x = img.x;
                                        spo2.Icon.y = img.y;
                                        spo2.Icon.visible = true;
                                        spo2.Icon.position = offset;
                                    }
                                }
                            }

                        }



                        if (type == "WEATHER")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;

                                if (weather.Icon == null)
                                {
                                    weather.Icon = new hmUI_widget_IMG();
                                    weather.Icon.src = img.src;
                                    weather.Icon.x = img.x;
                                    weather.Icon.y = img.y;
                                    weather.Icon.visible = true;
                                    weather.Icon.position = offset;
                                }
                                else if (weather.Number != null && weather.Number.icon == null)
                                {
                                    if (weather.Icon.position < weather.Number.position)
                                    {
                                        weather.Number.icon = img.src;
                                        weather.Number.iconPosX = img.x;
                                        weather.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        weather.Number.icon = weather.Icon.src;
                                        weather.Number.iconPosX = weather.Icon.x;
                                        weather.Number.iconPosY = weather.Icon.y;

                                        weather.Icon.src = img.src;
                                        weather.Icon.x = img.x;
                                        weather.Icon.y = img.y;
                                        weather.Icon.visible = true;
                                        weather.Icon.position = offset;
                                    }
                                }
                                else if (weather.Number_Max != null && weather.Number_Max.icon == null)
                                {
                                    if (weather.Icon.position < weather.Number_Max.position)
                                    {
                                        weather.Number_Max.icon = img.src;
                                        weather.Number_Max.iconPosX = img.x;
                                        weather.Number_Max.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        weather.Number_Max.icon = weather.Icon.src;
                                        weather.Number_Max.iconPosX = weather.Icon.x;
                                        weather.Number_Max.iconPosY = weather.Icon.y;

                                        weather.Icon.src = img.src;
                                        weather.Icon.x = img.x;
                                        weather.Icon.y = img.y;
                                        weather.Icon.visible = true;
                                        weather.Icon.position = offset;
                                    }
                                }
                                else if (weather.Number_Min != null && weather.Number_Min.icon == null)
                                {
                                    if (weather.Icon.position < weather.Number_Min.position)
                                    {
                                        weather.Number_Min.icon = img.src;
                                        weather.Number_Min.iconPosX = img.x;
                                        weather.Number_Min.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        weather.Number_Min.icon = weather.Icon.src;
                                        weather.Number_Min.iconPosX = weather.Icon.x;
                                        weather.Number_Min.iconPosY = weather.Icon.y;

                                        weather.Icon.src = img.src;
                                        weather.Icon.x = img.x;
                                        weather.Icon.y = img.y;
                                        weather.Icon.visible = true;
                                        weather.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                if (uv_index.Images != null) offset++;
                                if (uv_index.Segments != null) offset++;
                                if (uv_index.Number != null) offset++;
                                if (uv_index.Number_Font != null) offset++;
                                if (uv_index.Pointer != null) offset++;

                                if (uv_index.Icon == null)
                                {
                                    uv_index.Icon = new hmUI_widget_IMG();
                                    uv_index.Icon.src = img.src;
                                    uv_index.Icon.x = img.x;
                                    uv_index.Icon.y = img.y;
                                    uv_index.Icon.visible = true;
                                    uv_index.Icon.position = offset;
                                }
                                else if (uv_index.Number != null && uv_index.Number.icon == null)
                                {
                                    if (uv_index.Icon.position < uv_index.Number.position)
                                    {
                                        uv_index.Number.icon = img.src;
                                        uv_index.Number.iconPosX = img.x;
                                        uv_index.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        uv_index.Number.icon = uv_index.Icon.src;
                                        uv_index.Number.iconPosX = uv_index.Icon.x;
                                        uv_index.Number.iconPosY = uv_index.Icon.y;

                                        uv_index.Icon.src = img.src;
                                        uv_index.Icon.x = img.x;
                                        uv_index.Icon.y = img.y;
                                        uv_index.Icon.visible = true;
                                        uv_index.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                if (humidity.Images != null) offset++;
                                if (humidity.Segments != null) offset++;
                                if (humidity.Number != null) offset++;
                                if (humidity.Number_Font != null) offset++;
                                if (humidity.Pointer != null) offset++;

                                if (humidity.Icon == null)
                                {
                                    humidity.Icon = new hmUI_widget_IMG();
                                    humidity.Icon.src = img.src;
                                    humidity.Icon.x = img.x;
                                    humidity.Icon.y = img.y;
                                    humidity.Icon.visible = true;
                                    humidity.Icon.position = offset;
                                }
                                else if (humidity.Number != null && humidity.Number.icon == null)
                                {
                                    if (humidity.Icon.position < humidity.Number.position)
                                    {
                                        humidity.Number.icon = img.src;
                                        humidity.Number.iconPosX = img.x;
                                        humidity.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        humidity.Number.icon = humidity.Icon.src;
                                        humidity.Number.iconPosX = humidity.Icon.x;
                                        humidity.Number.iconPosY = humidity.Icon.y;

                                        humidity.Icon.src = img.src;
                                        humidity.Icon.x = img.x;
                                        humidity.Icon.y = img.y;
                                        humidity.Icon.visible = true;
                                        humidity.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "ALTIMETER")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                if (altimeter.Number != null) offset++;
                                if (altimeter.Number_Font != null) offset++;
                                if (altimeter.Number_Target != null) offset++;
                                if (altimeter.Number_Target_Font != null) offset++;
                                if (altimeter.Pointer != null) offset++;
                                //if (altimeter.Icon != null) offset++;

                                if (altimeter.Icon == null)
                                {
                                    altimeter.Icon = new hmUI_widget_IMG();
                                    altimeter.Icon.src = img.src;
                                    altimeter.Icon.x = img.x;
                                    altimeter.Icon.y = img.y;
                                    altimeter.Icon.visible = true;
                                    altimeter.Icon.position = offset;
                                }
                                else if (altimeter.Number != null && altimeter.Number.icon == null)
                                {
                                    if (altimeter.Icon.position < altimeter.Number.position)
                                    {
                                        altimeter.Number.icon = img.src;
                                        altimeter.Number.iconPosX = img.x;
                                        altimeter.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        altimeter.Number.icon = altimeter.Icon.src;
                                        altimeter.Number.iconPosX = altimeter.Icon.x;
                                        altimeter.Number.iconPosY = altimeter.Icon.y;

                                        altimeter.Icon.src = img.src;
                                        altimeter.Icon.x = img.x;
                                        altimeter.Icon.y = img.y;
                                        altimeter.Icon.visible = true;
                                        altimeter.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "SUN")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;

                                if (sunrise.Icon == null)
                                {
                                    sunrise.Icon = new hmUI_widget_IMG();
                                    sunrise.Icon.src = img.src;
                                    sunrise.Icon.x = img.x;
                                    sunrise.Icon.y = img.y;
                                    sunrise.Icon.visible = true;
                                    sunrise.Icon.position = offset;
                                }
                                else if (sunrise.Sunrise != null && sunrise.Sunrise.icon == null)
                                {
                                    if (sunrise.Icon.position < sunrise.Sunrise.position)
                                    {
                                        sunrise.Sunrise.icon = img.src;
                                        sunrise.Sunrise.iconPosX = img.x;
                                        sunrise.Sunrise.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        sunrise.Sunrise.icon = sunrise.Icon.src;
                                        sunrise.Sunrise.iconPosX = sunrise.Icon.x;
                                        sunrise.Sunrise.iconPosY = sunrise.Icon.y;

                                        sunrise.Icon.src = img.src;
                                        sunrise.Icon.x = img.x;
                                        sunrise.Icon.y = img.y;
                                        sunrise.Icon.visible = true;
                                        sunrise.Icon.position = offset;
                                    }
                                }
                                else if (sunrise.Sunset != null && sunrise.Sunset.icon == null)
                                {
                                    if (sunrise.Icon.position < sunrise.Sunset.position)
                                    {
                                        sunrise.Sunset.icon = img.src;
                                        sunrise.Sunset.iconPosX = img.x;
                                        sunrise.Sunset.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        sunrise.Sunset.icon = sunrise.Icon.src;
                                        sunrise.Sunset.iconPosX = sunrise.Icon.x;
                                        sunrise.Sunset.iconPosY = sunrise.Icon.y;

                                        sunrise.Icon.src = img.src;
                                        sunrise.Icon.x = img.x;
                                        sunrise.Icon.y = img.y;
                                        sunrise.Icon.visible = true;
                                        sunrise.Icon.position = offset;
                                    }
                                }
                                else if (sunrise.Sunset_Sunrise != null && sunrise.Sunset_Sunrise.icon == null)
                                {
                                    if (sunrise.Icon.position < sunrise.Sunset_Sunrise.position)
                                    {
                                        sunrise.Sunset_Sunrise.icon = img.src;
                                        sunrise.Sunset_Sunrise.iconPosX = img.x;
                                        sunrise.Sunset_Sunrise.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        sunrise.Sunset_Sunrise.icon = sunrise.Icon.src;
                                        sunrise.Sunset_Sunrise.iconPosX = sunrise.Icon.x;
                                        sunrise.Sunset_Sunrise.iconPosY = sunrise.Icon.y;

                                        sunrise.Icon.src = img.src;
                                        sunrise.Icon.x = img.x;
                                        sunrise.Icon.y = img.y;
                                        sunrise.Icon.visible = true;
                                        sunrise.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;

                                if (wind.Icon == null)
                                {
                                    wind.Icon = new hmUI_widget_IMG();
                                    wind.Icon.src = img.src;
                                    wind.Icon.x = img.x;
                                    wind.Icon.y = img.y;
                                    wind.Icon.visible = true;
                                    wind.Icon.position = offset;
                                }
                                else if (wind.Number != null && wind.Number.icon == null)
                                {
                                    if (wind.Icon.position < wind.Number.position)
                                    {
                                        wind.Number.icon = img.src;
                                        wind.Number.iconPosX = img.x;
                                        wind.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        wind.Number.icon = wind.Icon.src;
                                        wind.Number.iconPosX = wind.Icon.x;
                                        wind.Number.iconPosY = wind.Icon.y;

                                        wind.Icon.src = img.src;
                                        wind.Icon.x = img.x;
                                        wind.Icon.y = img.y;
                                        wind.Icon.visible = true;
                                        wind.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        if (type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                if (compass.Pointer != null) offset++;

                                if (compass.Icon == null)
                                {
                                    compass.Icon = new hmUI_widget_IMG();
                                    compass.Icon.src = img.src;
                                    compass.Icon.x = img.x;
                                    compass.Icon.y = img.y;
                                    compass.Icon.visible = true;
                                    compass.Icon.position = offset;
                                }
                                else if (compass.Number != null && compass.Number.icon == null)
                                {
                                    if (compass.Icon.position < compass.Number.position)
                                    {
                                        compass.Number.icon = img.src;
                                        compass.Number.iconPosX = img.x;
                                        compass.Number.iconPosY = img.y;
                                    }
                                    else
                                    {
                                        compass.Number.icon = compass.Icon.src;
                                        compass.Number.iconPosX = compass.Icon.x;
                                        compass.Number.iconPosY = compass.Icon.y;

                                        compass.Icon.src = img.src;
                                        compass.Icon.x = img.x;
                                        compass.Icon.y = img.y;
                                        compass.Icon.visible = true;
                                        compass.Icon.position = offset;
                                    }
                                }
                            }
                        }

                        break;
                    #endregion*/

                    #region IMG_TIME
                    case "IMG_TIME":
                        ElementDigitalTime_v2 img_time = Object_DigitalTime_v2(parametrs);
                        ElementDigitalTime_v2 digitalTime = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                        if (digitalTime == null)
                        {
                            //elementsList.Add(img_time);
                            elementsList.Add(new ElementDigitalTime_v2());
                            digitalTime = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                        }
                        if (digitalTime != null)
                        {
                            int offset = 0;
                            if (digitalTime.Group_Hour != null) offset++;
                            if (digitalTime.Group_Minute != null) offset++;
                            if (digitalTime.Group_Second != null) offset++;

                            if (digitalTime.AmPm != null) offset++;

                            //if (digitalTime.Hour_Font != null) offset++;
                            //if (digitalTime.Minute_Font != null) offset++;
                            //if (digitalTime.Second_Font != null) offset++;

                            if (digitalTime.Hour_Min_Font != null) offset++;
                            if (digitalTime.Hour_Min_Sec_Font != null) offset++;

                            //if (digitalTime.Hour_rotation != null) offset++;
                            //if (digitalTime.Minute_rotation != null) offset++;
                            //if (digitalTime.Second_rotation != null) offset++;

                            //if (digitalTime.Hour_circle != null) offset++;
                            //if (digitalTime.Minute_circle != null) offset++;
                            //if (digitalTime.Second_circle != null) offset++;

                            if (img_time.Group_Hour != null && img_time.Group_Hour.Number != null)
                            {
                                if (digitalTime.Group_Hour == null) {
                                    digitalTime.Group_Hour = new DigitalTimeGroup();
                                    digitalTime.Group_Hour.position = img_time.Group_Hour.position + offset;
                                }
                                //else digitalTime.Group_Hour.position = offset;
                                digitalTime.Group_Hour.Number = img_time.Group_Hour.Number;
                            }
                            if (img_time.Group_Minute != null && img_time.Group_Minute.Number != null)
                            {
                                if (digitalTime.Group_Minute == null)
                                {
                                    digitalTime.Group_Minute = new DigitalTimeGroup();
                                    digitalTime.Group_Minute.position = img_time.Group_Minute.position + offset;
                                }
                                //else digitalTime.Group_Minute.position = offset;
                                digitalTime.Group_Minute.Number = img_time.Group_Minute.Number;
                            }
                            if (img_time.Group_Second != null && img_time.Group_Second.Number != null)
                            {
                                if (digitalTime.Group_Second == null)
                                {
                                    digitalTime.Group_Second = new DigitalTimeGroup();
                                    digitalTime.Group_Second.position = img_time.Group_Second.position + offset;
                                }
                                //else digitalTime.Group_Second.position = offset;
                                digitalTime.Group_Second.Number = img_time.Group_Second.Number;
                            }
                            if (img_time.AmPm != null)
                            {
                                img_time.AmPm.position = img_time.AmPm.position + offset;
                                digitalTime.AmPm = img_time.AmPm;
                            }

                        }

                            break;
                    #endregion

                    #region TIME_POINTER
                    case "TIME_POINTER":
                        if(objectName.EndsWith("_smooth_second")) break;
                        ElementAnalogTime pointer_time = Object_AnalogTime(parametrs);
                        ElementAnalogTime analogTime = (ElementAnalogTime)elementsList.Find(e => e.GetType().Name == "ElementAnalogTime");
                        if (analogTime == null)
                        {
                            //elementsList.Add(pointer_time);
                            elementsList.Add(new ElementAnalogTime());
                            analogTime = (ElementAnalogTime)elementsList.Find(e => e.GetType().Name == "ElementAnalogTime");
                        }
                        if (analogTime != null)
                        {
                            int offset = 0;
                            if (analogTime.Hour != null) offset++;
                            if (analogTime.Minute != null) offset++;
                            if (analogTime.Second != null) offset++;

                            if (pointer_time.Hour != null)
                            {
                                pointer_time.Hour.position = pointer_time.Hour.position + offset;
                                analogTime.Hour = pointer_time.Hour;
                            }
                            if (pointer_time.Minute != null)
                            {
                                pointer_time.Minute.position = pointer_time.Minute.position + offset;
                                analogTime.Minute = pointer_time.Minute;
                            }
                            if (pointer_time.Second != null)
                            {
                                pointer_time.Second.position = pointer_time.Second.position + offset;
                                analogTime.Second = pointer_time.Second;
                            }
                        }

                        break;
                    #endregion

                    #region TIME_POINTER_PRO
                    case "TIME_POINTER_PRO":
                        bool format24h = false;
                        hmUI_widget_IMG_POINTER imgPointerPro = Object_IMG_POINTER_PRO(parametrs, out format24h);
                        ElementAnalogTimePro analogTimePro = (ElementAnalogTimePro)elementsList.Find(e => e.GetType().Name == "ElementAnalogTimePro");
                        if (analogTimePro == null)
                        {
                            //elementsList.Add(pointer_time);
                            elementsList.Add(new ElementAnalogTimePro());
                            analogTimePro = (ElementAnalogTimePro)elementsList.Find(e => e.GetType().Name == "ElementAnalogTimePro");
                        }
                        if (analogTimePro != null && imgPointerPro.type != null)
                        {
                            int offset = 2;
                            if (analogTimePro.Hour != null) offset++;
                            if (analogTimePro.Minute != null) offset++;
                            if (analogTimePro.Second != null) offset++;
                            if (analogTimePro.SmoothSecond != null) offset++;
                            analogTimePro.Format_24hour_position = 1;
                            imgPointerPro.position = offset;

                            if (imgPointerPro.type == "hour") analogTimePro.Hour = imgPointerPro;
                            if (imgPointerPro.type == "minute") analogTimePro.Minute = imgPointerPro;
                            if (imgPointerPro.type == "second") analogTimePro.Second = imgPointerPro;
                            if (format24h) analogTimePro.Format_24hour = true;
                        }

                        break;
                    #endregion

                    #region SMOOTH_SECOND
                    case "SMOOTH_SECOND":
                        Smooth_Second smooth_Second = Object_SMOOTH_SECOND(parametrs);
                        ElementAnalogTimePro analogTimeSmoth = (ElementAnalogTimePro)elementsList.Find(e => e.GetType().Name == "ElementAnalogTimePro");
                        if (analogTimeSmoth == null)
                        {
                            //elementsList.Add(pointer_time);
                            elementsList.Add(new ElementAnalogTimePro());
                            analogTimePro = (ElementAnalogTimePro)elementsList.Find(e => e.GetType().Name == "ElementAnalogTimePro");
                        }
                        if (analogTimeSmoth != null)
                        {
                            int offset = 2;
                            if (analogTimeSmoth.Hour != null) offset++;
                            if (analogTimeSmoth.Minute != null) offset++;
                            if (analogTimeSmoth.Second != null) offset++;
                            //if (analogTimeSmoth.SmoothSecond != null) offset++;
                            smooth_Second.position = offset;

                            analogTimeSmoth.SmoothSecond = smooth_Second;
                        }

                        break;
                    #endregion

                    #region IMG_DATE
                    case "IMG_DATE":
                        List<hmUI_widget_IMG_NUMBER> img_number_list = Object_ImgDate(parametrs);
                        List<hmUI_widget_IMG_LEVEL> img_level_list = Object_ImgLevelDate(parametrs);

                        if (img_number_list != null)
                        {
                            foreach (hmUI_widget_IMG_NUMBER img_number in img_number_list)
                            {
                                if (img_number.type == "DAY")
                                {
                                    ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                                    if (dateDay == null)
                                    {
                                        elementsList.Add(new ElementDateDay());
                                        dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                                    }
                                    if (dateDay != null)
                                    {
                                        int offsetNumber = 1;
                                        if (dateDay.Number_Font != null) offsetNumber++;
                                        if (dateDay.Day_Month_Font != null) offsetNumber++;
                                        if (dateDay.Day_Month_Year_Font != null) offsetNumber++;
                                        if (dateDay.Pointer != null) offsetNumber++;
                                        if (dateDay.Text_rotation != null) offsetNumber++;
                                        if (dateDay.Text_circle != null) offsetNumber++;

                                        dateDay.Number = img_number;
                                        dateDay.Number.position = offsetNumber;
                                        dateDay.Number.visible = true;
                                        //dateDay.Pointer = new hmUI_widget_IMG_POINTER();
                                        //newPointer = dateDay.Pointer;
                                    }
                                }

                                if (img_number.type == "MONTH")
                                {
                                    ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                    if (dateMonth == null)
                                    {
                                        elementsList.Add(new ElementDateMonth());
                                        dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                    }
                                    if (dateMonth != null)
                                    {
                                        int offsetNumber = 1;
                                        if (dateMonth.Number_Font != null) offsetNumber++;
                                        if (dateMonth.Month_Font != null) offsetNumber++;
                                        if (dateMonth.Pointer != null) offsetNumber++;
                                        if (dateMonth.Images != null) offsetNumber++;
                                        if (dateMonth.Text_rotation != null) offsetNumber++;
                                        if (dateMonth.Text_circle != null) offsetNumber++;

                                        dateMonth.Number = img_number;
                                        dateMonth.Number.position = offsetNumber;
                                        dateMonth.Number.visible = true;
                                        //dateDay.Pointer = new hmUI_widget_IMG_POINTER();
                                        //newPointer = dateDay.Pointer;
                                    }
                                }

                                if (img_number.type == "YEAR")
                                {
                                    ElementDateYear dateYear = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                    if (dateYear == null)
                                    {
                                        elementsList.Add(new ElementDateYear());
                                        dateYear = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                                    }
                                    if (dateYear != null)
                                    {
                                        int offsetNumber = 1;
                                        if (dateYear.Number_Font != null) offsetNumber++;
                                        if (dateYear.Text_rotation != null) offsetNumber++;
                                        if (dateYear.Text_circle != null) offsetNumber++;
                                        if (dateYear.Icon != null) offsetNumber++;

                                        dateYear.Number = img_number;
                                        dateYear.Number.position = offsetNumber;
                                        dateYear.Number.visible = true;
                                    }
                                }
                            }

                        }

                        if (img_level_list != null)
                        {
                            foreach (hmUI_widget_IMG_LEVEL img_level in img_level_list)
                            {
                                if (img_level.type == "MONTH")
                                {
                                    ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                    if (dateMonth == null) elementsList.Add(new ElementDateMonth());
                                    dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                                    if (dateMonth != null)
                                    {
                                        int offsetNumber = 1;
                                        if (dateMonth.Pointer != null) offsetNumber++;
                                        if (dateMonth.Number != null) offsetNumber++;
                                        if (dateMonth.Number_Font != null) offsetNumber++;
                                        if (dateMonth.Month_Font != null) offsetNumber++;
                                        if (dateMonth.Text_rotation != null) offsetNumber++;
                                        if (dateMonth.Text_circle != null) offsetNumber++;

                                        dateMonth.Images = img_level;
                                        dateMonth.Images.position = offsetNumber;
                                        dateMonth.Images.visible = true;
                                        //dateDay.Pointer = new hmUI_widget_IMG_POINTER();
                                        //newPointer = dateDay.Pointer;
                                    }
                                }
                            }

                        }

                        break;
                    #endregion

                    #region DATE_POINTER
                    case "DATE_POINTER":
                        hmUI_widget_IMG_POINTER img_pointer = Object_DATE_POINTER(parametrs);
                        if (img_pointer.type == "DAY")
                        {
                            ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (dateDay == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (dateDay != null)
                            {
                                int offsetPointer = 1;
                                if (dateDay.Number != null) offsetPointer++;
                                if (dateDay.Number_Font != null) offsetPointer++;
                                if (dateDay.Day_Month_Font != null) offsetPointer++;
                                if (dateDay.Day_Month_Year_Font != null) offsetPointer++;
                                if (dateDay.Text_rotation != null) offsetPointer++;
                                if (dateDay.Text_circle != null) offsetPointer++;

                                dateDay.Pointer = img_pointer;
                                dateDay.Pointer.position = offsetPointer;
                                dateDay.Pointer.visible = true;
                                //dateDay.Pointer = new hmUI_widget_IMG_POINTER();
                                //newPointer = dateDay.Pointer;
                            }
                        }
                        if (img_pointer.type == "MONTH")
                        {
                            ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            if (dateMonth == null)
                            {
                                elementsList.Add(new ElementDateMonth());
                                dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            }
                            if (dateMonth != null)
                            {
                                int offsetPointer = 1;
                                if (dateMonth.Number != null) offsetPointer++;
                                if (dateMonth.Number_Font != null) offsetPointer++;
                                if (dateMonth.Month_Font != null) offsetPointer++;
                                if (dateMonth.Images != null) offsetPointer++;
                                if (dateMonth.Text_rotation != null) offsetPointer++;
                                if (dateMonth.Text_circle != null) offsetPointer++;

                                dateMonth.Pointer = img_pointer;
                                dateMonth.Pointer.position = offsetPointer;
                                dateMonth.Pointer.visible = true;
                                //dateMonth.Pointer = new hmUI_widget_IMG_POINTER();
                                //newPointer = dateMonth.Pointer;
                            }
                        }
                        if (img_pointer.type == "WEEK")
                        {
                            int offsetPointer = 1;
                            ElementDateWeek dateWeek = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                            if (dateWeek == null)
                            {
                                elementsList.Add(new ElementDateWeek());
                                dateWeek = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                            }
                            if (dateWeek != null)
                            {
                                if (dateWeek.Images != null) offsetPointer++;
                                if (dateWeek.DayOfWeek_Font != null) offsetPointer++;
                                dateWeek.Pointer = img_pointer;
                                dateWeek.Pointer.position = offsetPointer;
                                dateWeek.Pointer.visible = true;
                                //dateWeek.Pointer = new hmUI_widget_IMG_POINTER();
                                //newPointer = dateWeek.Pointer;
                            }
                        }
                        break;
                    #endregion

                    #region IMG_WEEK
                    case "IMG_WEEK":
                        hmUI_widget_IMG_LEVEL imgWeek = Object_IMG_WEEK(parametrs);
                        int offsetImages = 1;
                        ElementDateWeek dateWeek_img = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                        if (dateWeek_img == null)
                        {
                            elementsList.Add(new ElementDateWeek());
                            dateWeek_img = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                        }
                        if (dateWeek_img != null)
                        {
                            if (dateWeek_img.Pointer != null) offsetImages++;
                            if (dateWeek_img.DayOfWeek_Font != null) offsetImages++;
                            dateWeek_img.Images = imgWeek;
                            dateWeek_img.Images.position = offsetImages;
                            dateWeek_img.Images.visible = true;
                        }

                        break;
                    #endregion

                    #region IMG_LEVEL
                    case "IMG_LEVEL":
                        hmUI_widget_IMG_LEVEL imgLevel = Object_IMG_LEVEL(parametrs);

                        if (imgLevel.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Images = new hmUI_widget_IMG_LEVEL();
                                steps.Images.img_First = imgLevel.img_First;
                                steps.Images.image_length = imgLevel.image_length;
                                steps.Images.X = imgLevel.X;
                                steps.Images.Y = imgLevel.Y;
                                steps.Images.shortcut = imgLevel.shortcut;
                                steps.Images.visible = true;
                                steps.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Images = new hmUI_widget_IMG_LEVEL();
                                battery.Images.img_First = imgLevel.img_First;
                                battery.Images.image_length = imgLevel.image_length;
                                battery.Images.X = imgLevel.X;
                                battery.Images.Y = imgLevel.Y;
                                battery.Images.visible = true;
                                battery.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Images = new hmUI_widget_IMG_LEVEL();
                                calorie.Images.img_First = imgLevel.img_First;
                                calorie.Images.image_length = imgLevel.image_length;
                                calorie.Images.X = imgLevel.X;
                                calorie.Images.Y = imgLevel.Y;
                                calorie.Images.shortcut = imgLevel.shortcut;
                                calorie.Images.visible = true;
                                calorie.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Images = new hmUI_widget_IMG_LEVEL();
                                heart.Images.img_First = imgLevel.img_First;
                                heart.Images.image_length = imgLevel.image_length;
                                heart.Images.image_length = 6;
                                heart.Images.X = imgLevel.X;
                                heart.Images.Y = imgLevel.Y;
                                heart.Images.shortcut = imgLevel.shortcut;
                                heart.Images.visible = true;
                                heart.Images.position = offset;
                                if (imgLevel.image_length != 6)
                                    MessageBox.Show("Количество изображений для отображения пульса должно быть равным 6.",
                                        Properties.FormStrings.Message_Warning_Caption, MessageBoxButtons.OK, MessageBoxIcon.Information);
                            }
                        }

                        if (imgLevel.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Images = new hmUI_widget_IMG_LEVEL();
                                pai.Images.img_First = imgLevel.img_First;
                                pai.Images.image_length = imgLevel.image_length;
                                pai.Images.X = imgLevel.X;
                                pai.Images.Y = imgLevel.Y;
                                pai.Images.shortcut = imgLevel.shortcut;
                                pai.Images.visible = true;
                                pai.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                //if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Images = new hmUI_widget_IMG_LEVEL();
                                stand.Images.img_First = imgLevel.img_First;
                                stand.Images.image_length = imgLevel.image_length;
                                stand.Images.X = imgLevel.X;
                                stand.Images.Y = imgLevel.Y;
                                stand.Images.shortcut = imgLevel.shortcut;
                                stand.Images.visible = true;
                                stand.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                //if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Images = new hmUI_widget_IMG_LEVEL();
                                activity.Images.img_First = imgLevel.img_First;
                                activity.Images.image_length = imgLevel.image_length;
                                activity.Images.X = imgLevel.X;
                                activity.Images.Y = imgLevel.Y;
                                activity.Images.shortcut = imgLevel.shortcut;
                                activity.Images.visible = true;
                                activity.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                //if (stress.Images != null) offset++;
                                if (stress.Segments != null) offset++;
                                if (stress.Number != null) offset++;
                                if (stress.Number_Font != null) offset++;
                                if (stress.Pointer != null) offset++;
                                if (stress.Icon != null) offset++;

                                stress.Images = new hmUI_widget_IMG_LEVEL();
                                stress.Images.img_First = imgLevel.img_First;
                                stress.Images.image_length = imgLevel.image_length;
                                stress.Images.X = imgLevel.X;
                                stress.Images.Y = imgLevel.Y;
                                stress.Images.shortcut = imgLevel.shortcut;
                                stress.Images.visible = true;
                                stress.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                //if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Images = new hmUI_widget_IMG_LEVEL();
                                fat_burning.Images.img_First = imgLevel.img_First;
                                fat_burning.Images.image_length = imgLevel.image_length;
                                fat_burning.Images.X = imgLevel.X;
                                fat_burning.Images.Y = imgLevel.Y;
                                fat_burning.Images.shortcut = imgLevel.shortcut;
                                fat_burning.Images.visible = true;
                                fat_burning.Images.position = offset;
                            }
                        }



                        /*if (imgLevel.type == "WEATHER_CURRENT")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                //if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Images = new hmUI_widget_IMG_LEVEL();
                                weather.Images.img_First = imgLevel.img_First;
                                weather.Images.image_length = imgLevel.image_length;
                                weather.Images.X = imgLevel.X;
                                weather.Images.Y = imgLevel.Y;
                                weather.Images.shortcut = imgLevel.shortcut;
                                weather.Images.visible = true;
                                weather.Images.position = offset;
                            }
                        }*/

                        if (imgLevel.type == "WEATHER_CURRENT")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                //if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Images = new hmUI_widget_IMG_LEVEL();
                                weather.Images.img_First = imgLevel.img_First;
                                weather.Images.image_length = imgLevel.image_length;
                                weather.Images.X = imgLevel.X;
                                weather.Images.Y = imgLevel.Y;
                                weather.Images.shortcut = imgLevel.shortcut;
                                weather.Images.visible = true;
                                weather.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                //if (uv_index.Images != null) offset++;
                                if (uv_index.Segments != null) offset++;
                                if (uv_index.Number != null) offset++;
                                if (uv_index.Number_Font != null) offset++;
                                if (uv_index.Pointer != null) offset++;
                                if (uv_index.Icon != null) offset++;

                                uv_index.Images = new hmUI_widget_IMG_LEVEL();
                                uv_index.Images.img_First = imgLevel.img_First;
                                uv_index.Images.image_length = imgLevel.image_length;
                                uv_index.Images.X = imgLevel.X;
                                uv_index.Images.Y = imgLevel.Y;
                                uv_index.Images.shortcut = imgLevel.shortcut;
                                uv_index.Images.visible = true;
                                uv_index.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                //if (humidity.Images != null) offset++;
                                if (humidity.Segments != null) offset++;
                                if (humidity.Number != null) offset++;
                                if (humidity.Number_Font != null) offset++;
                                if (humidity.Pointer != null) offset++;
                                if (humidity.Icon != null) offset++;

                                humidity.Images = new hmUI_widget_IMG_LEVEL();
                                humidity.Images.img_First = imgLevel.img_First;
                                humidity.Images.image_length = imgLevel.image_length;
                                humidity.Images.X = imgLevel.X;
                                humidity.Images.Y = imgLevel.Y;
                                humidity.Images.shortcut = imgLevel.shortcut;
                                humidity.Images.visible = true;
                                humidity.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "SUN_CURRENT")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                //if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Images = new hmUI_widget_IMG_LEVEL();
                                sunrise.Images.img_First = imgLevel.img_First;
                                sunrise.Images.image_length = imgLevel.image_length;
                                sunrise.Images.X = imgLevel.X;
                                sunrise.Images.Y = imgLevel.Y;
                                sunrise.Images.shortcut = imgLevel.shortcut;
                                sunrise.Images.visible = true;
                                sunrise.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                //if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Images = new hmUI_widget_IMG_LEVEL();
                                wind.Images.img_First = imgLevel.img_First;
                                wind.Images.image_length = imgLevel.image_length;
                                wind.Images.X = imgLevel.X;
                                wind.Images.Y = imgLevel.Y;
                                wind.Images.shortcut = imgLevel.shortcut;
                                wind.Images.visible = true;
                                wind.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "WIND_DIRECTION")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                //if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Direction = new hmUI_widget_IMG_LEVEL();
                                wind.Direction.img_First = imgLevel.img_First;
                                wind.Direction.image_length = imgLevel.image_length;
                                wind.Direction.X = imgLevel.X;
                                wind.Direction.Y = imgLevel.Y;
                                wind.Direction.shortcut = imgLevel.shortcut;
                                wind.Direction.visible = true;
                                wind.Direction.position = offset;
                            }
                        }

                        if (imgLevel.type == "MOON")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                //if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Images = new hmUI_widget_IMG_LEVEL();
                                moon.Images.img_First = imgLevel.img_First;
                                moon.Images.image_length = imgLevel.image_length;
                                moon.Images.X = imgLevel.X;
                                moon.Images.Y = imgLevel.Y;
                                moon.Images.shortcut = imgLevel.shortcut;
                                moon.Images.visible = true;
                                moon.Images.position = offset;
                            }
                        }

                        if (imgLevel.type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                //if (steps.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                if (compass.Pointer != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Images = new hmUI_widget_IMG_LEVEL();
                                compass.Images.img_First = imgLevel.img_First;
                                compass.Images.image_length = imgLevel.image_length;
                                compass.Images.X = imgLevel.X;
                                compass.Images.Y = imgLevel.Y;
                                compass.Images.shortcut = imgLevel.shortcut;
                                compass.Images.visible = true;
                                compass.Images.position = offset;
                            }
                        }


                        break;
                    #endregion

                    #region IMG_LEVEL_Options
                    case "IMG_LEVEL_Options":
                        hmUI_widget_IMG_LEVEL imgLevelOptions = Object_IMG_LEVEL_Options(parametrs);

                        if (imgLevelOptions.type == "forecast_image")
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                //if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Images = new hmUI_widget_IMG_LEVEL();
                                weatherFewDays.Images.img_First = imgLevelOptions.img_First;
                                weatherFewDays.Images.image_length = imgLevelOptions.image_length;
                                weatherFewDays.Images.X = imgLevelOptions.X;
                                weatherFewDays.Images.Y = imgLevelOptions.Y;
                                weatherFewDays.Images.shortcut = false;
                                //weatherFewDays_img.Images.shortcut = imgLevelOptions.shortcut;
                                weatherFewDays.Images.visible = true;
                                weatherFewDays.Images.position = offset;
                            }
                        }

                        if (imgLevelOptions.type == "forecast_date_week_img")
                        {
                            Element_Weather_FewDays weatherFewDays_img = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays_img == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays_img = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays_img != null)
                            {
                                int offset = 1;
                                if (weatherFewDays_img.Images != null) offset++;
                                if (weatherFewDays_img.Diagram != null) offset++;
                                if (weatherFewDays_img.Number_Max != null) offset++;
                                if (weatherFewDays_img.Number_Font_Max != null) offset++;
                                if (weatherFewDays_img.Number_Min != null) offset++;
                                if (weatherFewDays_img.Number_Font_Min != null) offset++;
                                if (weatherFewDays_img.Number_MaxMin != null) offset++;
                                if (weatherFewDays_img.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays_img.Number_Average != null) offset++;
                                if (weatherFewDays_img.Number_Font_Average != null) offset++;
                                //if (weatherFewDays_img.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays_img.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays_img.Icon != null) offset++;

                                weatherFewDays_img.DayOfWeek_Images = new hmUI_widget_IMG_LEVEL();
                                weatherFewDays_img.DayOfWeek_Images.img_First = imgLevelOptions.img_First;
                                weatherFewDays_img.DayOfWeek_Images.image_length = imgLevelOptions.image_length;
                                weatherFewDays_img.DayOfWeek_Images.X = imgLevelOptions.X;
                                weatherFewDays_img.DayOfWeek_Images.Y = imgLevelOptions.Y;
                                weatherFewDays_img.DayOfWeek_Images.shortcut = false;
                                //weatherFewDays_img.DayOfWeek_Images.shortcut = imgLevelOptions.shortcut;
                                weatherFewDays_img.DayOfWeek_Images.visible = true;
                                weatherFewDays_img.DayOfWeek_Images.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region IMG_PROGRESS
                    case "IMG_PROGRESS":
                        hmUI_widget_IMG_PROGRESS imgProgress = Object_IMG_PROGRESS(parametrs);

                        if (imgProgress.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                //if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Segments = new hmUI_widget_IMG_PROGRESS();
                                steps.Segments.img_First = imgProgress.img_First;
                                steps.Segments.image_length = imgProgress.image_length;
                                steps.Segments.X = imgProgress.X;
                                steps.Segments.Y = imgProgress.Y;
                                steps.Segments.visible = true;
                                steps.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                //if (steps.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Segments = new hmUI_widget_IMG_PROGRESS();
                                battery.Segments.img_First = imgProgress.img_First;
                                battery.Segments.image_length = imgProgress.image_length;
                                battery.Segments.X = imgProgress.X;
                                battery.Segments.Y = imgProgress.Y;
                                battery.Segments.visible = true;
                                battery.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                //if (steps.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Segments = new hmUI_widget_IMG_PROGRESS();
                                calorie.Segments.img_First = imgProgress.img_First;
                                calorie.Segments.image_length = imgProgress.image_length;
                                calorie.Segments.X = imgProgress.X;
                                calorie.Segments.Y = imgProgress.Y;
                                calorie.Segments.visible = true;
                                calorie.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                //if (steps.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Segments = new hmUI_widget_IMG_PROGRESS();
                                heart.Segments.img_First = imgProgress.img_First;
                                //heart.Segments.image_length = imgProgress.image_length;
                                heart.Segments.image_length = 6;
                                heart.Segments.X = imgProgress.X;
                                heart.Segments.Y = imgProgress.Y;
                                heart.Segments.visible = true;
                                heart.Segments.position = offset;
                                if (imgProgress.image_length != 6)
                                    MessageBox.Show(Properties.FormStrings.Message_HR_Image_Count_Error,
                                        Properties.FormStrings.Message_Warning_Caption, MessageBoxButtons.OK, MessageBoxIcon.Information);
                            }
                        }

                        if (imgProgress.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                //if (steps.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Segments = new hmUI_widget_IMG_PROGRESS();
                                pai.Segments.img_First = imgProgress.img_First;
                                pai.Segments.image_length = imgProgress.image_length;
                                pai.Segments.X = imgProgress.X;
                                pai.Segments.Y = imgProgress.Y;
                                pai.Segments.visible = true;
                                pai.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                //if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Segments = new hmUI_widget_IMG_PROGRESS();
                                stand.Segments.img_First = imgProgress.img_First;
                                stand.Segments.image_length = imgProgress.image_length;
                                stand.Segments.X = imgProgress.X;
                                stand.Segments.Y = imgProgress.Y;
                                stand.Segments.visible = true;
                                stand.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                //if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Segments = new hmUI_widget_IMG_PROGRESS();
                                activity.Segments.img_First = imgProgress.img_First;
                                activity.Segments.image_length = imgProgress.image_length;
                                activity.Segments.X = imgProgress.X;
                                activity.Segments.Y = imgProgress.Y;
                                activity.Segments.visible = true;
                                activity.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                if (stress.Images != null) offset++;
                                //if (stress.Segments != null) offset++;
                                if (stress.Number != null) offset++;
                                if (stress.Number_Font != null) offset++;
                                if (stress.Pointer != null) offset++;
                                if (stress.Icon != null) offset++;

                                stress.Segments = new hmUI_widget_IMG_PROGRESS();
                                stress.Segments.img_First = imgProgress.img_First;
                                stress.Segments.image_length = imgProgress.image_length;
                                stress.Segments.X = imgProgress.X;
                                stress.Segments.Y = imgProgress.Y;
                                stress.Segments.visible = true;
                                stress.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                //if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Segments = new hmUI_widget_IMG_PROGRESS();
                                fat_burning.Segments.img_First = imgProgress.img_First;
                                fat_burning.Segments.image_length = imgProgress.image_length;
                                fat_burning.Segments.X = imgProgress.X;
                                fat_burning.Segments.Y = imgProgress.Y;
                                fat_burning.Segments.visible = true;
                                fat_burning.Segments.position = offset;
                            }
                        }



                        if (imgProgress.type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                if (uv_index.Images != null) offset++;
                                //if (uv_index.Segments != null) offset++;
                                if (uv_index.Number != null) offset++;
                                if (uv_index.Number_Font != null) offset++;
                                if (uv_index.Pointer != null) offset++;
                                if (uv_index.Icon != null) offset++;

                                uv_index.Segments = new hmUI_widget_IMG_PROGRESS();
                                uv_index.Segments.img_First = imgProgress.img_First;
                                uv_index.Segments.image_length = imgProgress.image_length;
                                uv_index.Segments.X = imgProgress.X;
                                uv_index.Segments.Y = imgProgress.Y;
                                uv_index.Segments.visible = true;
                                uv_index.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                if (humidity.Images != null) offset++;
                                //if (humidity.Segments != null) offset++;
                                if (humidity.Number != null) offset++;
                                if (humidity.Number_Font != null) offset++;
                                if (humidity.Pointer != null) offset++;
                                if (humidity.Icon != null) offset++;

                                humidity.Segments = new hmUI_widget_IMG_PROGRESS();
                                humidity.Segments.img_First = imgProgress.img_First;
                                humidity.Segments.image_length = imgProgress.image_length;
                                humidity.Segments.X = imgProgress.X;
                                humidity.Segments.Y = imgProgress.Y;
                                humidity.Segments.visible = true;
                                humidity.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "SUN_CURRENT")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                //if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Segments = new hmUI_widget_IMG_PROGRESS();
                                sunrise.Segments.img_First = imgProgress.img_First;
                                sunrise.Segments.image_length = imgProgress.image_length;
                                sunrise.Segments.X = imgProgress.X;
                                sunrise.Segments.Y = imgProgress.Y;
                                sunrise.Segments.visible = true;
                                sunrise.Segments.position = offset;
                            }
                        }

                        if (imgProgress.type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                //if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Segments = new hmUI_widget_IMG_PROGRESS();
                                wind.Segments.img_First = imgProgress.img_First;
                                wind.Segments.image_length = imgProgress.image_length;
                                wind.Segments.X = imgProgress.X;
                                wind.Segments.Y = imgProgress.Y;
                                wind.Segments.visible = true;
                                wind.Segments.position = offset;
                            }
                        }


                        break;
                    #endregion

                    #region TEXT_IMG
                    case "TEXT_IMG":
                        hmUI_widget_IMG_NUMBER imgNumber = Object_IMG_NUMBER(parametrs);

                        if (imgNumber.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Number = new hmUI_widget_IMG_NUMBER();
                                steps.Number.img_First = imgNumber.img_First;
                                steps.Number.imageX = imgNumber.imageX;
                                steps.Number.imageY = imgNumber.imageY;
                                steps.Number.space = imgNumber.space;
                                steps.Number.angle = imgNumber.angle;
                                steps.Number.zero = imgNumber.zero;
                                steps.Number.unit = imgNumber.unit;
                                steps.Number.imperial_unit = imgNumber.imperial_unit;
                                steps.Number.negative_image = imgNumber.negative_image;
                                steps.Number.invalid_image = imgNumber.invalid_image;
                                steps.Number.dot_image = imgNumber.dot_image;
                                steps.Number.align = imgNumber.align;
                                steps.Number.visible = true;
                                steps.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "STEP_TARGET")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                //if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Number_Target = new hmUI_widget_IMG_NUMBER();
                                steps.Number_Target.img_First = imgNumber.img_First;
                                steps.Number_Target.imageX = imgNumber.imageX;
                                steps.Number_Target.imageY = imgNumber.imageY;
                                steps.Number_Target.space = imgNumber.space;
                                steps.Number_Target.angle = imgNumber.angle;
                                steps.Number_Target.zero = imgNumber.zero;
                                steps.Number_Target.unit = imgNumber.unit;
                                steps.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                steps.Number_Target.negative_image = imgNumber.negative_image;
                                steps.Number_Target.invalid_image = imgNumber.invalid_image;
                                steps.Number_Target.dot_image = imgNumber.dot_image;
                                steps.Number_Target.align = imgNumber.align;
                                steps.Number_Target.visible = true;
                                steps.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Number = new hmUI_widget_IMG_NUMBER();
                                battery.Number.img_First = imgNumber.img_First;
                                battery.Number.imageX = imgNumber.imageX;
                                battery.Number.imageY = imgNumber.imageY;
                                battery.Number.space = imgNumber.space;
                                battery.Number.angle = imgNumber.angle;
                                battery.Number.zero = imgNumber.zero;
                                battery.Number.unit = imgNumber.unit;
                                battery.Number.imperial_unit = imgNumber.imperial_unit;
                                battery.Number.negative_image = imgNumber.negative_image;
                                battery.Number.invalid_image = imgNumber.invalid_image;
                                battery.Number.dot_image = imgNumber.dot_image;
                                battery.Number.align = imgNumber.align;
                                battery.Number.visible = true;
                                battery.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Number = new hmUI_widget_IMG_NUMBER();
                                calorie.Number.img_First = imgNumber.img_First;
                                calorie.Number.imageX = imgNumber.imageX;
                                calorie.Number.imageY = imgNumber.imageY;
                                calorie.Number.space = imgNumber.space;
                                calorie.Number.angle = imgNumber.angle;
                                calorie.Number.zero = imgNumber.zero;
                                calorie.Number.unit = imgNumber.unit;
                                calorie.Number.imperial_unit = imgNumber.imperial_unit;
                                calorie.Number.negative_image = imgNumber.negative_image;
                                calorie.Number.invalid_image = imgNumber.invalid_image;
                                calorie.Number.dot_image = imgNumber.dot_image;
                                calorie.Number.align = imgNumber.align;
                                calorie.Number.visible = true;
                                calorie.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "CAL_TARGET")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                //if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Number_Target = new hmUI_widget_IMG_NUMBER();
                                calorie.Number_Target.img_First = imgNumber.img_First;
                                calorie.Number_Target.imageX = imgNumber.imageX;
                                calorie.Number_Target.imageY = imgNumber.imageY;
                                calorie.Number_Target.space = imgNumber.space;
                                calorie.Number_Target.angle = imgNumber.angle;
                                calorie.Number_Target.zero = imgNumber.zero;
                                calorie.Number_Target.unit = imgNumber.unit;
                                calorie.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                calorie.Number_Target.negative_image = imgNumber.negative_image;
                                calorie.Number_Target.invalid_image = imgNumber.invalid_image;
                                calorie.Number_Target.dot_image = imgNumber.dot_image;
                                calorie.Number_Target.align = imgNumber.align;
                                calorie.Number_Target.visible = true;
                                calorie.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Number = new hmUI_widget_IMG_NUMBER();
                                heart.Number.img_First = imgNumber.img_First;
                                heart.Number.imageX = imgNumber.imageX;
                                heart.Number.imageY = imgNumber.imageY;
                                heart.Number.space = imgNumber.space;
                                heart.Number.angle = imgNumber.angle;
                                heart.Number.zero = imgNumber.zero;
                                heart.Number.unit = imgNumber.unit;
                                heart.Number.imperial_unit = imgNumber.imperial_unit;
                                heart.Number.negative_image = imgNumber.negative_image;
                                heart.Number.invalid_image = imgNumber.invalid_image;
                                heart.Number.dot_image = imgNumber.dot_image;
                                heart.Number.align = imgNumber.align;
                                heart.Number.visible = true;
                                heart.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "PAI_DAILY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Number = new hmUI_widget_IMG_NUMBER();
                                pai.Number.img_First = imgNumber.img_First;
                                pai.Number.imageX = imgNumber.imageX;
                                pai.Number.imageY = imgNumber.imageY;
                                pai.Number.space = imgNumber.space;
                                pai.Number.angle = imgNumber.angle;
                                pai.Number.zero = imgNumber.zero;
                                pai.Number.unit = imgNumber.unit;
                                pai.Number.imperial_unit = imgNumber.imperial_unit;
                                pai.Number.negative_image = imgNumber.negative_image;
                                pai.Number.invalid_image = imgNumber.invalid_image;
                                pai.Number.dot_image = imgNumber.dot_image;
                                pai.Number.align = imgNumber.align;
                                pai.Number.visible = true;
                                pai.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                //if (steps.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Number_Target = new hmUI_widget_IMG_NUMBER();
                                pai.Number_Target.img_First = imgNumber.img_First;
                                pai.Number_Target.imageX = imgNumber.imageX;
                                pai.Number_Target.imageY = imgNumber.imageY;
                                pai.Number_Target.space = imgNumber.space;
                                pai.Number_Target.angle = imgNumber.angle;
                                pai.Number_Target.zero = imgNumber.zero;
                                pai.Number_Target.unit = imgNumber.unit;
                                pai.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                pai.Number_Target.negative_image = imgNumber.negative_image;
                                pai.Number_Target.invalid_image = imgNumber.invalid_image;
                                pai.Number_Target.dot_image = imgNumber.dot_image;
                                pai.Number_Target.align = imgNumber.align;
                                pai.Number_Target.visible = true;
                                pai.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "DISTANCE")
                        {
                            ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            if (distance == null)
                            {
                                elementsList.Add(new ElementDistance());
                                distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            }
                            if (distance != null)
                            {
                                int offset = 1;
                                //if (distance.Number != null) offset++;
                                if (distance.Number_Font != null) offset++;
                                if (distance.Text_rotation != null) offset++;
                                if (distance.Text_circle != null) offset++;
                                if (distance.Icon != null) offset++;

                                distance.Number = new hmUI_widget_IMG_NUMBER();
                                distance.Number.img_First = imgNumber.img_First;
                                distance.Number.imageX = imgNumber.imageX;
                                distance.Number.imageY = imgNumber.imageY;
                                distance.Number.space = imgNumber.space;
                                distance.Number.angle = imgNumber.angle;
                                distance.Number.zero = imgNumber.zero;
                                distance.Number.unit = imgNumber.unit;
                                distance.Number.imperial_unit = imgNumber.imperial_unit;
                                distance.Number.negative_image = imgNumber.negative_image;
                                distance.Number.invalid_image = imgNumber.invalid_image;
                                distance.Number.dot_image = imgNumber.dot_image;
                                distance.Number.align = imgNumber.align;
                                distance.Number.visible = true;
                                distance.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                //if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Number = new hmUI_widget_IMG_NUMBER();
                                stand.Number.img_First = imgNumber.img_First;
                                stand.Number.imageX = imgNumber.imageX;
                                stand.Number.imageY = imgNumber.imageY;
                                stand.Number.space = imgNumber.space;
                                stand.Number.angle = imgNumber.angle;
                                stand.Number.zero = imgNumber.zero;
                                stand.Number.unit = imgNumber.unit;
                                stand.Number.imperial_unit = imgNumber.imperial_unit;
                                stand.Number.negative_image = imgNumber.negative_image;
                                stand.Number.invalid_image = imgNumber.invalid_image;
                                stand.Number.dot_image = imgNumber.dot_image;
                                stand.Number.align = imgNumber.align;
                                stand.Number.visible = true;
                                stand.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "STAND_TARGET")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                //if (stend,Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Number_Target = new hmUI_widget_IMG_NUMBER();
                                stand.Number_Target.img_First = imgNumber.img_First;
                                stand.Number_Target.imageX = imgNumber.imageX;
                                stand.Number_Target.imageY = imgNumber.imageY;
                                stand.Number_Target.space = imgNumber.space;
                                stand.Number_Target.angle = imgNumber.angle;
                                stand.Number_Target.zero = imgNumber.zero;
                                stand.Number_Target.unit = imgNumber.unit;
                                stand.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                stand.Number_Target.negative_image = imgNumber.negative_image;
                                stand.Number_Target.invalid_image = imgNumber.invalid_image;
                                stand.Number_Target.dot_image = imgNumber.dot_image;
                                stand.Number_Target.align = imgNumber.align;
                                stand.Number_Target.visible = true;
                                stand.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                //if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Number = new hmUI_widget_IMG_NUMBER();
                                activity.Number.img_First = imgNumber.img_First;
                                activity.Number.imageX = imgNumber.imageX;
                                activity.Number.imageY = imgNumber.imageY;
                                activity.Number.space = imgNumber.space;
                                activity.Number.angle = imgNumber.angle;
                                activity.Number.zero = imgNumber.zero;
                                activity.Number.unit = imgNumber.unit;
                                activity.Number.imperial_unit = imgNumber.imperial_unit;
                                activity.Number.negative_image = imgNumber.negative_image;
                                activity.Number.invalid_image = imgNumber.invalid_image;
                                activity.Number.dot_image = imgNumber.dot_image;
                                activity.Number.align = imgNumber.align;
                                activity.Number.visible = true;
                                activity.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "ACTIVITY_TARGET")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                //if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Number_Target = new hmUI_widget_IMG_NUMBER();
                                activity.Number_Target.img_First = imgNumber.img_First;
                                activity.Number_Target.imageX = imgNumber.imageX;
                                activity.Number_Target.imageY = imgNumber.imageY;
                                activity.Number_Target.space = imgNumber.space;
                                activity.Number_Target.angle = imgNumber.angle;
                                activity.Number_Target.zero = imgNumber.zero;
                                activity.Number_Target.unit = imgNumber.unit;
                                activity.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                activity.Number_Target.negative_image = imgNumber.negative_image;
                                activity.Number_Target.invalid_image = imgNumber.invalid_image;
                                activity.Number_Target.dot_image = imgNumber.dot_image;
                                activity.Number_Target.align = imgNumber.align;
                                activity.Number_Target.visible = true;
                                activity.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "SPO2")
                        {
                            ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            if (spo2 == null)
                            {
                                elementsList.Add(new ElementSpO2());
                                spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            }
                            if (spo2 != null)
                            {
                                int offset = 1;
                                //if (spo2.Number != null) offset++;
                                if (spo2.Number_Font != null) offset++;
                                if (spo2.Text_rotation != null) offset++;
                                if (spo2.Text_circle != null) offset++;
                                if (spo2.Icon != null) offset++;

                                spo2.Number = new hmUI_widget_IMG_NUMBER();
                                spo2.Number.img_First = imgNumber.img_First;
                                spo2.Number.imageX = imgNumber.imageX;
                                spo2.Number.imageY = imgNumber.imageY;
                                spo2.Number.space = imgNumber.space;
                                spo2.Number.angle = imgNumber.angle;
                                spo2.Number.zero = imgNumber.zero;
                                spo2.Number.unit = imgNumber.unit;
                                spo2.Number.imperial_unit = imgNumber.imperial_unit;
                                spo2.Number.negative_image = imgNumber.negative_image;
                                spo2.Number.invalid_image = imgNumber.invalid_image;
                                spo2.Number.dot_image = imgNumber.dot_image;
                                spo2.Number.align = imgNumber.align;
                                spo2.Number.visible = true;
                                spo2.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                if (stress.Images != null) offset++;
                                if (stress.Segments != null) offset++;
                                //if (stress.Number != null) offset++;
                                if (stress.Number_Font != null) offset++;
                                if (stress.Pointer != null) offset++;
                                if (stress.Icon != null) offset++;

                                stress.Number = new hmUI_widget_IMG_NUMBER();
                                stress.Number.img_First = imgNumber.img_First;
                                stress.Number.imageX = imgNumber.imageX;
                                stress.Number.imageY = imgNumber.imageY;
                                stress.Number.space = imgNumber.space;
                                stress.Number.angle = imgNumber.angle;
                                stress.Number.zero = imgNumber.zero;
                                stress.Number.unit = imgNumber.unit;
                                stress.Number.imperial_unit = imgNumber.imperial_unit;
                                stress.Number.negative_image = imgNumber.negative_image;
                                stress.Number.invalid_image = imgNumber.invalid_image;
                                stress.Number.dot_image = imgNumber.dot_image;
                                stress.Number.align = imgNumber.align;
                                stress.Number.visible = true;
                                stress.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                //if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Number = new hmUI_widget_IMG_NUMBER();
                                fat_burning.Number.img_First = imgNumber.img_First;
                                fat_burning.Number.imageX = imgNumber.imageX;
                                fat_burning.Number.imageY = imgNumber.imageY;
                                fat_burning.Number.space = imgNumber.space;
                                fat_burning.Number.angle = imgNumber.angle;
                                fat_burning.Number.zero = imgNumber.zero;
                                fat_burning.Number.unit = imgNumber.unit;
                                fat_burning.Number.imperial_unit = imgNumber.imperial_unit;
                                fat_burning.Number.negative_image = imgNumber.negative_image;
                                fat_burning.Number.invalid_image = imgNumber.invalid_image;
                                fat_burning.Number.dot_image = imgNumber.dot_image;
                                fat_burning.Number.align = imgNumber.align;
                                fat_burning.Number.visible = true;
                                fat_burning.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "FAT_BURNING_TARGET")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                //if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Number_Target = new hmUI_widget_IMG_NUMBER();
                                fat_burning.Number_Target.img_First = imgNumber.img_First;
                                fat_burning.Number_Target.imageX = imgNumber.imageX;
                                fat_burning.Number_Target.imageY = imgNumber.imageY;
                                fat_burning.Number_Target.space = imgNumber.space;
                                fat_burning.Number_Target.angle = imgNumber.angle;
                                fat_burning.Number_Target.zero = imgNumber.zero;
                                fat_burning.Number_Target.unit = imgNumber.unit;
                                fat_burning.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                fat_burning.Number_Target.negative_image = imgNumber.negative_image;
                                fat_burning.Number_Target.invalid_image = imgNumber.invalid_image;
                                fat_burning.Number_Target.dot_image = imgNumber.dot_image;
                                fat_burning.Number_Target.align = imgNumber.align;
                                fat_burning.Number_Target.visible = true;
                                fat_burning.Number_Target.position = offset;
                            }
                        }



                        /*if (imgNumber.type == "WEATHER_CURRENT")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                //if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number = new hmUI_widget_IMG_NUMBER();
                                weather.Number.img_First = imgNumber.img_First;
                                weather.Number.imageX = imgNumber.imageX;
                                weather.Number.imageY = imgNumber.imageY;
                                weather.Number.space = imgNumber.space;
                                weather.Number.angle = imgNumber.angle;
                                weather.Number.zero = imgNumber.zero;
                                weather.Number.unit = imgNumber.unit;
                                weather.Number.imperial_unit = imgNumber.imperial_unit;
                                weather.Number.negative_image = imgNumber.negative_image;
                                weather.Number.invalid_image = imgNumber.invalid_image;
                                weather.Number.dot_image = imgNumber.dot_image;
                                weather.Number.align = imgNumber.align;
                                weather.Number.visible = true;
                                weather.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "WEATHER_LOW")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                //if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Min = new hmUI_widget_IMG_NUMBER();
                                weather.Number_Min.img_First = imgNumber.img_First;
                                weather.Number_Min.imageX = imgNumber.imageX;
                                weather.Number_Min.imageY = imgNumber.imageY;
                                weather.Number_Min.space = imgNumber.space;
                                weather.Number_Min.angle = imgNumber.angle;
                                weather.Number_Min.zero = imgNumber.zero;
                                weather.Number_Min.unit = imgNumber.unit;
                                weather.Number_Min.imperial_unit = imgNumber.imperial_unit;
                                weather.Number_Min.negative_image = imgNumber.negative_image;
                                weather.Number_Min.invalid_image = imgNumber.invalid_image;
                                weather.Number_Min.dot_image = imgNumber.dot_image;
                                weather.Number_Min.align = imgNumber.align;
                                weather.Number_Min.visible = true;
                                weather.Number_Min.position = offset;
                            }
                        }

                        if (imgNumber.type == "WEATHER_HIGH")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                //if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Max = new hmUI_widget_IMG_NUMBER();
                                weather.Number_Max.img_First = imgNumber.img_First;
                                weather.Number_Max.imageX = imgNumber.imageX;
                                weather.Number_Max.imageY = imgNumber.imageY;
                                weather.Number_Max.space = imgNumber.space;
                                weather.Number_Max.angle = imgNumber.angle;
                                weather.Number_Max.zero = imgNumber.zero;
                                weather.Number_Max.unit = imgNumber.unit;
                                weather.Number_Max.imperial_unit = imgNumber.imperial_unit;
                                weather.Number_Max.negative_image = imgNumber.negative_image;
                                weather.Number_Max.invalid_image = imgNumber.invalid_image;
                                weather.Number_Max.dot_image = imgNumber.dot_image;
                                weather.Number_Max.align = imgNumber.align;
                                weather.Number_Max.visible = true;
                                weather.Number_Max.position = offset;
                            }
                        }*/

                        if (imgNumber.type == "WEATHER_CURRENT")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Current == null) weather.Group_Current = new WeatherGroup();
                                int offset = 1;
                                //if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Current.Number = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Current.Number.img_First = imgNumber.img_First;
                                weather.Group_Current.Number.imageX = imgNumber.imageX;
                                weather.Group_Current.Number.imageY = imgNumber.imageY;
                                weather.Group_Current.Number.space = imgNumber.space;
                                weather.Group_Current.Number.angle = imgNumber.angle;
                                weather.Group_Current.Number.zero = imgNumber.zero;
                                weather.Group_Current.Number.unit = imgNumber.unit;
                                weather.Group_Current.Number.imperial_unit = imgNumber.imperial_unit;
                                weather.Group_Current.Number.negative_image = imgNumber.negative_image;
                                weather.Group_Current.Number.invalid_image = imgNumber.invalid_image;
                                weather.Group_Current.Number.dot_image = imgNumber.dot_image;
                                weather.Group_Current.Number.align = imgNumber.align;
                                weather.Group_Current.Number.visible = true;
                                //weather.Group_Current.Number.position = offset;

                                if (weather.Group_Current.position < 0) weather.Group_Current.position = offset;
                            }
                        }

                        if (imgNumber.type == "WEATHER_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Min == null) weather.Group_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                //if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Min.Number = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Min.Number.img_First = imgNumber.img_First;
                                weather.Group_Min.Number.imageX = imgNumber.imageX;
                                weather.Group_Min.Number.imageY = imgNumber.imageY;
                                weather.Group_Min.Number.space = imgNumber.space;
                                weather.Group_Min.Number.angle = imgNumber.angle;
                                weather.Group_Min.Number.zero = imgNumber.zero;
                                weather.Group_Min.Number.unit = imgNumber.unit;
                                weather.Group_Min.Number.imperial_unit = imgNumber.imperial_unit;
                                weather.Group_Min.Number.negative_image = imgNumber.negative_image;
                                weather.Group_Min.Number.invalid_image = imgNumber.invalid_image;
                                weather.Group_Min.Number.dot_image = imgNumber.dot_image;
                                weather.Group_Min.Number.align = imgNumber.align;
                                weather.Group_Min.Number.visible = true;
                                //weather.Group_Min.Number.position = offset;

                                if (weather.Group_Min.position < 0) weather.Group_Min.position = offset;
                            }
                        }

                        if (imgNumber.type == "WEATHER_HIGH")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max == null) weather.Group_Max = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                //if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max.Number = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Max.Number.img_First = imgNumber.img_First;
                                weather.Group_Max.Number.imageX = imgNumber.imageX;
                                weather.Group_Max.Number.imageY = imgNumber.imageY;
                                weather.Group_Max.Number.space = imgNumber.space;
                                weather.Group_Max.Number.angle = imgNumber.angle;
                                weather.Group_Max.Number.zero = imgNumber.zero;
                                weather.Group_Max.Number.unit = imgNumber.unit;
                                weather.Group_Max.Number.imperial_unit = imgNumber.imperial_unit;
                                weather.Group_Max.Number.negative_image = imgNumber.negative_image;
                                weather.Group_Max.Number.invalid_image = imgNumber.invalid_image;
                                weather.Group_Max.Number.dot_image = imgNumber.dot_image;
                                weather.Group_Max.Number.align = imgNumber.align;
                                weather.Group_Max.Number.visible = true;
                                //weather.Group_Max.Number.position = offset;

                                if (weather.Group_Max.position < 0) weather.Group_Max.position = offset;
                            }
                        }

                        if (imgNumber.type == "WEATHER_HIGH_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max_Min == null) weather.Group_Max_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                //if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max_Min.Number = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Max_Min.Number.img_First = imgNumber.img_First;
                                weather.Group_Max_Min.Number.imageX = imgNumber.imageX;
                                weather.Group_Max_Min.Number.imageY = imgNumber.imageY;
                                weather.Group_Max_Min.Number.space = imgNumber.space;
                                weather.Group_Max_Min.Number.angle = imgNumber.angle;
                                weather.Group_Max_Min.Number.zero = imgNumber.zero;
                                weather.Group_Max_Min.Number.unit = imgNumber.unit;
                                weather.Group_Max_Min.Number.imperial_unit = imgNumber.imperial_unit;
                                weather.Group_Max_Min.Number.negative_image = imgNumber.negative_image;
                                weather.Group_Max_Min.Number.invalid_image = imgNumber.invalid_image;
                                weather.Group_Max_Min.Number.dot_image = imgNumber.dot_image;
                                weather.Group_Max_Min.Number.align = imgNumber.align;
                                weather.Group_Max_Min.Number.visible = true;
                                //weather.Group_Max_Min.Number.position = offset;

                                if (weather.Group_Max_Min.position < 0) weather.Group_Max_Min.position = offset;
                            }
                        }

                        if (imgNumber.type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                if (uv_index.Images != null) offset++;
                                if (uv_index.Segments != null) offset++;
                                //if (uv_index.Number != null) offset++;
                                if (uv_index.Number_Font != null) offset++;
                                if (uv_index.Pointer != null) offset++;
                                if (uv_index.Icon != null) offset++;

                                uv_index.Number = new hmUI_widget_IMG_NUMBER();
                                uv_index.Number.img_First = imgNumber.img_First;
                                uv_index.Number.imageX = imgNumber.imageX;
                                uv_index.Number.imageY = imgNumber.imageY;
                                uv_index.Number.space = imgNumber.space;
                                uv_index.Number.angle = imgNumber.angle;
                                uv_index.Number.zero = imgNumber.zero;
                                uv_index.Number.unit = imgNumber.unit;
                                uv_index.Number.imperial_unit = imgNumber.imperial_unit;
                                uv_index.Number.negative_image = imgNumber.negative_image;
                                uv_index.Number.invalid_image = imgNumber.invalid_image;
                                uv_index.Number.dot_image = imgNumber.dot_image;
                                uv_index.Number.align = imgNumber.align;
                                uv_index.Number.visible = true;
                                uv_index.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                if (humidity.Images != null) offset++;
                                if (humidity.Segments != null) offset++;
                                //if (humidity.Number != null) offset++;
                                if (humidity.Number_Font != null) offset++;
                                if (humidity.Pointer != null) offset++;
                                if (humidity.Icon != null) offset++;

                                humidity.Number = new hmUI_widget_IMG_NUMBER();
                                humidity.Number.img_First = imgNumber.img_First;
                                humidity.Number.imageX = imgNumber.imageX;
                                humidity.Number.imageY = imgNumber.imageY;
                                humidity.Number.space = imgNumber.space;
                                humidity.Number.angle = imgNumber.angle;
                                humidity.Number.zero = imgNumber.zero;
                                humidity.Number.unit = imgNumber.unit;
                                humidity.Number.imperial_unit = imgNumber.imperial_unit;
                                humidity.Number.negative_image = imgNumber.negative_image;
                                humidity.Number.invalid_image = imgNumber.invalid_image;
                                humidity.Number.dot_image = imgNumber.dot_image;
                                humidity.Number.align = imgNumber.align;
                                humidity.Number.visible = true;
                                humidity.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "ALTIMETER")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                //if (altimeter.Number != null) offset++;
                                if (altimeter.Number_Font != null) offset++;
                                if (altimeter.Number_Target != null) offset++;
                                if (altimeter.Number_Target_Font != null) offset++;
                                if (altimeter.Pointer != null) offset++;
                                if (altimeter.Icon != null) offset++;

                                altimeter.Number = new hmUI_widget_IMG_NUMBER();
                                altimeter.Number.img_First = imgNumber.img_First;
                                altimeter.Number.imageX = imgNumber.imageX;
                                altimeter.Number.imageY = imgNumber.imageY;
                                altimeter.Number.space = imgNumber.space;
                                altimeter.Number.angle = imgNumber.angle;
                                altimeter.Number.zero = imgNumber.zero;
                                altimeter.Number.unit = imgNumber.unit;
                                altimeter.Number.imperial_unit = imgNumber.imperial_unit;
                                altimeter.Number.negative_image = imgNumber.negative_image;
                                altimeter.Number.invalid_image = imgNumber.invalid_image;
                                altimeter.Number.dot_image = imgNumber.dot_image;
                                altimeter.Number.align = imgNumber.align;
                                altimeter.Number.visible = true;
                                altimeter.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "ALTITUDE")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                if (altimeter.Number != null) offset++;
                                if (altimeter.Number_Font != null) offset++;
                                //if (altimeter.Number_Target != null) offset++;
                                if (altimeter.Number_Target_Font != null) offset++;
                                if (altimeter.Pointer != null) offset++;
                                if (altimeter.Icon != null) offset++;

                                altimeter.Number_Target = new hmUI_widget_IMG_NUMBER();
                                altimeter.Number_Target.img_First = imgNumber.img_First;
                                altimeter.Number_Target.imageX = imgNumber.imageX;
                                altimeter.Number_Target.imageY = imgNumber.imageY;
                                altimeter.Number_Target.space = imgNumber.space;
                                altimeter.Number_Target.angle = imgNumber.angle;
                                altimeter.Number_Target.zero = imgNumber.zero;
                                altimeter.Number_Target.unit = imgNumber.unit;
                                altimeter.Number_Target.imperial_unit = imgNumber.imperial_unit;
                                altimeter.Number_Target.negative_image = imgNumber.negative_image;
                                altimeter.Number_Target.invalid_image = imgNumber.invalid_image;
                                altimeter.Number_Target.dot_image = imgNumber.dot_image;
                                altimeter.Number_Target.align = imgNumber.align;
                                altimeter.Number_Target.visible = true;
                                altimeter.Number_Target.position = offset;
                            }
                        }

                        if (imgNumber.type == "SUN_RISE")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                //if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunrise = new hmUI_widget_IMG_NUMBER();
                                sunrise.Sunrise.img_First = imgNumber.img_First;
                                sunrise.Sunrise.imageX = imgNumber.imageX;
                                sunrise.Sunrise.imageY = imgNumber.imageY;
                                sunrise.Sunrise.space = imgNumber.space;
                                sunrise.Sunrise.angle = imgNumber.angle;
                                sunrise.Sunrise.zero = imgNumber.zero;
                                sunrise.Sunrise.unit = imgNumber.unit;
                                sunrise.Sunrise.imperial_unit = imgNumber.imperial_unit;
                                sunrise.Sunrise.negative_image = imgNumber.negative_image;
                                sunrise.Sunrise.invalid_image = imgNumber.invalid_image;
                                sunrise.Sunrise.dot_image = imgNumber.dot_image;
                                sunrise.Sunrise.align = imgNumber.align;
                                sunrise.Sunrise.visible = true;
                                sunrise.Sunrise.position = offset;
                            }
                        }

                        if (imgNumber.type == "SUN_SET")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                //if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunset = new hmUI_widget_IMG_NUMBER();
                                sunrise.Sunset.img_First = imgNumber.img_First;
                                sunrise.Sunset.imageX = imgNumber.imageX;
                                sunrise.Sunset.imageY = imgNumber.imageY;
                                sunrise.Sunset.space = imgNumber.space;
                                sunrise.Sunset.angle = imgNumber.angle;
                                sunrise.Sunset.zero = imgNumber.zero;
                                sunrise.Sunset.unit = imgNumber.unit;
                                sunrise.Sunset.imperial_unit = imgNumber.imperial_unit;
                                sunrise.Sunset.negative_image = imgNumber.negative_image;
                                sunrise.Sunset.invalid_image = imgNumber.invalid_image;
                                sunrise.Sunset.dot_image = imgNumber.dot_image;
                                sunrise.Sunset.align = imgNumber.align;
                                sunrise.Sunset.visible = true;
                                sunrise.Sunset.position = offset;
                            }
                        }

                        if (imgNumber.type == "SUN_CURRENT")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                //if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunset_Sunrise = new hmUI_widget_IMG_NUMBER();
                                sunrise.Sunset_Sunrise.img_First = imgNumber.img_First;
                                sunrise.Sunset_Sunrise.imageX = imgNumber.imageX;
                                sunrise.Sunset_Sunrise.imageY = imgNumber.imageY;
                                sunrise.Sunset_Sunrise.space = imgNumber.space;
                                sunrise.Sunset_Sunrise.angle = imgNumber.angle;
                                sunrise.Sunset_Sunrise.zero = imgNumber.zero;
                                sunrise.Sunset_Sunrise.unit = imgNumber.unit;
                                sunrise.Sunset_Sunrise.imperial_unit = imgNumber.imperial_unit;
                                sunrise.Sunset_Sunrise.negative_image = imgNumber.negative_image;
                                sunrise.Sunset_Sunrise.invalid_image = imgNumber.invalid_image;
                                sunrise.Sunset_Sunrise.dot_image = imgNumber.dot_image;
                                sunrise.Sunset_Sunrise.align = imgNumber.align;
                                sunrise.Sunset_Sunrise.visible = true;
                                sunrise.Sunset_Sunrise.position = offset;
                            }
                        }

                        if (imgNumber.type == "MOON_RISE")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                //if (moon.Sunrise != null) offset++;
                                if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Sunrise = new hmUI_widget_IMG_NUMBER();
                                moon.Sunrise.img_First = imgNumber.img_First;
                                moon.Sunrise.imageX = imgNumber.imageX;
                                moon.Sunrise.imageY = imgNumber.imageY;
                                moon.Sunrise.space = imgNumber.space;
                                moon.Sunrise.angle = imgNumber.angle;
                                moon.Sunrise.zero = imgNumber.zero;
                                moon.Sunrise.unit = imgNumber.unit;
                                moon.Sunrise.imperial_unit = imgNumber.imperial_unit;
                                moon.Sunrise.negative_image = imgNumber.negative_image;
                                moon.Sunrise.invalid_image = imgNumber.invalid_image;
                                moon.Sunrise.dot_image = imgNumber.dot_image;
                                moon.Sunrise.align = imgNumber.align;
                                moon.Sunrise.visible = true;
                                moon.Sunrise.position = offset;
                            }
                        }

                        if (imgNumber.type == "MOON_SET")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                //if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Sunset = new hmUI_widget_IMG_NUMBER();
                                moon.Sunset.img_First = imgNumber.img_First;
                                moon.Sunset.imageX = imgNumber.imageX;
                                moon.Sunset.imageY = imgNumber.imageY;
                                moon.Sunset.space = imgNumber.space;
                                moon.Sunset.angle = imgNumber.angle;
                                moon.Sunset.zero = imgNumber.zero;
                                moon.Sunset.unit = imgNumber.unit;
                                moon.Sunset.imperial_unit = imgNumber.imperial_unit;
                                moon.Sunset.negative_image = imgNumber.negative_image;
                                moon.Sunset.invalid_image = imgNumber.invalid_image;
                                moon.Sunset.dot_image = imgNumber.dot_image;
                                moon.Sunset.align = imgNumber.align;
                                moon.Sunset.visible = true;
                                moon.Sunset.position = offset;
                            }
                        }

                        if (imgNumber.type == "MOON_CURRENT")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                if (moon.Sunset != null) offset++;
                                //if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Sunset_Sunrise = new hmUI_widget_IMG_NUMBER();
                                moon.Sunset_Sunrise.img_First = imgNumber.img_First;
                                moon.Sunset_Sunrise.imageX = imgNumber.imageX;
                                moon.Sunset_Sunrise.imageY = imgNumber.imageY;
                                moon.Sunset_Sunrise.space = imgNumber.space;
                                moon.Sunset_Sunrise.angle = imgNumber.angle;
                                moon.Sunset_Sunrise.zero = imgNumber.zero;
                                moon.Sunset_Sunrise.unit = imgNumber.unit;
                                moon.Sunset_Sunrise.imperial_unit = imgNumber.imperial_unit;
                                moon.Sunset_Sunrise.negative_image = imgNumber.negative_image;
                                moon.Sunset_Sunrise.invalid_image = imgNumber.invalid_image;
                                moon.Sunset_Sunrise.dot_image = imgNumber.dot_image;
                                moon.Sunset_Sunrise.align = imgNumber.align;
                                moon.Sunset_Sunrise.visible = true;
                                moon.Sunset_Sunrise.position = offset;
                            }
                        }

                        if (imgNumber.type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                //if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Number = new hmUI_widget_IMG_NUMBER();
                                wind.Number.img_First = imgNumber.img_First;
                                wind.Number.imageX = imgNumber.imageX;
                                wind.Number.imageY = imgNumber.imageY;
                                wind.Number.space = imgNumber.space;
                                wind.Number.angle = imgNumber.angle;
                                wind.Number.zero = imgNumber.zero;
                                wind.Number.unit = imgNumber.unit;
                                wind.Number.imperial_unit = imgNumber.imperial_unit;
                                wind.Number.negative_image = imgNumber.negative_image;
                                wind.Number.invalid_image = imgNumber.invalid_image;
                                wind.Number.dot_image = imgNumber.dot_image;
                                wind.Number.align = imgNumber.align;
                                wind.Number.visible = true;
                                wind.Number.position = offset;
                            }
                        }

                        if (imgNumber.type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                //if (steps.Number != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                if (compass.Pointer != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Number = new hmUI_widget_IMG_NUMBER();
                                compass.Number.img_First = imgNumber.img_First;
                                compass.Number.imageX = imgNumber.imageX;
                                compass.Number.imageY = imgNumber.imageY;
                                compass.Number.space = imgNumber.space;
                                compass.Number.angle = imgNumber.angle;
                                compass.Number.zero = imgNumber.zero;
                                compass.Number.unit = imgNumber.unit;
                                compass.Number.imperial_unit = imgNumber.imperial_unit;
                                compass.Number.negative_image = imgNumber.negative_image;
                                compass.Number.invalid_image = imgNumber.invalid_image;
                                compass.Number.dot_image = imgNumber.dot_image;
                                compass.Number.align = imgNumber.align;
                                compass.Number.visible = true;
                                compass.Number.position = offset;
                            }
                        }


                        break;
                    #endregion

                    #region TEXT_IMG_Options
                    case "TEXT_IMG_Options":
                        hmUI_widget_IMG_NUMBER imgNumberOptions = Object_IMG_NUMBER_Options(parametrs);

                        if (imgNumberOptions.type == "forecast_high_text_img")
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                //if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Max = new hmUI_widget_IMG_NUMBER();
                                weatherFewDays.Number_Max.img_First = imgNumberOptions.img_First;
                                weatherFewDays.Number_Max.imageX = imgNumberOptions.imageX;
                                weatherFewDays.Number_Max.imageY = imgNumberOptions.imageY;
                                weatherFewDays.Number_Max.space = imgNumberOptions.space;
                                weatherFewDays.Number_Max.angle = imgNumberOptions.angle;
                                weatherFewDays.Number_Max.zero = imgNumberOptions.zero;
                                weatherFewDays.Number_Max.unit = imgNumberOptions.unit;
                                weatherFewDays.Number_Max.imperial_unit = imgNumberOptions.imperial_unit;
                                weatherFewDays.Number_Max.negative_image = imgNumberOptions.negative_image;
                                weatherFewDays.Number_Max.invalid_image = imgNumberOptions.invalid_image;
                                weatherFewDays.Number_Max.dot_image = imgNumberOptions.dot_image;
                                weatherFewDays.Number_Max.align = imgNumberOptions.align;
                                weatherFewDays.Number_Max.visible = true;
                                weatherFewDays.Number_Max.position = offset;
                            }
                        }

                        if (imgNumberOptions.type == "forecast_average_text_img")
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                //if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Average = new hmUI_widget_IMG_NUMBER();
                                weatherFewDays.Number_Average.img_First = imgNumberOptions.img_First;
                                weatherFewDays.Number_Average.imageX = imgNumberOptions.imageX;
                                weatherFewDays.Number_Average.imageY = imgNumberOptions.imageY;
                                weatherFewDays.Number_Average.space = imgNumberOptions.space;
                                weatherFewDays.Number_Average.angle = imgNumberOptions.angle;
                                weatherFewDays.Number_Average.zero = imgNumberOptions.zero;
                                weatherFewDays.Number_Average.unit = imgNumberOptions.unit;
                                weatherFewDays.Number_Average.imperial_unit = imgNumberOptions.imperial_unit;
                                weatherFewDays.Number_Average.negative_image = imgNumberOptions.negative_image;
                                weatherFewDays.Number_Average.invalid_image = imgNumberOptions.invalid_image;
                                weatherFewDays.Number_Average.dot_image = imgNumberOptions.dot_image;
                                weatherFewDays.Number_Average.align = imgNumberOptions.align;
                                weatherFewDays.Number_Average.visible = true;
                                weatherFewDays.Number_Average.position = offset;
                            }
                        }

                        if (imgNumberOptions.type == "forecast_low_text_img")
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                //if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Min = new hmUI_widget_IMG_NUMBER();
                                weatherFewDays.Number_Min.img_First = imgNumberOptions.img_First;
                                weatherFewDays.Number_Min.imageX = imgNumberOptions.imageX;
                                weatherFewDays.Number_Min.imageY = imgNumberOptions.imageY;
                                weatherFewDays.Number_Min.space = imgNumberOptions.space;
                                weatherFewDays.Number_Min.angle = imgNumberOptions.angle;
                                weatherFewDays.Number_Min.zero = imgNumberOptions.zero;
                                weatherFewDays.Number_Min.unit = imgNumberOptions.unit;
                                weatherFewDays.Number_Min.imperial_unit = imgNumberOptions.imperial_unit;
                                weatherFewDays.Number_Min.negative_image = imgNumberOptions.negative_image;
                                weatherFewDays.Number_Min.invalid_image = imgNumberOptions.invalid_image;
                                weatherFewDays.Number_Min.dot_image = imgNumberOptions.dot_image;
                                weatherFewDays.Number_Min.align = imgNumberOptions.align;
                                weatherFewDays.Number_Min.visible = true;
                                weatherFewDays.Number_Min.position = offset;
                            }
                        }

                        if (imgNumberOptions.type == "forecast_high_low_text_img")
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                //if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_MaxMin = new hmUI_widget_IMG_NUMBER();
                                weatherFewDays.Number_MaxMin.img_First = imgNumberOptions.img_First;
                                weatherFewDays.Number_MaxMin.imageX = imgNumberOptions.imageX;
                                weatherFewDays.Number_MaxMin.imageY = imgNumberOptions.imageY;
                                weatherFewDays.Number_MaxMin.space = imgNumberOptions.space;
                                weatherFewDays.Number_MaxMin.angle = imgNumberOptions.angle;
                                weatherFewDays.Number_MaxMin.zero = imgNumberOptions.zero;
                                weatherFewDays.Number_MaxMin.unit = imgNumberOptions.unit;
                                weatherFewDays.Number_MaxMin.imperial_unit = imgNumberOptions.imperial_unit;
                                weatherFewDays.Number_MaxMin.negative_image = imgNumberOptions.negative_image;
                                weatherFewDays.Number_MaxMin.invalid_image = imgNumberOptions.invalid_image;
                                weatherFewDays.Number_MaxMin.dot_image = imgNumberOptions.dot_image;
                                weatherFewDays.Number_MaxMin.separator_image = imgNumberOptions.separator_image;
                                weatherFewDays.Number_MaxMin.align = imgNumberOptions.align;
                                weatherFewDays.Number_MaxMin.visible = true;
                                weatherFewDays.Number_MaxMin.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region Text_Rotate
                    case "Text_Rotate":
                        hmUI_widget_IMG_NUMBER textRotate = Object_Text_Rotate(parametrs);

                        if (textRotate.type == "HOUR")
                        {
                            ElementDigitalTime_v2 hour = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (hour == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                hour = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (hour != null)
                            {
                                int offset = 1;
                                //if (hour.Group_Hour != null) offset++;
                                if (hour.Group_Minute != null) offset++;
                                if (hour.Group_Second != null) offset++;
                                if (hour.AmPm != null) offset++;

                                //if (hour.Hour_Font != null) offset++;
                                //if (hour.Minute_Font != null) offset++;
                                //if (hour.Second_Font != null) offset++;

                                if (hour.Hour_Min_Font != null) offset++;
                                if (hour.Hour_Min_Sec_Font != null) offset++;

                                //if (hour.Hour_rotation != null) offset++;
                                //if (hour.Minute_rotation != null) offset++;
                                //if (hour.Second_rotation != null) offset++;

                                //if (hour.Hour_circle != null) offset++;
                                //if (hour.Minute_circle != null) offset++;
                                //if (hour.Second_circle != null) offset++;

                                if (hour.Group_Hour == null) hour.Group_Hour = new DigitalTimeGroup();
                                hour.Group_Hour.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                hour.Group_Hour.Text_rotation.img_First = textRotate.img_First;
                                hour.Group_Hour.Text_rotation.imageX = textRotate.imageX;
                                hour.Group_Hour.Text_rotation.imageY = textRotate.imageY;
                                hour.Group_Hour.Text_rotation.space = textRotate.space;
                                hour.Group_Hour.Text_rotation.angle = textRotate.angle;
                                hour.Group_Hour.Text_rotation.zero = textRotate.zero;
                                hour.Group_Hour.Text_rotation.unit = textRotate.unit;
                                hour.Group_Hour.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                hour.Group_Hour.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                hour.Group_Hour.Text_rotation.negative_image = textRotate.negative_image;
                                hour.Group_Hour.Text_rotation.invalid_image = textRotate.invalid_image;
                                hour.Group_Hour.Text_rotation.dot_image = textRotate.dot_image;
                                hour.Group_Hour.Text_rotation.align = textRotate.align;
                                hour.Group_Hour.Text_rotation.visible = true;
                                if (hour.Group_Hour.position < 0) hour.Group_Hour.position = offset;
                            }
                        }

                        if (textRotate.type == "MINUTE")
                        {
                            ElementDigitalTime_v2 minute = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (minute == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                minute = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (minute != null)
                            {
                                int offset = 1;
                                if (minute.Group_Hour != null) offset++;
                                //if (minute.Group_Minute != null) offset++;
                                if (minute.Group_Second != null) offset++;
                                if (minute.AmPm != null) offset++;

                                //if (minute.Hour_Font != null) offset++;
                                //if (minute.Minute_Font != null) offset++;
                                //if (minute.Second_Font != null) offset++;

                                if (minute.Hour_Min_Font != null) offset++;
                                if (minute.Hour_Min_Sec_Font != null) offset++;

                                //if (minute.Hour_rotation != null) offset++;
                                //if (minute.Minute_rotation != null) offset++;
                                //if (minute.Second_rotation != null) offset++;

                                //if (minute.Hour_circle != null) offset++;
                                //if (minute.Minute_circle != null) offset++;
                                //if (minute.Second_circle != null) offset++;

                                if (minute.Group_Minute == null) minute.Group_Minute = new DigitalTimeGroup();
                                minute.Group_Minute.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                minute.Group_Minute.Text_rotation.img_First = textRotate.img_First;
                                minute.Group_Minute.Text_rotation.imageX = textRotate.imageX;
                                minute.Group_Minute.Text_rotation.imageY = textRotate.imageY;
                                minute.Group_Minute.Text_rotation.space = textRotate.space;
                                minute.Group_Minute.Text_rotation.angle = textRotate.angle;
                                minute.Group_Minute.Text_rotation.zero = textRotate.zero;
                                minute.Group_Minute.Text_rotation.unit = textRotate.unit;
                                minute.Group_Minute.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                minute.Group_Minute.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                minute.Group_Minute.Text_rotation.negative_image = textRotate.negative_image;
                                minute.Group_Minute.Text_rotation.invalid_image = textRotate.invalid_image;
                                minute.Group_Minute.Text_rotation.dot_image = textRotate.dot_image;
                                minute.Group_Minute.Text_rotation.align = textRotate.align;
                                minute.Group_Minute.Text_rotation.visible = true;
                                if (minute.Group_Minute.position < 0) minute.Group_Minute.position = offset;
                            }
                        }

                        if (textRotate.type == "SECOND")
                        {
                            ElementDigitalTime_v2 second = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (second == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                second = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (second != null)
                            {
                                int offset = 1;
                                if (second.Group_Hour != null) offset++;
                                if (second.Group_Minute != null) offset++;
                                //if (second.Group_Second != null) offset++;
                                if (second.AmPm != null) offset++;

                                //if (second.Hour_Font != null) offset++;
                                //if (second.Minute_Font != null) offset++;
                                //if (second.Second_Font != null) offset++;

                                if (second.Hour_Min_Font != null) offset++;
                                if (second.Hour_Min_Sec_Font != null) offset++;

                                //if (second.Hour_rotation != null) offset++;
                                //if (second.Minute_rotation != null) offset++;
                                //if (second.Second_rotation != null) offset++;

                                //if (second.Hour_circle != null) offset++;
                                //if (second.Minute_circle != null) offset++;
                                //if (second.Second_circle != null) offset++;

                                if (second.Group_Second == null) second.Group_Second = new DigitalTimeGroup();
                                second.Group_Second.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                second.Group_Second.Text_rotation.img_First = textRotate.img_First;
                                second.Group_Second.Text_rotation.imageX = textRotate.imageX;
                                second.Group_Second.Text_rotation.imageY = textRotate.imageY;
                                second.Group_Second.Text_rotation.space = textRotate.space;
                                second.Group_Second.Text_rotation.angle = textRotate.angle;
                                second.Group_Second.Text_rotation.zero = textRotate.zero;
                                second.Group_Second.Text_rotation.unit = textRotate.unit;
                                second.Group_Second.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                second.Group_Second.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                second.Group_Second.Text_rotation.negative_image = textRotate.negative_image;
                                second.Group_Second.Text_rotation.invalid_image = textRotate.invalid_image;
                                second.Group_Second.Text_rotation.dot_image = textRotate.dot_image;
                                second.Group_Second.Text_rotation.align = textRotate.align;
                                second.Group_Second.Text_rotation.visible = true;
                                if (second.Group_Second.position < 0) second.Group_Second.position = offset;
                            }
                        }

                        if (textRotate.type == "DAY")
                        {
                            ElementDateDay day = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (day == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                day = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (day != null)
                            {
                                int offset = 1;
                                if (day.Number != null) offset++;
                                if (day.Number_Font != null) offset++;
                                if (day.Day_Month_Font != null) offset++;
                                if (day.Day_Month_Year_Font != null) offset++;
                                //if (day.Text_rotation != null) offset++;
                                if (day.Text_circle != null) offset++;
                                if (day.Pointer != null) offset++;

                                day.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                day.Text_rotation.img_First = textRotate.img_First;
                                day.Text_rotation.imageX = textRotate.imageX;
                                day.Text_rotation.imageY = textRotate.imageY;
                                day.Text_rotation.space = textRotate.space;
                                day.Text_rotation.angle = textRotate.angle;
                                day.Text_rotation.zero = textRotate.zero;
                                day.Text_rotation.unit = textRotate.unit;
                                day.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                day.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                day.Text_rotation.negative_image = textRotate.negative_image;
                                day.Text_rotation.invalid_image = textRotate.invalid_image;
                                day.Text_rotation.dot_image = textRotate.dot_image;
                                day.Text_rotation.align = textRotate.align;
                                day.Text_rotation.visible = true;
                                day.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "MONTH")
                        {
                            ElementDateMonth month = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            if (month == null)
                            {
                                elementsList.Add(new ElementDateMonth());
                                month = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            }
                            if (month != null)
                            {
                                int offset = 1;
                                if (month.Images != null) offset++;
                                if (month.Number != null) offset++;
                                if (month.Number_Font != null) offset++;
                                if (month.Month_Font != null) offset++;
                                //if (month.Text_rotation != null) offset++;
                                if (month.Text_circle != null) offset++;
                                if (month.Pointer != null) offset++;

                                month.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                month.Text_rotation.img_First = textRotate.img_First;
                                month.Text_rotation.imageX = textRotate.imageX;
                                month.Text_rotation.imageY = textRotate.imageY;
                                month.Text_rotation.space = textRotate.space;
                                month.Text_rotation.angle = textRotate.angle;
                                month.Text_rotation.zero = textRotate.zero;
                                month.Text_rotation.unit = textRotate.unit;
                                month.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                month.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                month.Text_rotation.negative_image = textRotate.negative_image;
                                month.Text_rotation.invalid_image = textRotate.invalid_image;
                                month.Text_rotation.dot_image = textRotate.dot_image;
                                month.Text_rotation.align = textRotate.align;
                                month.Text_rotation.visible = true;
                                month.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "YEAR")
                        {
                            ElementDateYear year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            if (year == null)
                            {
                                elementsList.Add(new ElementDateYear());
                                year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            }
                            if (year != null)
                            {
                                int offset = 1;
                                if (year.Number != null) offset++;
                                if (year.Number_Font != null) offset++;
                                //if (year.Text_rotation != null) offset++;
                                if (year.Text_circle != null) offset++;
                                if (year.Icon != null) offset++;

                                year.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                year.Text_rotation.img_First = textRotate.img_First;
                                year.Text_rotation.imageX = textRotate.imageX;
                                year.Text_rotation.imageY = textRotate.imageY;
                                year.Text_rotation.space = textRotate.space;
                                year.Text_rotation.angle = textRotate.angle;
                                year.Text_rotation.zero = textRotate.zero;
                                year.Text_rotation.unit = textRotate.unit;
                                year.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                year.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                year.Text_rotation.negative_image = textRotate.negative_image;
                                year.Text_rotation.invalid_image = textRotate.invalid_image;
                                year.Text_rotation.dot_image = textRotate.dot_image;
                                year.Text_rotation.align = textRotate.align;
                                year.Text_rotation.visible = true;
                                year.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                //if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                steps.Text_rotation.img_First = textRotate.img_First;
                                steps.Text_rotation.imageX = textRotate.imageX;
                                steps.Text_rotation.imageY = textRotate.imageY;
                                steps.Text_rotation.space = textRotate.space;
                                steps.Text_rotation.angle = textRotate.angle;
                                steps.Text_rotation.zero = textRotate.zero;
                                steps.Text_rotation.unit = textRotate.unit;
                                steps.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                steps.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                steps.Text_rotation.negative_image = textRotate.negative_image;
                                steps.Text_rotation.invalid_image = textRotate.invalid_image;
                                steps.Text_rotation.dot_image = textRotate.dot_image;
                                steps.Text_rotation.align = textRotate.align;
                                steps.Text_rotation.visible = true;
                                steps.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "STEP_TARGET")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                //if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Text_rotation_Target = new hmUI_widget_IMG_NUMBER();
                                steps.Text_rotation_Target.img_First = textRotate.img_First;
                                steps.Text_rotation_Target.imageX = textRotate.imageX;
                                steps.Text_rotation_Target.imageY = textRotate.imageY;
                                steps.Text_rotation_Target.space = textRotate.space;
                                steps.Text_rotation_Target.angle = textRotate.angle;
                                steps.Text_rotation_Target.zero = textRotate.zero;
                                steps.Text_rotation_Target.unit = textRotate.unit;
                                steps.Text_rotation_Target.unit_in_alignment = textRotate.unit_in_alignment;
                                steps.Text_rotation_Target.imperial_unit = textRotate.imperial_unit;
                                steps.Text_rotation_Target.negative_image = textRotate.negative_image;
                                steps.Text_rotation_Target.invalid_image = textRotate.invalid_image;
                                steps.Text_rotation_Target.dot_image = textRotate.dot_image;
                                steps.Text_rotation_Target.align = textRotate.align;
                                steps.Text_rotation_Target.visible = true;
                                steps.Text_rotation_Target.position = offset;
                            }
                        }

                        if (textRotate.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                //if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                battery.Text_rotation.img_First = textRotate.img_First;
                                battery.Text_rotation.imageX = textRotate.imageX;
                                battery.Text_rotation.imageY = textRotate.imageY;
                                battery.Text_rotation.space = textRotate.space;
                                battery.Text_rotation.angle = textRotate.angle;
                                battery.Text_rotation.zero = textRotate.zero;
                                battery.Text_rotation.unit = textRotate.unit;
                                battery.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                battery.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                battery.Text_rotation.negative_image = textRotate.negative_image;
                                battery.Text_rotation.invalid_image = textRotate.invalid_image;
                                battery.Text_rotation.dot_image = textRotate.dot_image;
                                battery.Text_rotation.align = textRotate.align;
                                battery.Text_rotation.visible = true;
                                battery.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                //if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                calorie.Text_rotation.img_First = textRotate.img_First;
                                calorie.Text_rotation.imageX = textRotate.imageX;
                                calorie.Text_rotation.imageY = textRotate.imageY;
                                calorie.Text_rotation.space = textRotate.space;
                                calorie.Text_rotation.angle = textRotate.angle;
                                calorie.Text_rotation.zero = textRotate.zero;
                                calorie.Text_rotation.unit = textRotate.unit;
                                calorie.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                calorie.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                calorie.Text_rotation.negative_image = textRotate.negative_image;
                                calorie.Text_rotation.invalid_image = textRotate.invalid_image;
                                calorie.Text_rotation.dot_image = textRotate.dot_image;
                                calorie.Text_rotation.align = textRotate.align;
                                calorie.Text_rotation.visible = true;
                                calorie.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "CAL_TARGET")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                //if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                               calorie.Text_rotation_Target = new hmUI_widget_IMG_NUMBER();
                               calorie.Text_rotation_Target.img_First = textRotate.img_First;
                               calorie.Text_rotation_Target.imageX = textRotate.imageX;
                               calorie.Text_rotation_Target.imageY = textRotate.imageY;
                               calorie.Text_rotation_Target.space = textRotate.space;
                               calorie.Text_rotation_Target.angle = textRotate.angle;
                               calorie.Text_rotation_Target.zero = textRotate.zero;
                               calorie.Text_rotation_Target.unit = textRotate.unit;
                               calorie.Text_rotation_Target.unit_in_alignment = textRotate.unit_in_alignment;
                               calorie.Text_rotation_Target.imperial_unit = textRotate.imperial_unit;
                               calorie.Text_rotation_Target.negative_image = textRotate.negative_image;
                               calorie.Text_rotation_Target.invalid_image = textRotate.invalid_image;
                               calorie.Text_rotation_Target.dot_image = textRotate.dot_image;
                               calorie.Text_rotation_Target.align = textRotate.align;
                               calorie.Text_rotation_Target.visible = true;
                               calorie.Text_rotation_Target.position = offset;
                            }
                        }

                        if (textRotate.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                //if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                heart.Text_rotation.img_First = textRotate.img_First;
                                heart.Text_rotation.imageX = textRotate.imageX;
                                heart.Text_rotation.imageY = textRotate.imageY;
                                heart.Text_rotation.space = textRotate.space;
                                heart.Text_rotation.angle = textRotate.angle;
                                heart.Text_rotation.zero = textRotate.zero;
                                heart.Text_rotation.unit = textRotate.unit;
                                heart.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                heart.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                heart.Text_rotation.negative_image = textRotate.negative_image;
                                heart.Text_rotation.invalid_image = textRotate.invalid_image;
                                heart.Text_rotation.dot_image = textRotate.dot_image;
                                heart.Text_rotation.align = textRotate.align;
                                heart.Text_rotation.visible = true;
                                heart.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                //if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Text_rotation_Target = new hmUI_widget_IMG_NUMBER();
                                pai.Text_rotation_Target.img_First = textRotate.img_First;
                                pai.Text_rotation_Target.imageX = textRotate.imageX;
                                pai.Text_rotation_Target.imageY = textRotate.imageY;
                                pai.Text_rotation_Target.space = textRotate.space;
                                pai.Text_rotation_Target.angle = textRotate.angle;
                                pai.Text_rotation_Target.zero = textRotate.zero;
                                pai.Text_rotation_Target.unit = textRotate.unit;
                                pai.Text_rotation_Target.unit_in_alignment = textRotate.unit_in_alignment;
                                pai.Text_rotation_Target.imperial_unit = textRotate.imperial_unit;
                                pai.Text_rotation_Target.negative_image = textRotate.negative_image;
                                pai.Text_rotation_Target.invalid_image = textRotate.invalid_image;
                                pai.Text_rotation_Target.dot_image = textRotate.dot_image;
                                pai.Text_rotation_Target.align = textRotate.align;
                                pai.Text_rotation_Target.visible = true;
                                pai.Text_rotation_Target.position = offset;
                            }
                        }

                        if (textRotate.type == "DISTANCE")
                        {
                            ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            if (distance == null)
                            {
                                elementsList.Add(new ElementDistance());
                                distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            }
                            if (distance != null)
                            {
                                int offset = 1;
                                if (distance.Number != null) offset++;
                                if (distance.Number_Font != null) offset++;
                                //if (distance.Text_rotation != null) offset++;
                                if (distance.Text_circle != null) offset++;
                                if (distance.Icon != null) offset++;

                                distance.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                distance.Text_rotation.img_First = textRotate.img_First;
                                distance.Text_rotation.imageX = textRotate.imageX;
                                distance.Text_rotation.imageY = textRotate.imageY;
                                distance.Text_rotation.space = textRotate.space;
                                distance.Text_rotation.angle = textRotate.angle;
                                distance.Text_rotation.zero = textRotate.zero;
                                distance.Text_rotation.unit = textRotate.unit;
                                distance.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                distance.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                distance.Text_rotation.negative_image = textRotate.negative_image;
                                distance.Text_rotation.invalid_image = textRotate.invalid_image;
                                distance.Text_rotation.dot_image = textRotate.dot_image;
                                distance.Text_rotation.align = textRotate.align;
                                distance.Text_rotation.visible = true;
                                distance.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                //if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                stand.Text_rotation.img_First = textRotate.img_First;
                                stand.Text_rotation.imageX = textRotate.imageX;
                                stand.Text_rotation.imageY = textRotate.imageY;
                                stand.Text_rotation.space = textRotate.space;
                                stand.Text_rotation.angle = textRotate.angle;
                                stand.Text_rotation.zero = textRotate.zero;
                                stand.Text_rotation.unit = textRotate.unit;
                                stand.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                stand.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                stand.Text_rotation.negative_image = textRotate.negative_image;
                                stand.Text_rotation.invalid_image = textRotate.invalid_image;
                                stand.Text_rotation.dot_image = textRotate.dot_image;
                                stand.Text_rotation.align = textRotate.align;
                                stand.Text_rotation.visible = true;
                                stand.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "STAND_TARGET")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                //if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Text_rotation_Target = new hmUI_widget_IMG_NUMBER();
                                stand.Text_rotation_Target.img_First = textRotate.img_First;
                                stand.Text_rotation_Target.imageX = textRotate.imageX;
                                stand.Text_rotation_Target.imageY = textRotate.imageY;
                                stand.Text_rotation_Target.space = textRotate.space;
                                stand.Text_rotation_Target.angle = textRotate.angle;
                                stand.Text_rotation_Target.zero = textRotate.zero;
                                stand.Text_rotation_Target.unit = textRotate.unit;
                                stand.Text_rotation_Target.unit_in_alignment = textRotate.unit_in_alignment;
                                stand.Text_rotation_Target.imperial_unit = textRotate.imperial_unit;
                                stand.Text_rotation_Target.negative_image = textRotate.negative_image;
                                stand.Text_rotation_Target.invalid_image = textRotate.invalid_image;
                                stand.Text_rotation_Target.dot_image = textRotate.dot_image;
                                stand.Text_rotation_Target.align = textRotate.align;
                                stand.Text_rotation_Target.visible = true;
                                stand.Text_rotation_Target.position = offset;
                            }
                        }

                        if (textRotate.type == "SPO2")
                        {
                            ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            if (spo2 == null)
                            {
                                elementsList.Add(new ElementSpO2());
                                spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            }
                            if (spo2 != null)
                            {
                                int offset = 1;
                                if (spo2.Number != null) offset++;
                                if (spo2.Number_Font != null) offset++;
                                //if (spo2.Text_rotation != null) offset++;
                                if (spo2.Text_circle != null) offset++;
                                if (spo2.Icon != null) offset++;

                                spo2.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                spo2.Text_rotation.img_First = textRotate.img_First;
                                spo2.Text_rotation.imageX = textRotate.imageX;
                                spo2.Text_rotation.imageY = textRotate.imageY;
                                spo2.Text_rotation.space = textRotate.space;
                                spo2.Text_rotation.angle = textRotate.angle;
                                spo2.Text_rotation.zero = textRotate.zero;
                                spo2.Text_rotation.unit = textRotate.unit;
                                spo2.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                spo2.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                spo2.Text_rotation.negative_image = textRotate.negative_image;
                                spo2.Text_rotation.invalid_image = textRotate.invalid_image;
                                spo2.Text_rotation.dot_image = textRotate.dot_image;
                                spo2.Text_rotation.align = textRotate.align;
                                spo2.Text_rotation.visible = true;
                                spo2.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                //if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                fat_burning.Text_rotation.img_First = textRotate.img_First;
                                fat_burning.Text_rotation.imageX = textRotate.imageX;
                                fat_burning.Text_rotation.imageY = textRotate.imageY;
                                fat_burning.Text_rotation.space = textRotate.space;
                                fat_burning.Text_rotation.angle = textRotate.angle;
                                fat_burning.Text_rotation.zero = textRotate.zero;
                                fat_burning.Text_rotation.unit = textRotate.unit;
                                fat_burning.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                fat_burning.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                fat_burning.Text_rotation.negative_image = textRotate.negative_image;
                                fat_burning.Text_rotation.invalid_image = textRotate.invalid_image;
                                fat_burning.Text_rotation.dot_image = textRotate.dot_image;
                                fat_burning.Text_rotation.align = textRotate.align;
                                fat_burning.Text_rotation.visible = true;
                                fat_burning.Text_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "FAT_BURNING_TARGET")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                //if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Text_rotation_Target = new hmUI_widget_IMG_NUMBER();
                                fat_burning.Text_rotation_Target.img_First = textRotate.img_First;
                                fat_burning.Text_rotation_Target.imageX = textRotate.imageX;
                                fat_burning.Text_rotation_Target.imageY = textRotate.imageY;
                                fat_burning.Text_rotation_Target.space = textRotate.space;
                                fat_burning.Text_rotation_Target.angle = textRotate.angle;
                                fat_burning.Text_rotation_Target.zero = textRotate.zero;
                                fat_burning.Text_rotation_Target.unit = textRotate.unit;
                                fat_burning.Text_rotation_Target.unit_in_alignment = textRotate.unit_in_alignment;
                                fat_burning.Text_rotation_Target.imperial_unit = textRotate.imperial_unit;
                                fat_burning.Text_rotation_Target.negative_image = textRotate.negative_image;
                                fat_burning.Text_rotation_Target.invalid_image = textRotate.invalid_image;
                                fat_burning.Text_rotation_Target.dot_image = textRotate.dot_image;
                                fat_burning.Text_rotation_Target.align = textRotate.align;
                                fat_burning.Text_rotation_Target.visible = true;
                                fat_burning.Text_rotation_Target.position = offset;
                            }
                        }



                        /*if (textRotate.type == "WEATHER_LOW")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                //if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Text_Min_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Text_Min_rotation.img_First = textRotate.img_First;
                                weather.Text_Min_rotation.imageX = textRotate.imageX;
                                weather.Text_Min_rotation.imageY = textRotate.imageY;
                                weather.Text_Min_rotation.space = textRotate.space;
                                weather.Text_Min_rotation.angle = textRotate.angle;
                                weather.Text_Min_rotation.zero = textRotate.zero;
                                weather.Text_Min_rotation.unit = textRotate.unit;
                                weather.Text_Min_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Text_Min_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Text_Min_rotation.negative_image = textRotate.negative_image;
                                weather.Text_Min_rotation.invalid_image = textRotate.invalid_image;
                                weather.Text_Min_rotation.dot_image = textRotate.dot_image;
                                weather.Text_Min_rotation.align = textRotate.align;
                                weather.Text_Min_rotation.visible = true;
                                weather.Text_Min_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "WEATHER_HIGH")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                //if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Text_Max_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Text_Max_rotation.img_First = textRotate.img_First;
                                weather.Text_Max_rotation.imageX = textRotate.imageX;
                                weather.Text_Max_rotation.imageY = textRotate.imageY;
                                weather.Text_Max_rotation.space = textRotate.space;
                                weather.Text_Max_rotation.angle = textRotate.angle;
                                weather.Text_Max_rotation.zero = textRotate.zero;
                                weather.Text_Max_rotation.unit = textRotate.unit;
                                weather.Text_Max_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Text_Max_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Text_Max_rotation.negative_image = textRotate.negative_image;
                                weather.Text_Max_rotation.invalid_image = textRotate.invalid_image;
                                weather.Text_Max_rotation.dot_image = textRotate.dot_image;
                                weather.Text_Max_rotation.align = textRotate.align;
                                weather.Text_Max_rotation.visible = true;
                                weather.Text_Max_rotation.position = offset;
                            }
                        }*/

                        if (textRotate.type == "WEATHER_CURRENT")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Current == null) weather.Group_Current = new WeatherGroup();
                                int offset = 1;
                                //if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Current.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Current.Text_rotation.img_First = textRotate.img_First;
                                weather.Group_Current.Text_rotation.imageX = textRotate.imageX;
                                weather.Group_Current.Text_rotation.imageY = textRotate.imageY;
                                weather.Group_Current.Text_rotation.space = textRotate.space;
                                weather.Group_Current.Text_rotation.angle = textRotate.angle;
                                weather.Group_Current.Text_rotation.zero = textRotate.zero;
                                weather.Group_Current.Text_rotation.unit = textRotate.unit;
                                weather.Group_Current.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Group_Current.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Group_Current.Text_rotation.negative_image = textRotate.negative_image;
                                weather.Group_Current.Text_rotation.invalid_image = textRotate.invalid_image;
                                weather.Group_Current.Text_rotation.dot_image = textRotate.dot_image;
                                weather.Group_Current.Text_rotation.align = textRotate.align;
                                weather.Group_Current.Text_rotation.visible = true;
                                //weather.Group_Current.Text_rotation.position = offset;

                                if (weather.Group_Current.position < 0) weather.Group_Current.position = offset;
                            }
                        }

                        if (textRotate.type == "WEATHER_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Min == null) weather.Group_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                //if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Min.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Min.Text_rotation.img_First = textRotate.img_First;
                                weather.Group_Min.Text_rotation.imageX = textRotate.imageX;
                                weather.Group_Min.Text_rotation.imageY = textRotate.imageY;
                                weather.Group_Min.Text_rotation.space = textRotate.space;
                                weather.Group_Min.Text_rotation.angle = textRotate.angle;
                                weather.Group_Min.Text_rotation.zero = textRotate.zero;
                                weather.Group_Min.Text_rotation.unit = textRotate.unit;
                                weather.Group_Min.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Group_Min.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Group_Min.Text_rotation.negative_image = textRotate.negative_image;
                                weather.Group_Min.Text_rotation.invalid_image = textRotate.invalid_image;
                                weather.Group_Min.Text_rotation.dot_image = textRotate.dot_image;
                                weather.Group_Min.Text_rotation.align = textRotate.align;
                                weather.Group_Min.Text_rotation.visible = true;
                                //weather.Group_Min.Text_rotation.position = offset;

                                if (weather.Group_Min.position < 0) weather.Group_Min.position = offset;
                            }
                        }

                        if (textRotate.type == "WEATHER_HIGH")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max == null) weather.Group_Max = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                //if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Max.Text_rotation.img_First = textRotate.img_First;
                                weather.Group_Max.Text_rotation.imageX = textRotate.imageX;
                                weather.Group_Max.Text_rotation.imageY = textRotate.imageY;
                                weather.Group_Max.Text_rotation.space = textRotate.space;
                                weather.Group_Max.Text_rotation.angle = textRotate.angle;
                                weather.Group_Max.Text_rotation.zero = textRotate.zero;
                                weather.Group_Max.Text_rotation.unit = textRotate.unit;
                                weather.Group_Max.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Group_Max.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Group_Max.Text_rotation.negative_image = textRotate.negative_image;
                                weather.Group_Max.Text_rotation.invalid_image = textRotate.invalid_image;
                                weather.Group_Max.Text_rotation.dot_image = textRotate.dot_image;
                                weather.Group_Max.Text_rotation.align = textRotate.align;
                                weather.Group_Max.Text_rotation.visible = true;
                                //weather.Group_Max.Text_rotation.position = offset;

                                if (weather.Group_Max.position < 0) weather.Group_Max.position = offset;
                            }
                        }

                        if (textRotate.type == "WEATHER_HIGH_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max_Min == null) weather.Group_Max_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                //if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max_Min.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                weather.Group_Max_Min.Text_rotation.img_First = textRotate.img_First;
                                weather.Group_Max_Min.Text_rotation.imageX = textRotate.imageX;
                                weather.Group_Max_Min.Text_rotation.imageY = textRotate.imageY;
                                weather.Group_Max_Min.Text_rotation.space = textRotate.space;
                                weather.Group_Max_Min.Text_rotation.angle = textRotate.angle;
                                weather.Group_Max_Min.Text_rotation.zero = textRotate.zero;
                                weather.Group_Max_Min.Text_rotation.unit = textRotate.unit;
                                weather.Group_Max_Min.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                weather.Group_Max_Min.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                weather.Group_Max_Min.Text_rotation.negative_image = textRotate.negative_image;
                                weather.Group_Max_Min.Text_rotation.invalid_image = textRotate.invalid_image;
                                weather.Group_Max_Min.Text_rotation.dot_image = textRotate.dot_image;
                                weather.Group_Max_Min.Text_rotation.align = textRotate.align;
                                weather.Group_Max_Min.Text_rotation.visible = true;
                                //weather.Group_Max_Min.Text_rotation.position = offset;

                                if (weather.Group_Max_Min.position < 0) weather.Group_Max_Min.position = offset;
                            }
                        }

                        if (textRotate.type == "SUN_RISE")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                //if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunrise_rotation = new hmUI_widget_IMG_NUMBER();
                                sunrise.Sunrise_rotation.img_First = textRotate.img_First;
                                sunrise.Sunrise_rotation.imageX = textRotate.imageX;
                                sunrise.Sunrise_rotation.imageY = textRotate.imageY;
                                sunrise.Sunrise_rotation.space = textRotate.space;
                                sunrise.Sunrise_rotation.angle = textRotate.angle;
                                sunrise.Sunrise_rotation.zero = textRotate.zero;
                                sunrise.Sunrise_rotation.unit = textRotate.unit;
                                sunrise.Sunrise_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                sunrise.Sunrise_rotation.imperial_unit = textRotate.imperial_unit;
                                sunrise.Sunrise_rotation.negative_image = textRotate.negative_image;
                                sunrise.Sunrise_rotation.invalid_image = textRotate.invalid_image;
                                sunrise.Sunrise_rotation.dot_image = textRotate.dot_image;
                                sunrise.Sunrise_rotation.align = textRotate.align;
                                sunrise.Sunrise_rotation.visible = true;
                                sunrise.Sunrise_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "SUN_SET")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                //if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunset_rotation = new hmUI_widget_IMG_NUMBER();
                                sunrise.Sunset_rotation.img_First = textRotate.img_First;
                                sunrise.Sunset_rotation.imageX = textRotate.imageX;
                                sunrise.Sunset_rotation.imageY = textRotate.imageY;
                                sunrise.Sunset_rotation.space = textRotate.space;
                                sunrise.Sunset_rotation.angle = textRotate.angle;
                                sunrise.Sunset_rotation.zero = textRotate.zero;
                                sunrise.Sunset_rotation.unit = textRotate.unit;
                                sunrise.Sunset_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                sunrise.Sunset_rotation.imperial_unit = textRotate.imperial_unit;
                                sunrise.Sunset_rotation.negative_image = textRotate.negative_image;
                                sunrise.Sunset_rotation.invalid_image = textRotate.invalid_image;
                                sunrise.Sunset_rotation.dot_image = textRotate.dot_image;
                                sunrise.Sunset_rotation.align = textRotate.align;
                                sunrise.Sunset_rotation.visible = true;
                                sunrise.Sunset_rotation.position = offset;
                            }
                        }

                        if (textRotate.type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                //if (steps.Text_rotation != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                if (compass.Pointer != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Text_rotation = new hmUI_widget_IMG_NUMBER();
                                compass.Text_rotation.img_First = textRotate.img_First;
                                compass.Text_rotation.imageX = textRotate.imageX;
                                compass.Text_rotation.imageY = textRotate.imageY;
                                compass.Text_rotation.space = textRotate.space;
                                compass.Text_rotation.angle = textRotate.angle;
                                compass.Text_rotation.zero = textRotate.zero;
                                compass.Text_rotation.unit = textRotate.unit;
                                compass.Text_rotation.unit_in_alignment = textRotate.unit_in_alignment;
                                compass.Text_rotation.imperial_unit = textRotate.imperial_unit;
                                compass.Text_rotation.negative_image = textRotate.negative_image;
                                compass.Text_rotation.invalid_image = textRotate.invalid_image;
                                compass.Text_rotation.dot_image = textRotate.dot_image;
                                compass.Text_rotation.align = textRotate.align;
                                compass.Text_rotation.visible = true;
                                compass.Text_rotation.position = offset;
                            }
                        }


                        break;
                    #endregion

                    #region Text_Circle
                    case "Text_Circle":
                        Text_Circle textCircle = Object_Text_Circle(parametrs);

                        if (textCircle.type == "HOUR")
                        {
                            ElementDigitalTime_v2 hour = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (hour == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                hour = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (hour != null)
                            {
                                int offset = 1;
                                //if (hour.Group_Hour != null) offset++;
                                if (hour.Group_Minute != null) offset++;
                                if (hour.Group_Second != null) offset++;
                                if (hour.AmPm != null) offset++;

                                //if (hour.Hour_Font != null) offset++;
                                //if (hour.Minute_Font != null) offset++;
                                //if (hour.Second_Font != null) offset++;

                                if (hour.Hour_Min_Font != null) offset++;
                                if (hour.Hour_Min_Sec_Font != null) offset++;

                                //if (hour.Hour_rotation != null) offset++;
                                //if (hour.Minute_rotation != null) offset++;
                                //if (hour.Second_rotation != null) offset++;

                                //if (hour.Hour_circle != null) offset++;
                                //if (hour.Minute_circle != null) offset++;
                                //if (hour.Second_circle != null) offset++;

                                if (hour.Group_Hour == null) hour.Group_Hour = new DigitalTimeGroup();
                                hour.Group_Hour.Text_circle = new Text_Circle();
                                hour.Group_Hour.Text_circle.img_First = textCircle.img_First;
                                hour.Group_Hour.Text_circle.circle_center_X = textCircle.circle_center_X;
                                hour.Group_Hour.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                hour.Group_Hour.Text_circle.char_space_angle = textCircle.char_space_angle;
                                hour.Group_Hour.Text_circle.angle = textCircle.angle;
                                hour.Group_Hour.Text_circle.radius = textCircle.radius;
                                hour.Group_Hour.Text_circle.zero = textCircle.zero;
                                hour.Group_Hour.Text_circle.unit = textCircle.unit;
                                hour.Group_Hour.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                hour.Group_Hour.Text_circle.imperial_unit = textCircle.imperial_unit;
                                hour.Group_Hour.Text_circle.error_image = textCircle.error_image;
                                hour.Group_Hour.Text_circle.dot_image = textCircle.dot_image;
                                hour.Group_Hour.Text_circle.reverse_direction = textCircle.reverse_direction;
                                hour.Group_Hour.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                hour.Group_Hour.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                hour.Group_Hour.Text_circle.visible = true;
                                if (hour.Group_Hour.position < 0) hour.Group_Hour.position = offset;
                            }
                        }

                        if (textCircle.type == "MINUTE")
                        {
                            ElementDigitalTime_v2 minute = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (minute == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                minute = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (minute != null)
                            {
                                int offset = 1;
                                if (minute.Group_Hour != null) offset++;
                                //if (minute.Group_Minute != null) offset++;
                                if (minute.Group_Second != null) offset++;
                                if (minute.AmPm != null) offset++;

                                //if (minute.Hour_rotation != null) offset++;
                                //if (minute.Minute_rotation != null) offset++;
                                //if (minute.Second_rotation != null) offset++;

                                if (minute.Hour_Min_Font != null) offset++;
                                if (minute.Hour_Min_Sec_Font != null) offset++;

                                //if (minute.Hour_circle != null) offset++;
                                //if (minute.Minute_circle != null) offset++;
                                //if (minute.Second_circle != null) offset++;

                                if (minute.Group_Minute == null) minute.Group_Minute = new DigitalTimeGroup();
                                minute.Group_Minute.Text_circle = new Text_Circle();
                                minute.Group_Minute.Text_circle.img_First = textCircle.img_First;
                                minute.Group_Minute.Text_circle.circle_center_X = textCircle.circle_center_X;
                                minute.Group_Minute.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                minute.Group_Minute.Text_circle.char_space_angle = textCircle.char_space_angle;
                                minute.Group_Minute.Text_circle.angle = textCircle.angle;
                                minute.Group_Minute.Text_circle.radius = textCircle.radius;
                                minute.Group_Minute.Text_circle.zero = textCircle.zero;
                                minute.Group_Minute.Text_circle.unit = textCircle.unit;
                                minute.Group_Minute.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                minute.Group_Minute.Text_circle.imperial_unit = textCircle.imperial_unit;
                                minute.Group_Minute.Text_circle.error_image = textCircle.error_image;
                                minute.Group_Minute.Text_circle.dot_image = textCircle.dot_image;
                                minute.Group_Minute.Text_circle.reverse_direction = textCircle.reverse_direction;
                                minute.Group_Minute.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                minute.Group_Minute.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                minute.Group_Minute.Text_circle.visible = true;
                                if (minute.Group_Minute.position < 0) minute.Group_Minute.position = offset;
                            }
                        }

                        if (textCircle.type == "SECOND")
                        {
                            ElementDigitalTime_v2 second = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (second == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                second = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (second != null)
                            {
                                int offset = 1;
                                if (second.Group_Hour != null) offset++;
                                if (second.Group_Minute != null) offset++;
                                //if (second.Group_Second != null) offset++;
                                if (second.AmPm != null) offset++;

                                //if (second.Hour_rotation != null) offset++;
                                //if (second.Minute_rotation != null) offset++;
                                //if (second.Second_rotation != null) offset++;

                                if (second.Hour_Min_Font != null) offset++;
                                if (second.Hour_Min_Sec_Font != null) offset++;

                                //if (second.Hour_circle != null) offset++;
                                //if (second.Minute_circle != null) offset++;
                                //if (hour.Second_circle != null) offset++;

                                if (second.Group_Second == null) second.Group_Second = new DigitalTimeGroup();
                                second.Group_Second.Text_circle = new Text_Circle();
                                second.Group_Second.Text_circle.img_First = textCircle.img_First;
                                second.Group_Second.Text_circle.circle_center_X = textCircle.circle_center_X;
                                second.Group_Second.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                second.Group_Second.Text_circle.char_space_angle = textCircle.char_space_angle;
                                second.Group_Second.Text_circle.angle = textCircle.angle;
                                second.Group_Second.Text_circle.radius = textCircle.radius;
                                second.Group_Second.Text_circle.zero = textCircle.zero;
                                second.Group_Second.Text_circle.unit = textCircle.unit;
                                second.Group_Second.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                second.Group_Second.Text_circle.imperial_unit = textCircle.imperial_unit;
                                second.Group_Second.Text_circle.error_image = textCircle.error_image;
                                second.Group_Second.Text_circle.dot_image = textCircle.dot_image;
                                second.Group_Second.Text_circle.reverse_direction = textCircle.reverse_direction;
                                second.Group_Second.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                second.Group_Second.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                second.Group_Second.Text_circle.visible = true;
                                if (second.Group_Second.position < 0) second.Group_Second.position = offset;
                            }
                        }

                        if (textCircle.type == "DAY")
                        {
                            ElementDateDay day = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (day == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                day = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (day != null)
                            {
                                int offset = 1;
                                if (day.Number != null) offset++;
                                if (day.Number_Font != null) offset++;
                                if (day.Day_Month_Font != null) offset++;
                                if (day.Day_Month_Year_Font != null) offset++;
                                if (day.Text_rotation != null) offset++;
                                //if (day.Text_circle != null) offset++;
                                if (day.Pointer != null) offset++;

                                day.Text_circle = new Text_Circle();
                                day.Text_circle.img_First = textCircle.img_First;
                                day.Text_circle.circle_center_X = textCircle.circle_center_X;
                                day.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                day.Text_circle.char_space_angle = textCircle.char_space_angle;
                                day.Text_circle.angle = textCircle.angle;
                                day.Text_circle.radius = textCircle.radius;
                                day.Text_circle.zero = textCircle.zero;
                                day.Text_circle.unit = textCircle.unit;
                                day.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                day.Text_circle.imperial_unit = textCircle.imperial_unit;
                                day.Text_circle.error_image = textCircle.error_image;
                                day.Text_circle.dot_image = textCircle.dot_image;
                                day.Text_circle.reverse_direction = textCircle.reverse_direction;
                                day.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                day.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                day.Text_circle.visible = true;
                                day.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "MONTH")
                        {
                            ElementDateMonth month = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            if (month == null)
                            {
                                elementsList.Add(new ElementDateMonth());
                                month = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            }
                            if (month != null)
                            {
                                int offset = 1;
                                if (month.Images != null) offset++;
                                if (month.Number != null) offset++;
                                if (month.Number_Font != null) offset++;
                                if (month.Month_Font != null) offset++;
                                if (month.Text_rotation != null) offset++;
                                //if (month.Text_circle != null) offset++;
                                if (month.Pointer != null) offset++;

                                month.Text_circle = new Text_Circle();
                                month.Text_circle.img_First = textCircle.img_First;
                                month.Text_circle.circle_center_X = textCircle.circle_center_X;
                                month.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                month.Text_circle.char_space_angle = textCircle.char_space_angle;
                                month.Text_circle.angle = textCircle.angle;
                                month.Text_circle.radius = textCircle.radius;
                                month.Text_circle.zero = textCircle.zero;
                                month.Text_circle.unit = textCircle.unit;
                                month.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                month.Text_circle.imperial_unit = textCircle.imperial_unit;
                                month.Text_circle.error_image = textCircle.error_image;
                                month.Text_circle.dot_image = textCircle.dot_image;
                                month.Text_circle.reverse_direction = textCircle.reverse_direction;
                                month.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                month.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                month.Text_circle.visible = true;
                                month.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "YEAR")
                        {
                            ElementDateYear year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            if (year == null)
                            {
                                elementsList.Add(new ElementDateYear());
                                year = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            }
                            if (year != null)
                            {
                                int offset = 1;
                                if (year.Number != null) offset++;
                                if (year.Number_Font != null) offset++;
                                if (year.Text_rotation != null) offset++;
                                //if (year.Text_circle != null) offset++;
                                if (year.Icon != null) offset++;

                                year.Text_circle = new Text_Circle();
                                year.Text_circle.img_First = textCircle.img_First;
                                year.Text_circle.circle_center_X = textCircle.circle_center_X;
                                year.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                year.Text_circle.char_space_angle = textCircle.char_space_angle;
                                year.Text_circle.angle = textCircle.angle;
                                year.Text_circle.radius = textCircle.radius;
                                year.Text_circle.zero = textCircle.zero;
                                year.Text_circle.unit = textCircle.unit;
                                year.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                year.Text_circle.imperial_unit = textCircle.imperial_unit;
                                year.Text_circle.error_image = textCircle.error_image;
                                year.Text_circle.dot_image = textCircle.dot_image;
                                year.Text_circle.reverse_direction = textCircle.reverse_direction;
                                year.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                year.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                year.Text_circle.visible = true;
                                year.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                //if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Text_circle = new Text_Circle();
                                steps.Text_circle.img_First = textCircle.img_First;
                                steps.Text_circle.circle_center_X = textCircle.circle_center_X;
                                steps.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                steps.Text_circle.char_space_angle = textCircle.char_space_angle;
                                steps.Text_circle.angle = textCircle.angle;
                                steps.Text_circle.radius = textCircle.radius;
                                steps.Text_circle.zero = textCircle.zero;
                                steps.Text_circle.unit = textCircle.unit;
                                steps.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                steps.Text_circle.imperial_unit = textCircle.imperial_unit;
                                steps.Text_circle.error_image = textCircle.error_image;
                                steps.Text_circle.dot_image = textCircle.dot_image;
                                steps.Text_circle.reverse_direction = textCircle.reverse_direction;
                                steps.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                steps.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                steps.Text_circle.visible = true;
                                steps.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "STEP_TARGET")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                //if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Text_circle_Target = new Text_Circle();
                                steps.Text_circle_Target.img_First = textCircle.img_First;
                                steps.Text_circle_Target.circle_center_X = textCircle.circle_center_X;
                                steps.Text_circle_Target.circle_center_Y = textCircle.circle_center_Y;
                                steps.Text_circle_Target.char_space_angle = textCircle.char_space_angle;
                                steps.Text_circle_Target.angle = textCircle.angle;
                                steps.Text_circle_Target.radius = textCircle.radius;
                                steps.Text_circle_Target.zero = textCircle.zero;
                                steps.Text_circle_Target.unit = textCircle.unit;
                                steps.Text_circle_Target.unit_in_alignment = textCircle.unit_in_alignment;
                                steps.Text_circle_Target.imperial_unit = textCircle.imperial_unit;
                                steps.Text_circle_Target.error_image = textCircle.error_image;
                                steps.Text_circle_Target.dot_image = textCircle.dot_image;
                                steps.Text_circle_Target.reverse_direction = textCircle.reverse_direction;
                                steps.Text_circle_Target.horizontal_alignment = textCircle.horizontal_alignment;
                                steps.Text_circle_Target.vertical_alignment = textCircle.vertical_alignment;
                                steps.Text_circle_Target.visible = true;
                                steps.Text_circle_Target.position = offset;
                            }
                        }

                        if (textCircle.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                //if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                               battery.Text_circle = new Text_Circle();
                               battery.Text_circle.img_First = textCircle.img_First;
                               battery.Text_circle.circle_center_X = textCircle.circle_center_X;
                               battery.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                               battery.Text_circle.char_space_angle = textCircle.char_space_angle;
                               battery.Text_circle.angle = textCircle.angle;
                               battery.Text_circle.radius = textCircle.radius;
                               battery.Text_circle.zero = textCircle.zero;
                               battery.Text_circle.unit = textCircle.unit;
                               battery.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                               battery.Text_circle.imperial_unit = textCircle.imperial_unit;
                               battery.Text_circle.error_image = textCircle.error_image;
                               battery.Text_circle.dot_image = textCircle.dot_image;
                               battery.Text_circle.reverse_direction = textCircle.reverse_direction;
                               battery.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                               battery.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                               battery.Text_circle.visible = true;
                               battery.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                //if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                               calorie.Text_circle = new Text_Circle();
                               calorie.Text_circle.img_First = textCircle.img_First;
                               calorie.Text_circle.circle_center_X = textCircle.circle_center_X;
                               calorie.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                               calorie.Text_circle.char_space_angle = textCircle.char_space_angle;
                               calorie.Text_circle.angle = textCircle.angle;
                               calorie.Text_circle.radius = textCircle.radius;
                               calorie.Text_circle.zero = textCircle.zero;
                               calorie.Text_circle.unit = textCircle.unit;
                               calorie.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                               calorie.Text_circle.imperial_unit = textCircle.imperial_unit;
                               calorie.Text_circle.error_image = textCircle.error_image;
                               calorie.Text_circle.dot_image = textCircle.dot_image;
                               calorie.Text_circle.reverse_direction = textCircle.reverse_direction;
                               calorie.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                               calorie.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                               calorie.Text_circle.visible = true;
                               calorie.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "CAL_TARGET")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                //if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                               calorie.Text_circle_Target = new Text_Circle();
                               calorie.Text_circle_Target.img_First = textCircle.img_First;
                               calorie.Text_circle_Target.circle_center_X = textCircle.circle_center_X;
                               calorie.Text_circle_Target.circle_center_Y = textCircle.circle_center_Y;
                               calorie.Text_circle_Target.char_space_angle = textCircle.char_space_angle;
                               calorie.Text_circle_Target.angle = textCircle.angle;
                               calorie.Text_circle_Target.radius = textCircle.radius;
                               calorie.Text_circle_Target.zero = textCircle.zero;
                               calorie.Text_circle_Target.unit = textCircle.unit;
                               calorie.Text_circle_Target.unit_in_alignment = textCircle.unit_in_alignment;
                               calorie.Text_circle_Target.imperial_unit = textCircle.imperial_unit;
                               calorie.Text_circle_Target.error_image = textCircle.error_image;
                               calorie.Text_circle_Target.dot_image = textCircle.dot_image;
                               calorie.Text_circle_Target.reverse_direction = textCircle.reverse_direction;
                               calorie.Text_circle_Target.horizontal_alignment = textCircle.horizontal_alignment;
                               calorie.Text_circle_Target.vertical_alignment = textCircle.vertical_alignment;
                               calorie.Text_circle_Target.visible = true;
                               calorie.Text_circle_Target.position = offset;
                            }
                        }

                        if (textCircle.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                //if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                               heart.Text_circle = new Text_Circle();
                               heart.Text_circle.img_First = textCircle.img_First;
                               heart.Text_circle.circle_center_X = textCircle.circle_center_X;
                               heart.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                               heart.Text_circle.char_space_angle = textCircle.char_space_angle;
                               heart.Text_circle.angle = textCircle.angle;
                               heart.Text_circle.radius = textCircle.radius;
                               heart.Text_circle.zero = textCircle.zero;
                               heart.Text_circle.unit = textCircle.unit;
                               heart.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                               heart.Text_circle.imperial_unit = textCircle.imperial_unit;
                               heart.Text_circle.error_image = textCircle.error_image;
                               heart.Text_circle.dot_image = textCircle.dot_image;
                               heart.Text_circle.reverse_direction = textCircle.reverse_direction;
                               heart.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                               heart.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                               heart.Text_circle.visible = true;
                               heart.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                //if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                               pai.Text_circle_Target = new Text_Circle();
                               pai.Text_circle_Target.img_First = textCircle.img_First;
                               pai.Text_circle_Target.circle_center_X = textCircle.circle_center_X;
                               pai.Text_circle_Target.circle_center_Y = textCircle.circle_center_Y;
                               pai.Text_circle_Target.char_space_angle = textCircle.char_space_angle;
                               pai.Text_circle_Target.angle = textCircle.angle;
                               pai.Text_circle_Target.radius = textCircle.radius;
                               pai.Text_circle_Target.zero = textCircle.zero;
                               pai.Text_circle_Target.unit = textCircle.unit;
                               pai.Text_circle_Target.unit_in_alignment = textCircle.unit_in_alignment;
                               pai.Text_circle_Target.imperial_unit = textCircle.imperial_unit;
                               pai.Text_circle_Target.error_image = textCircle.error_image;
                               pai.Text_circle_Target.dot_image = textCircle.dot_image;
                               pai.Text_circle_Target.reverse_direction = textCircle.reverse_direction;
                               pai.Text_circle_Target.horizontal_alignment = textCircle.horizontal_alignment;
                               pai.Text_circle_Target.vertical_alignment = textCircle.vertical_alignment;
                               pai.Text_circle_Target.visible = true;
                               pai.Text_circle_Target.position = offset;
                            }
                        }

                        if (textCircle.type == "DISTANCE")
                        {
                            ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            if (distance == null)
                            {
                                elementsList.Add(new ElementDistance());
                                distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            }
                            if (distance != null)
                            {
                                int offset = 1;
                                if (distance.Number != null) offset++;
                                if (distance.Number_Font != null) offset++;
                                if (distance.Text_rotation != null) offset++;
                                //if (distance.Text_circle != null) offset++;
                                if (distance.Icon != null) offset++;

                                distance.Text_circle = new Text_Circle();
                                distance.Text_circle.img_First = textCircle.img_First;
                                distance.Text_circle.circle_center_X = textCircle.circle_center_X;
                                distance.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                distance.Text_circle.char_space_angle = textCircle.char_space_angle;
                                distance.Text_circle.angle = textCircle.angle;
                                distance.Text_circle.radius = textCircle.radius;
                                distance.Text_circle.zero = textCircle.zero;
                                distance.Text_circle.unit = textCircle.unit;
                                distance.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                distance.Text_circle.imperial_unit = textCircle.imperial_unit;
                                distance.Text_circle.error_image = textCircle.error_image;
                                distance.Text_circle.dot_image = textCircle.dot_image;
                                distance.Text_circle.reverse_direction = textCircle.reverse_direction;
                                distance.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                distance.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                distance.Text_circle.visible = true;
                                distance.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                //if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Text_circle = new Text_Circle();
                                stand.Text_circle.img_First = textCircle.img_First;
                                stand.Text_circle.circle_center_X = textCircle.circle_center_X;
                                stand.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                stand.Text_circle.char_space_angle = textCircle.char_space_angle;
                                stand.Text_circle.angle = textCircle.angle;
                                stand.Text_circle.radius = textCircle.radius;
                                stand.Text_circle.zero = textCircle.zero;
                                stand.Text_circle.unit = textCircle.unit;
                                stand.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                stand.Text_circle.imperial_unit = textCircle.imperial_unit;
                                stand.Text_circle.error_image = textCircle.error_image;
                                stand.Text_circle.dot_image = textCircle.dot_image;
                                stand.Text_circle.reverse_direction = textCircle.reverse_direction;
                                stand.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                stand.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                stand.Text_circle.visible = true;
                                stand.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "STAND_TARGET")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                //if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Text_circle_Target = new Text_Circle();
                                stand.Text_circle_Target.img_First = textCircle.img_First;
                                stand.Text_circle_Target.circle_center_X = textCircle.circle_center_X;
                                stand.Text_circle_Target.circle_center_Y = textCircle.circle_center_Y;
                                stand.Text_circle_Target.char_space_angle = textCircle.char_space_angle;
                                stand.Text_circle_Target.angle = textCircle.angle;
                                stand.Text_circle_Target.radius = textCircle.radius;
                                stand.Text_circle_Target.zero = textCircle.zero;
                                stand.Text_circle_Target.unit = textCircle.unit;
                                stand.Text_circle_Target.unit_in_alignment = textCircle.unit_in_alignment;
                                stand.Text_circle_Target.imperial_unit = textCircle.imperial_unit;
                                stand.Text_circle_Target.error_image = textCircle.error_image;
                                stand.Text_circle_Target.dot_image = textCircle.dot_image;
                                stand.Text_circle_Target.reverse_direction = textCircle.reverse_direction;
                                stand.Text_circle_Target.horizontal_alignment = textCircle.horizontal_alignment;
                                stand.Text_circle_Target.vertical_alignment = textCircle.vertical_alignment;
                                stand.Text_circle_Target.visible = true;
                                stand.Text_circle_Target.position = offset;
                            }
                        }

                        if (textCircle.type == "SPO2")
                        {
                            ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            if (spo2 == null)
                            {
                                elementsList.Add(new ElementSpO2());
                                spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            }
                            if (spo2 != null)
                            {
                                int offset = 1;
                                if (spo2.Number != null) offset++;
                                if (spo2.Number_Font != null) offset++;
                                if (spo2.Text_rotation != null) offset++;
                                //if (spo2.Text_circle != null) offset++;
                                if (spo2.Icon != null) offset++;

                                spo2.Text_circle = new Text_Circle();
                                spo2.Text_circle.img_First = textCircle.img_First;
                                spo2.Text_circle.circle_center_X = textCircle.circle_center_X;
                                spo2.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                spo2.Text_circle.char_space_angle = textCircle.char_space_angle;
                                spo2.Text_circle.angle = textCircle.angle;
                                spo2.Text_circle.radius = textCircle.radius;
                                spo2.Text_circle.zero = textCircle.zero;
                                spo2.Text_circle.unit = textCircle.unit;
                                spo2.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                spo2.Text_circle.imperial_unit = textCircle.imperial_unit;
                                spo2.Text_circle.error_image = textCircle.error_image;
                                spo2.Text_circle.dot_image = textCircle.dot_image;
                                spo2.Text_circle.reverse_direction = textCircle.reverse_direction;
                                spo2.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                spo2.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                spo2.Text_circle.visible = true;
                                spo2.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                //if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Text_circle = new Text_Circle();
                                fat_burning.Text_circle.img_First = textCircle.img_First;
                                fat_burning.Text_circle.circle_center_X = textCircle.circle_center_X;
                                fat_burning.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                fat_burning.Text_circle.char_space_angle = textCircle.char_space_angle;
                                fat_burning.Text_circle.angle = textCircle.angle;
                                fat_burning.Text_circle.radius = textCircle.radius;
                                fat_burning.Text_circle.zero = textCircle.zero;
                                fat_burning.Text_circle.unit = textCircle.unit;
                                fat_burning.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                fat_burning.Text_circle.imperial_unit = textCircle.imperial_unit;
                                fat_burning.Text_circle.error_image = textCircle.error_image;
                                fat_burning.Text_circle.dot_image = textCircle.dot_image;
                                fat_burning.Text_circle.reverse_direction = textCircle.reverse_direction;
                                fat_burning.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                fat_burning.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                fat_burning.Text_circle.visible = true;
                                fat_burning.Text_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "FAT_BURNING_TARGET")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                //if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Text_circle_Target = new Text_Circle();
                                fat_burning.Text_circle_Target.img_First = textCircle.img_First;
                                fat_burning.Text_circle_Target.circle_center_X = textCircle.circle_center_X;
                                fat_burning.Text_circle_Target.circle_center_Y = textCircle.circle_center_Y;
                                fat_burning.Text_circle_Target.char_space_angle = textCircle.char_space_angle;
                                fat_burning.Text_circle_Target.angle = textCircle.angle;
                                fat_burning.Text_circle_Target.radius = textCircle.radius;
                                fat_burning.Text_circle_Target.zero = textCircle.zero;
                                fat_burning.Text_circle_Target.unit = textCircle.unit;
                                fat_burning.Text_circle_Target.unit_in_alignment = textCircle.unit_in_alignment;
                                fat_burning.Text_circle_Target.imperial_unit = textCircle.imperial_unit;
                                fat_burning.Text_circle_Target.error_image = textCircle.error_image;
                                fat_burning.Text_circle_Target.dot_image = textCircle.dot_image;
                                fat_burning.Text_circle_Target.reverse_direction = textCircle.reverse_direction;
                                fat_burning.Text_circle_Target.horizontal_alignment = textCircle.horizontal_alignment;
                                fat_burning.Text_circle_Target.vertical_alignment = textCircle.vertical_alignment;
                                fat_burning.Text_circle_Target.visible = true;
                                fat_burning.Text_circle_Target.position = offset;
                            }
                        }



                        /*if (textCircle.type == "WEATHER_LOW")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                //if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Text_Min_circle = new Text_Circle();
                                weather.Text_Min_circle.img_First = textCircle.img_First;
                                weather.Text_Min_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Text_Min_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Text_Min_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Text_Min_circle.angle = textCircle.angle;
                                weather.Text_Min_circle.radius = textCircle.radius;
                                weather.Text_Min_circle.zero = textCircle.zero;
                                weather.Text_Min_circle.unit = textCircle.unit;
                                weather.Text_Min_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Text_Min_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Text_Min_circle.error_image = textCircle.error_image;
                                weather.Text_Min_circle.dot_image = textCircle.dot_image;
                                weather.Text_Min_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Text_Min_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Text_Min_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Text_Min_circle.visible = true;
                                weather.Text_Min_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "WEATHER_HIGH")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                //if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Text_Max_circle = new Text_Circle();
                                weather.Text_Max_circle.img_First = textCircle.img_First;
                                weather.Text_Max_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Text_Max_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Text_Max_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Text_Max_circle.angle = textCircle.angle;
                                weather.Text_Max_circle.radius = textCircle.radius;
                                weather.Text_Max_circle.zero = textCircle.zero;
                                weather.Text_Max_circle.unit = textCircle.unit;
                                weather.Text_Max_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Text_Max_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Text_Max_circle.error_image = textCircle.error_image;
                                weather.Text_Max_circle.dot_image = textCircle.dot_image;
                                weather.Text_Max_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Text_Max_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Text_Max_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Text_Max_circle.visible = true;
                                weather.Text_Max_circle.position = offset;
                            }
                        }*/

                        if (textCircle.type == "WEATHER_CURRENT")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Current == null) weather.Group_Current = new WeatherGroup();
                                int offset = 1;
                                //if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Current.Text_circle = new Text_Circle();
                                weather.Group_Current.Text_circle.img_First = textCircle.img_First;
                                weather.Group_Current.Text_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Group_Current.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Group_Current.Text_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Group_Current.Text_circle.angle = textCircle.angle;
                                weather.Group_Current.Text_circle.radius = textCircle.radius;
                                weather.Group_Current.Text_circle.zero = textCircle.zero;
                                weather.Group_Current.Text_circle.unit = textCircle.unit;
                                weather.Group_Current.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Group_Current.Text_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Group_Current.Text_circle.error_image = textCircle.error_image;
                                weather.Group_Current.Text_circle.dot_image = textCircle.dot_image;
                                weather.Group_Current.Text_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Group_Current.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Group_Current.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Group_Current.Text_circle.visible = true;
                                //weather.Group_Current.Text_circle.position = offset;

                                if (weather.Group_Current.position < 0) weather.Group_Current.position = offset;
                            }
                        }

                        if (textCircle.type == "WEATHER_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Min == null) weather.Group_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                //if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Min.Text_circle = new Text_Circle();
                                weather.Group_Min.Text_circle.img_First = textCircle.img_First;
                                weather.Group_Min.Text_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Group_Min.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Group_Min.Text_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Group_Min.Text_circle.angle = textCircle.angle;
                                weather.Group_Min.Text_circle.radius = textCircle.radius;
                                weather.Group_Min.Text_circle.zero = textCircle.zero;
                                weather.Group_Min.Text_circle.unit = textCircle.unit;
                                weather.Group_Min.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Group_Min.Text_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Group_Min.Text_circle.error_image = textCircle.error_image;
                                weather.Group_Min.Text_circle.dot_image = textCircle.dot_image;
                                weather.Group_Min.Text_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Group_Min.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Group_Min.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Group_Min.Text_circle.visible = true;
                                //weather.Group_Min.Text_circle.position = offset;

                                if (weather.Group_Min.position < 0) weather.Group_Min.position = offset;
                            }
                        }

                        if (textCircle.type == "WEATHER_HIGH")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max == null) weather.Group_Max = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                //if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max.Text_circle = new Text_Circle();
                                weather.Group_Max.Text_circle.img_First = textCircle.img_First;
                                weather.Group_Max.Text_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Group_Max.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Group_Max.Text_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Group_Max.Text_circle.angle = textCircle.angle;
                                weather.Group_Max.Text_circle.radius = textCircle.radius;
                                weather.Group_Max.Text_circle.zero = textCircle.zero;
                                weather.Group_Max.Text_circle.unit = textCircle.unit;
                                weather.Group_Max.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Group_Max.Text_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Group_Max.Text_circle.error_image = textCircle.error_image;
                                weather.Group_Max.Text_circle.dot_image = textCircle.dot_image;
                                weather.Group_Max.Text_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Group_Max.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Group_Max.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Group_Max.Text_circle.visible = true;
                                //weather.Group_Max.Text_circle.position = offset;

                                if (weather.Group_Max.position < 0) weather.Group_Max.position = offset;
                            }
                        }

                        if (textCircle.type == "WEATHER_HIGH_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max_Min == null) weather.Group_Max_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                //if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max_Min.Text_circle = new Text_Circle();
                                weather.Group_Max_Min.Text_circle.img_First = textCircle.img_First;
                                weather.Group_Max_Min.Text_circle.circle_center_X = textCircle.circle_center_X;
                                weather.Group_Max_Min.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                weather.Group_Max_Min.Text_circle.char_space_angle = textCircle.char_space_angle;
                                weather.Group_Max_Min.Text_circle.angle = textCircle.angle;
                                weather.Group_Max_Min.Text_circle.radius = textCircle.radius;
                                weather.Group_Max_Min.Text_circle.zero = textCircle.zero;
                                weather.Group_Max_Min.Text_circle.unit = textCircle.unit;
                                weather.Group_Max_Min.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                weather.Group_Max_Min.Text_circle.imperial_unit = textCircle.imperial_unit;
                                weather.Group_Max_Min.Text_circle.error_image = textCircle.error_image;
                                weather.Group_Max_Min.Text_circle.dot_image = textCircle.dot_image;
                                weather.Group_Max_Min.Text_circle.reverse_direction = textCircle.reverse_direction;
                                weather.Group_Max_Min.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                weather.Group_Max_Min.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                weather.Group_Max_Min.Text_circle.visible = true;
                                //weather.Group_Max_Min.Text_circle.position = offset;

                                if (weather.Group_Max_Min.position < 0) weather.Group_Max_Min.position = offset;
                            }
                        }

                        if (textCircle.type == "SUN_RISE")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                //if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunrise_circle = new Text_Circle();
                                sunrise.Sunrise_circle.img_First = textCircle.img_First;
                                sunrise.Sunrise_circle.circle_center_X = textCircle.circle_center_X;
                                sunrise.Sunrise_circle.circle_center_Y = textCircle.circle_center_Y;
                                sunrise.Sunrise_circle.char_space_angle = textCircle.char_space_angle;
                                sunrise.Sunrise_circle.angle = textCircle.angle;
                                sunrise.Sunrise_circle.radius = textCircle.radius;
                                sunrise.Sunrise_circle.zero = textCircle.zero;
                                sunrise.Sunrise_circle.unit = textCircle.unit;
                                sunrise.Sunrise_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                sunrise.Sunrise_circle.imperial_unit = textCircle.imperial_unit;
                                sunrise.Sunrise_circle.error_image = textCircle.error_image;
                                sunrise.Sunrise_circle.dot_image = textCircle.dot_image;
                                sunrise.Sunrise_circle.reverse_direction = textCircle.reverse_direction;
                                sunrise.Sunrise_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                sunrise.Sunrise_circle.vertical_alignment = textCircle.vertical_alignment;
                                sunrise.Sunrise_circle.visible = true;
                                sunrise.Sunrise_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "SUN_SET")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                //if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunset_circle = new Text_Circle();
                                sunrise.Sunset_circle.img_First = textCircle.img_First;
                                sunrise.Sunset_circle.circle_center_X = textCircle.circle_center_X;
                                sunrise.Sunset_circle.circle_center_Y = textCircle.circle_center_Y;
                                sunrise.Sunset_circle.char_space_angle = textCircle.char_space_angle;
                                sunrise.Sunset_circle.angle = textCircle.angle;
                                sunrise.Sunset_circle.radius = textCircle.radius;
                                sunrise.Sunset_circle.zero = textCircle.zero;
                                sunrise.Sunset_circle.unit = textCircle.unit;
                                sunrise.Sunset_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                sunrise.Sunset_circle.imperial_unit = textCircle.imperial_unit;
                                sunrise.Sunset_circle.error_image = textCircle.error_image;
                                sunrise.Sunset_circle.dot_image = textCircle.dot_image;
                                sunrise.Sunset_circle.reverse_direction = textCircle.reverse_direction;
                                sunrise.Sunset_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                sunrise.Sunset_circle.vertical_alignment = textCircle.vertical_alignment;
                                sunrise.Sunset_circle.visible = true;
                                sunrise.Sunset_circle.position = offset;
                            }
                        }

                        if (textCircle.type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                //if (steps.Text_circle != null) offset++;
                                if (compass.Pointer != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Text_circle = new Text_Circle();
                                compass.Text_circle.img_First = textCircle.img_First;
                                compass.Text_circle.circle_center_X = textCircle.circle_center_X;
                                compass.Text_circle.circle_center_Y = textCircle.circle_center_Y;
                                compass.Text_circle.char_space_angle = textCircle.char_space_angle;
                                compass.Text_circle.angle = textCircle.angle;
                                compass.Text_circle.radius = textCircle.radius;
                                compass.Text_circle.zero = textCircle.zero;
                                compass.Text_circle.unit = textCircle.unit;
                                compass.Text_circle.unit_in_alignment = textCircle.unit_in_alignment;
                                compass.Text_circle.imperial_unit = textCircle.imperial_unit;
                                compass.Text_circle.error_image = textCircle.error_image;
                                compass.Text_circle.dot_image = textCircle.dot_image;
                                compass.Text_circle.reverse_direction = textCircle.reverse_direction;
                                compass.Text_circle.horizontal_alignment = textCircle.horizontal_alignment;
                                compass.Text_circle.vertical_alignment = textCircle.vertical_alignment;
                                compass.Text_circle.visible = true;
                                compass.Text_circle.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region IMG_POINTER
                    case "IMG_POINTER":
                        hmUI_widget_IMG_POINTER imgPointer = Object_IMG_POINTER(parametrs);

                        if (imgPointer.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Pointer = new hmUI_widget_IMG_POINTER();
                                steps.Pointer.src = imgPointer.src;
                                steps.Pointer.center_x = imgPointer.center_x;
                                steps.Pointer.center_y = imgPointer.center_y;
                                steps.Pointer.pos_x = imgPointer.pos_x;
                                steps.Pointer.pos_y = imgPointer.pos_y;
                                steps.Pointer.start_angle = imgPointer.start_angle;
                                steps.Pointer.end_angle = imgPointer.end_angle;
                                steps.Pointer.cover_path = imgPointer.cover_path;
                                steps.Pointer.cover_x = imgPointer.cover_x;
                                steps.Pointer.cover_y = imgPointer.cover_y;
                                steps.Pointer.scale = imgPointer.scale;
                                steps.Pointer.scale_x = imgPointer.scale_x;
                                steps.Pointer.scale_y = imgPointer.scale_y;
                                steps.Pointer.visible = true;
                                steps.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Pointer = new hmUI_widget_IMG_POINTER();
                                battery.Pointer.src = imgPointer.src;
                                battery.Pointer.center_x = imgPointer.center_x;
                                battery.Pointer.center_y = imgPointer.center_y;
                                battery.Pointer.pos_x = imgPointer.pos_x;
                                battery.Pointer.pos_y = imgPointer.pos_y;
                                battery.Pointer.start_angle = imgPointer.start_angle;
                                battery.Pointer.end_angle = imgPointer.end_angle;
                                battery.Pointer.cover_path = imgPointer.cover_path;
                                battery.Pointer.cover_x = imgPointer.cover_x;
                                battery.Pointer.cover_y = imgPointer.cover_y;
                                battery.Pointer.scale = imgPointer.scale;
                                battery.Pointer.scale_x = imgPointer.scale_x;
                                battery.Pointer.scale_y = imgPointer.scale_y;
                                battery.Pointer.visible = true;
                                battery.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Pointer = new hmUI_widget_IMG_POINTER();
                                calorie.Pointer.src = imgPointer.src;
                                calorie.Pointer.center_x = imgPointer.center_x;
                                calorie.Pointer.center_y = imgPointer.center_y;
                                calorie.Pointer.pos_x = imgPointer.pos_x;
                                calorie.Pointer.pos_y = imgPointer.pos_y;
                                calorie.Pointer.start_angle = imgPointer.start_angle;
                                calorie.Pointer.end_angle = imgPointer.end_angle;
                                calorie.Pointer.cover_path = imgPointer.cover_path;
                                calorie.Pointer.cover_x = imgPointer.cover_x;
                                calorie.Pointer.cover_y = imgPointer.cover_y;
                                calorie.Pointer.scale = imgPointer.scale;
                                calorie.Pointer.scale_x = imgPointer.scale_x;
                                calorie.Pointer.scale_y = imgPointer.scale_y;
                                calorie.Pointer.visible = true;
                                calorie.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Pointer = new hmUI_widget_IMG_POINTER();
                                heart.Pointer.src = imgPointer.src;
                                heart.Pointer.center_x = imgPointer.center_x;
                                heart.Pointer.center_y = imgPointer.center_y;
                                heart.Pointer.pos_x = imgPointer.pos_x;
                                heart.Pointer.pos_y = imgPointer.pos_y;
                                heart.Pointer.start_angle = imgPointer.start_angle;
                                heart.Pointer.end_angle = imgPointer.end_angle;
                                heart.Pointer.cover_path = imgPointer.cover_path;
                                heart.Pointer.cover_x = imgPointer.cover_x;
                                heart.Pointer.cover_y = imgPointer.cover_y;
                                heart.Pointer.scale = imgPointer.scale;
                                heart.Pointer.scale_x = imgPointer.scale_x;
                                heart.Pointer.scale_y = imgPointer.scale_y;
                                heart.Pointer.visible = true;
                                heart.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Pointer = new hmUI_widget_IMG_POINTER();
                                pai.Pointer.src = imgPointer.src;
                                pai.Pointer.center_x = imgPointer.center_x;
                                pai.Pointer.center_y = imgPointer.center_y;
                                pai.Pointer.pos_x = imgPointer.pos_x;
                                pai.Pointer.pos_y = imgPointer.pos_y;
                                pai.Pointer.start_angle = imgPointer.start_angle;
                                pai.Pointer.end_angle = imgPointer.end_angle;
                                pai.Pointer.cover_path = imgPointer.cover_path;
                                pai.Pointer.cover_x = imgPointer.cover_x;
                                pai.Pointer.cover_y = imgPointer.cover_y;
                                pai.Pointer.scale = imgPointer.scale;
                                pai.Pointer.scale_x = imgPointer.scale_x;
                                pai.Pointer.scale_y = imgPointer.scale_y;
                                pai.Pointer.visible = true;
                                pai.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                //if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Pointer = new hmUI_widget_IMG_POINTER();
                                stand.Pointer.src = imgPointer.src;
                                stand.Pointer.center_x = imgPointer.center_x;
                                stand.Pointer.center_y = imgPointer.center_y;
                                stand.Pointer.pos_x = imgPointer.pos_x;
                                stand.Pointer.pos_y = imgPointer.pos_y;
                                stand.Pointer.start_angle = imgPointer.start_angle;
                                stand.Pointer.end_angle = imgPointer.end_angle;
                                stand.Pointer.cover_path = imgPointer.cover_path;
                                stand.Pointer.cover_x = imgPointer.cover_x;
                                stand.Pointer.cover_y = imgPointer.cover_y;
                                stand.Pointer.scale = imgPointer.scale;
                                stand.Pointer.scale_x = imgPointer.scale_x;
                                stand.Pointer.scale_y = imgPointer.scale_y;
                                stand.Pointer.visible = true;
                                stand.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                //if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Pointer = new hmUI_widget_IMG_POINTER();
                                activity.Pointer.src = imgPointer.src;
                                activity.Pointer.center_x = imgPointer.center_x;
                                activity.Pointer.center_y = imgPointer.center_y;
                                activity.Pointer.pos_x = imgPointer.pos_x;
                                activity.Pointer.pos_y = imgPointer.pos_y;
                                activity.Pointer.start_angle = imgPointer.start_angle;
                                activity.Pointer.end_angle = imgPointer.end_angle;
                                activity.Pointer.cover_path = imgPointer.cover_path;
                                activity.Pointer.cover_x = imgPointer.cover_x;
                                activity.Pointer.cover_y = imgPointer.cover_y;
                                activity.Pointer.scale = imgPointer.scale;
                                activity.Pointer.scale_x = imgPointer.scale_x;
                                activity.Pointer.scale_y = imgPointer.scale_y;
                                activity.Pointer.visible = true;
                                activity.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                if (stress.Images != null) offset++;
                                if (stress.Segments != null) offset++;
                                if (stress.Number != null) offset++;
                                if (stress.Number_Font != null) offset++;
                                //if (stress.Pointer != null) offset++;
                                if (stress.Icon != null) offset++;

                                stress.Pointer = new hmUI_widget_IMG_POINTER();
                                stress.Pointer.src = imgPointer.src;
                                stress.Pointer.center_x = imgPointer.center_x;
                                stress.Pointer.center_y = imgPointer.center_y;
                                stress.Pointer.pos_x = imgPointer.pos_x;
                                stress.Pointer.pos_y = imgPointer.pos_y;
                                stress.Pointer.start_angle = imgPointer.start_angle;
                                stress.Pointer.end_angle = imgPointer.end_angle;
                                stress.Pointer.cover_path = imgPointer.cover_path;
                                stress.Pointer.cover_x = imgPointer.cover_x;
                                stress.Pointer.cover_y = imgPointer.cover_y;
                                stress.Pointer.scale = imgPointer.scale;
                                stress.Pointer.scale_x = imgPointer.scale_x;
                                stress.Pointer.scale_y = imgPointer.scale_y;
                                stress.Pointer.visible = true;
                                stress.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                //if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Pointer = new hmUI_widget_IMG_POINTER();
                                fat_burning.Pointer.src = imgPointer.src;
                                fat_burning.Pointer.center_x = imgPointer.center_x;
                                fat_burning.Pointer.center_y = imgPointer.center_y;
                                fat_burning.Pointer.pos_x = imgPointer.pos_x;
                                fat_burning.Pointer.pos_y = imgPointer.pos_y;
                                fat_burning.Pointer.start_angle = imgPointer.start_angle;
                                fat_burning.Pointer.end_angle = imgPointer.end_angle;
                                fat_burning.Pointer.cover_path = imgPointer.cover_path;
                                fat_burning.Pointer.cover_x = imgPointer.cover_x;
                                fat_burning.Pointer.cover_y = imgPointer.cover_y;
                                fat_burning.Pointer.scale = imgPointer.scale;
                                fat_burning.Pointer.scale_x = imgPointer.scale_x;
                                fat_burning.Pointer.scale_y = imgPointer.scale_y;
                                fat_burning.Pointer.visible = true;
                                fat_burning.Pointer.position = offset;
                            }
                        }



                        if (imgPointer.type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                if (uv_index.Images != null) offset++;
                                if (uv_index.Segments != null) offset++;
                                if (uv_index.Number != null) offset++;
                                if (uv_index.Number_Font != null) offset++;
                                //if (uv_index.Pointer != null) offset++;
                                if (uv_index.Icon != null) offset++;

                                uv_index.Pointer = new hmUI_widget_IMG_POINTER();
                                uv_index.Pointer.src = imgPointer.src;
                                uv_index.Pointer.center_x = imgPointer.center_x;
                                uv_index.Pointer.center_y = imgPointer.center_y;
                                uv_index.Pointer.pos_x = imgPointer.pos_x;
                                uv_index.Pointer.pos_y = imgPointer.pos_y;
                                uv_index.Pointer.start_angle = imgPointer.start_angle;
                                uv_index.Pointer.end_angle = imgPointer.end_angle;
                                uv_index.Pointer.cover_path = imgPointer.cover_path;
                                uv_index.Pointer.cover_x = imgPointer.cover_x;
                                uv_index.Pointer.cover_y = imgPointer.cover_y;
                                uv_index.Pointer.scale = imgPointer.scale;
                                uv_index.Pointer.scale_x = imgPointer.scale_x;
                                uv_index.Pointer.scale_y = imgPointer.scale_y;
                                uv_index.Pointer.visible = true;
                                uv_index.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                if (humidity.Images != null) offset++;
                                if (humidity.Segments != null) offset++;
                                if (humidity.Number != null) offset++;
                                if (humidity.Number_Font != null) offset++;
                                //if (humidity.Pointer != null) offset++;
                                if (humidity.Icon != null) offset++;

                                humidity.Pointer = new hmUI_widget_IMG_POINTER();
                                humidity.Pointer.src = imgPointer.src;
                                humidity.Pointer.center_x = imgPointer.center_x;
                                humidity.Pointer.center_y = imgPointer.center_y;
                                humidity.Pointer.pos_x = imgPointer.pos_x;
                                humidity.Pointer.pos_y = imgPointer.pos_y;
                                humidity.Pointer.start_angle = imgPointer.start_angle;
                                humidity.Pointer.end_angle = imgPointer.end_angle;
                                humidity.Pointer.cover_path = imgPointer.cover_path;
                                humidity.Pointer.cover_x = imgPointer.cover_x;
                                humidity.Pointer.cover_y = imgPointer.cover_y;
                                humidity.Pointer.scale = imgPointer.scale;
                                humidity.Pointer.scale_x = imgPointer.scale_x;
                                humidity.Pointer.scale_y = imgPointer.scale_y;
                                humidity.Pointer.visible = true;
                                humidity.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "ALTIMETER")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                if (altimeter.Number != null) offset++;
                                //if (altimeter.Pointer != null) offset++;
                                if (altimeter.Icon != null) offset++;

                                altimeter.Pointer = new hmUI_widget_IMG_POINTER();
                                altimeter.Pointer.src = imgPointer.src;
                                altimeter.Pointer.center_x = imgPointer.center_x;
                                altimeter.Pointer.center_y = imgPointer.center_y;
                                altimeter.Pointer.pos_x = imgPointer.pos_x;
                                altimeter.Pointer.pos_y = imgPointer.pos_y;
                                altimeter.Pointer.start_angle = imgPointer.start_angle;
                                altimeter.Pointer.end_angle = imgPointer.end_angle;
                                altimeter.Pointer.cover_path = imgPointer.cover_path;
                                altimeter.Pointer.cover_x = imgPointer.cover_x;
                                altimeter.Pointer.cover_y = imgPointer.cover_y;
                                altimeter.Pointer.scale = imgPointer.scale;
                                altimeter.Pointer.scale_x = imgPointer.scale_x;
                                altimeter.Pointer.scale_y = imgPointer.scale_y;
                                altimeter.Pointer.visible = true;
                                altimeter.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "SUN_CURRENT")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                //if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Pointer = new hmUI_widget_IMG_POINTER();
                                sunrise.Pointer.src = imgPointer.src;
                                sunrise.Pointer.center_x = imgPointer.center_x;
                                sunrise.Pointer.center_y = imgPointer.center_y;
                                sunrise.Pointer.pos_x = imgPointer.pos_x;
                                sunrise.Pointer.pos_y = imgPointer.pos_y;
                                sunrise.Pointer.start_angle = imgPointer.start_angle;
                                sunrise.Pointer.end_angle = imgPointer.end_angle;
                                sunrise.Pointer.cover_path = imgPointer.cover_path;
                                sunrise.Pointer.cover_x = imgPointer.cover_x;
                                sunrise.Pointer.cover_y = imgPointer.cover_y;
                                sunrise.Pointer.scale = imgPointer.scale;
                                sunrise.Pointer.scale_x = imgPointer.scale_x;
                                sunrise.Pointer.scale_y = imgPointer.scale_y;
                                sunrise.Pointer.visible = true;
                                sunrise.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "MOON_CURRENT")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                //if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Pointer = new hmUI_widget_IMG_POINTER();
                                moon.Pointer.src = imgPointer.src;
                                moon.Pointer.center_x = imgPointer.center_x;
                                moon.Pointer.center_y = imgPointer.center_y;
                                moon.Pointer.pos_x = imgPointer.pos_x;
                                moon.Pointer.pos_y = imgPointer.pos_y;
                                moon.Pointer.start_angle = imgPointer.start_angle;
                                moon.Pointer.end_angle = imgPointer.end_angle;
                                moon.Pointer.cover_path = imgPointer.cover_path;
                                moon.Pointer.cover_x = imgPointer.cover_x;
                                moon.Pointer.cover_y = imgPointer.cover_y;
                                moon.Pointer.scale = imgPointer.scale;
                                moon.Pointer.scale_x = imgPointer.scale_x;
                                moon.Pointer.scale_y = imgPointer.scale_y;
                                moon.Pointer.visible = true;
                                moon.Pointer.position = offset;
                            }
                        }

                        if (imgPointer.type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                if (wind.Number_Font != null) offset++;
                                //if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Pointer = new hmUI_widget_IMG_POINTER();
                                wind.Pointer.src = imgPointer.src;
                                wind.Pointer.center_x = imgPointer.center_x;
                                wind.Pointer.center_y = imgPointer.center_y;
                                wind.Pointer.pos_x = imgPointer.pos_x;
                                wind.Pointer.pos_y = imgPointer.pos_y;
                                wind.Pointer.start_angle = imgPointer.start_angle;
                                wind.Pointer.end_angle = imgPointer.end_angle;
                                wind.Pointer.cover_path = imgPointer.cover_path;
                                wind.Pointer.cover_x = imgPointer.cover_x;
                                wind.Pointer.cover_y = imgPointer.cover_y;
                                wind.Pointer.scale = imgPointer.scale;
                                wind.Pointer.scale_x = imgPointer.scale_x;
                                wind.Pointer.scale_y = imgPointer.scale_y;
                                wind.Pointer.visible = true;
                                wind.Pointer.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region CUSTOM_POINTER
                    case "CUSTOM_POINTER":
                        hmUI_widget_IMG_POINTER customPointer = Object_CUSTOM_POINTER(parametrs);

                        if (customPointer.type == "COMPASS")
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                if (compass.Number_Font != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                //if (steps.Pointer != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Pointer = new hmUI_widget_IMG_POINTER();
                                compass.Pointer.src = customPointer.src;
                                compass.Pointer.center_x = customPointer.center_x;
                                compass.Pointer.center_y = customPointer.center_y;
                                compass.Pointer.pos_x = customPointer.pos_x;
                                compass.Pointer.pos_y = customPointer.pos_y;
                                compass.Pointer.start_angle = customPointer.start_angle;
                                compass.Pointer.end_angle = customPointer.end_angle;
                                compass.Pointer.cover_path = customPointer.cover_path;
                                compass.Pointer.cover_x = customPointer.cover_x;
                                compass.Pointer.cover_y = customPointer.cover_y;
                                compass.Pointer.scale = customPointer.scale;
                                compass.Pointer.scale_x = customPointer.scale_x;
                                compass.Pointer.scale_y = customPointer.scale_y;
                                compass.Pointer.visible = true;
                                compass.Pointer.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region Circle_Scale
                    case "Circle_Scale":
                        Circle_Scale circle_Scale = Object_Circle_Scale(parametrs);

                        if (circle_Scale.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                //if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Circle_Scale = new Circle_Scale();
                                steps.Circle_Scale.center_x = circle_Scale.center_x;
                                steps.Circle_Scale.center_y = circle_Scale.center_y;
                                steps.Circle_Scale.start_angle = circle_Scale.start_angle;
                                steps.Circle_Scale.end_angle = circle_Scale.end_angle;
                                steps.Circle_Scale.color = circle_Scale.color;
                                steps.Circle_Scale.radius = circle_Scale.radius;
                                steps.Circle_Scale.line_width = circle_Scale.line_width;
                                steps.Circle_Scale.line_cap = circle_Scale.line_cap;
                                steps.Circle_Scale.mirror = circle_Scale.mirror;
                                steps.Circle_Scale.inversion = circle_Scale.inversion;
                                steps.Circle_Scale.visible = true;
                                steps.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                //if (steps.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Circle_Scale = new Circle_Scale();
                                battery.Circle_Scale.center_x = circle_Scale.center_x;
                                battery.Circle_Scale.center_y = circle_Scale.center_y;
                                battery.Circle_Scale.start_angle = circle_Scale.start_angle;
                                battery.Circle_Scale.end_angle = circle_Scale.end_angle;
                                battery.Circle_Scale.color = circle_Scale.color;
                                battery.Circle_Scale.radius = circle_Scale.radius;
                                battery.Circle_Scale.line_width = circle_Scale.line_width;
                                battery.Circle_Scale.line_cap = circle_Scale.line_cap;
                                battery.Circle_Scale.mirror = circle_Scale.mirror;
                                battery.Circle_Scale.inversion = circle_Scale.inversion;
                                battery.Circle_Scale.visible = true;
                                battery.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                //if (steps.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Circle_Scale = new Circle_Scale();
                                calorie.Circle_Scale.center_x = circle_Scale.center_x;
                                calorie.Circle_Scale.center_y = circle_Scale.center_y;
                                calorie.Circle_Scale.start_angle = circle_Scale.start_angle;
                                calorie.Circle_Scale.end_angle = circle_Scale.end_angle;
                                calorie.Circle_Scale.color = circle_Scale.color;
                                calorie.Circle_Scale.radius = circle_Scale.radius;
                                calorie.Circle_Scale.line_width = circle_Scale.line_width;
                                calorie.Circle_Scale.line_cap = circle_Scale.line_cap;
                                calorie.Circle_Scale.mirror = circle_Scale.mirror;
                                calorie.Circle_Scale.inversion = circle_Scale.inversion;
                                calorie.Circle_Scale.visible = true;
                                calorie.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                //if (steps.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Circle_Scale = new Circle_Scale();
                                heart.Circle_Scale.center_x = circle_Scale.center_x;
                                heart.Circle_Scale.center_y = circle_Scale.center_y;
                                heart.Circle_Scale.start_angle = circle_Scale.start_angle;
                                heart.Circle_Scale.end_angle = circle_Scale.end_angle;
                                heart.Circle_Scale.color = circle_Scale.color;
                                heart.Circle_Scale.radius = circle_Scale.radius;
                                heart.Circle_Scale.line_width = circle_Scale.line_width;
                                heart.Circle_Scale.line_cap = circle_Scale.line_cap;
                                heart.Circle_Scale.mirror = circle_Scale.mirror;
                                heart.Circle_Scale.inversion = circle_Scale.inversion;
                                heart.Circle_Scale.visible = true;
                                heart.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                //if (steps.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Circle_Scale = new Circle_Scale();
                                pai.Circle_Scale.center_x = circle_Scale.center_x;
                                pai.Circle_Scale.center_y = circle_Scale.center_y;
                                pai.Circle_Scale.start_angle = circle_Scale.start_angle;
                                pai.Circle_Scale.end_angle = circle_Scale.end_angle;
                                pai.Circle_Scale.color = circle_Scale.color;
                                pai.Circle_Scale.radius = circle_Scale.radius;
                                pai.Circle_Scale.line_width = circle_Scale.line_width;
                                pai.Circle_Scale.line_cap = circle_Scale.line_cap;
                                pai.Circle_Scale.mirror = circle_Scale.mirror;
                                pai.Circle_Scale.inversion = circle_Scale.inversion;
                                pai.Circle_Scale.visible = true;
                                pai.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                //if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Circle_Scale = new Circle_Scale();
                                stand.Circle_Scale.center_x = circle_Scale.center_x;
                                stand.Circle_Scale.center_y = circle_Scale.center_y;
                                stand.Circle_Scale.start_angle = circle_Scale.start_angle;
                                stand.Circle_Scale.end_angle = circle_Scale.end_angle;
                                stand.Circle_Scale.color = circle_Scale.color;
                                stand.Circle_Scale.radius = circle_Scale.radius;
                                stand.Circle_Scale.line_width = circle_Scale.line_width;
                                stand.Circle_Scale.line_cap = circle_Scale.line_cap;
                                stand.Circle_Scale.mirror = circle_Scale.mirror;
                                stand.Circle_Scale.inversion = circle_Scale.inversion;
                                stand.Circle_Scale.visible = true;
                                stand.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                //if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Circle_Scale = new Circle_Scale();
                                activity.Circle_Scale.center_x = circle_Scale.center_x;
                                activity.Circle_Scale.center_y = circle_Scale.center_y;
                                activity.Circle_Scale.start_angle = circle_Scale.start_angle;
                                activity.Circle_Scale.end_angle = circle_Scale.end_angle;
                                activity.Circle_Scale.color = circle_Scale.color;
                                activity.Circle_Scale.radius = circle_Scale.radius;
                                activity.Circle_Scale.line_width = circle_Scale.line_width;
                                activity.Circle_Scale.line_cap = circle_Scale.line_cap;
                                activity.Circle_Scale.mirror = circle_Scale.mirror;
                                activity.Circle_Scale.inversion = circle_Scale.inversion;
                                activity.Circle_Scale.visible = true;
                                activity.Circle_Scale.position = offset;
                            }
                        }

                        if (circle_Scale.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                //if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Circle_Scale = new Circle_Scale();
                                fat_burning.Circle_Scale.center_x = circle_Scale.center_x;
                                fat_burning.Circle_Scale.center_y = circle_Scale.center_y;
                                fat_burning.Circle_Scale.start_angle = circle_Scale.start_angle;
                                fat_burning.Circle_Scale.end_angle = circle_Scale.end_angle;
                                fat_burning.Circle_Scale.color = circle_Scale.color;
                                fat_burning.Circle_Scale.radius = circle_Scale.radius;
                                fat_burning.Circle_Scale.line_width = circle_Scale.line_width;
                                fat_burning.Circle_Scale.line_cap = circle_Scale.line_cap;
                                fat_burning.Circle_Scale.mirror = circle_Scale.mirror;
                                fat_burning.Circle_Scale.inversion = circle_Scale.inversion;
                                fat_burning.Circle_Scale.visible = true;
                                fat_burning.Circle_Scale.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region Linear_Scale
                    case "Linear_Scale":
                        Linear_Scale linear_Scale = Object_Linear_Scale(parametrs);

                        if (linear_Scale.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                //if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Linear_Scale = new Linear_Scale();
                                steps.Linear_Scale.start_x = linear_Scale.start_x;
                                steps.Linear_Scale.start_y = linear_Scale.start_y;
                                steps.Linear_Scale.color = linear_Scale.color;
                                steps.Linear_Scale.lenght = linear_Scale.lenght;
                                steps.Linear_Scale.line_width = linear_Scale.line_width;
                                steps.Linear_Scale.line_cap = linear_Scale.line_cap;
                                steps.Linear_Scale.mirror = linear_Scale.mirror;
                                steps.Linear_Scale.inversion = linear_Scale.inversion;
                                steps.Linear_Scale.vertical = linear_Scale.vertical;
                                steps.Linear_Scale.pointer = linear_Scale.pointer;
                                steps.Linear_Scale.visible = true;
                                steps.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                //if (steps.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Linear_Scale = new Linear_Scale();
                                battery.Linear_Scale.start_x = linear_Scale.start_x;
                                battery.Linear_Scale.start_y = linear_Scale.start_y;
                                battery.Linear_Scale.color = linear_Scale.color;
                                battery.Linear_Scale.lenght = linear_Scale.lenght;
                                battery.Linear_Scale.line_width = linear_Scale.line_width;
                                battery.Linear_Scale.line_cap = linear_Scale.line_cap;
                                battery.Linear_Scale.mirror = linear_Scale.mirror;
                                battery.Linear_Scale.inversion = linear_Scale.inversion;
                                battery.Linear_Scale.vertical = linear_Scale.vertical;
                                battery.Linear_Scale.pointer = linear_Scale.pointer;
                                battery.Linear_Scale.visible = true;
                                battery.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                //if (steps.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Linear_Scale = new Linear_Scale();
                                calorie.Linear_Scale.start_x = linear_Scale.start_x;
                                calorie.Linear_Scale.start_y = linear_Scale.start_y;
                                calorie.Linear_Scale.color = linear_Scale.color;
                                calorie.Linear_Scale.lenght = linear_Scale.lenght;
                                calorie.Linear_Scale.line_width = linear_Scale.line_width;
                                calorie.Linear_Scale.line_cap = linear_Scale.line_cap;
                                calorie.Linear_Scale.mirror = linear_Scale.mirror;
                                calorie.Linear_Scale.inversion = linear_Scale.inversion;
                                calorie.Linear_Scale.vertical = linear_Scale.vertical;
                                calorie.Linear_Scale.pointer = linear_Scale.pointer;
                                calorie.Linear_Scale.visible = true;
                                calorie.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                //if (steps.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Linear_Scale = new Linear_Scale();
                                heart.Linear_Scale.start_x = linear_Scale.start_x;
                                heart.Linear_Scale.start_y = linear_Scale.start_y;
                                heart.Linear_Scale.color = linear_Scale.color;
                                heart.Linear_Scale.lenght = linear_Scale.lenght;
                                heart.Linear_Scale.line_width = linear_Scale.line_width;
                                heart.Linear_Scale.line_cap = linear_Scale.line_cap;
                                heart.Linear_Scale.mirror = linear_Scale.mirror;
                                heart.Linear_Scale.inversion = linear_Scale.inversion;
                                heart.Linear_Scale.vertical = linear_Scale.vertical;
                                heart.Linear_Scale.pointer = linear_Scale.pointer;
                                heart.Linear_Scale.visible = true;
                                heart.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                //if (steps.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Linear_Scale = new Linear_Scale();
                                pai.Linear_Scale.start_x = linear_Scale.start_x;
                                pai.Linear_Scale.start_y = linear_Scale.start_y;
                                pai.Linear_Scale.color = linear_Scale.color;
                                pai.Linear_Scale.lenght = linear_Scale.lenght;
                                pai.Linear_Scale.line_width = linear_Scale.line_width;
                                pai.Linear_Scale.line_cap = linear_Scale.line_cap;
                                pai.Linear_Scale.mirror = linear_Scale.mirror;
                                pai.Linear_Scale.inversion = linear_Scale.inversion;
                                pai.Linear_Scale.vertical = linear_Scale.vertical;
                                pai.Linear_Scale.pointer = linear_Scale.pointer;
                                pai.Linear_Scale.visible = true;
                                pai.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                //if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Linear_Scale = new Linear_Scale();
                                stand.Linear_Scale.start_x = linear_Scale.start_x;
                                stand.Linear_Scale.start_y = linear_Scale.start_y;
                                stand.Linear_Scale.color = linear_Scale.color;
                                stand.Linear_Scale.lenght = linear_Scale.lenght;
                                stand.Linear_Scale.line_width = linear_Scale.line_width;
                                stand.Linear_Scale.line_cap = linear_Scale.line_cap;
                                stand.Linear_Scale.mirror = linear_Scale.mirror;
                                stand.Linear_Scale.inversion = linear_Scale.inversion;
                                stand.Linear_Scale.vertical = linear_Scale.vertical;
                                stand.Linear_Scale.pointer = linear_Scale.pointer;
                                stand.Linear_Scale.visible = true;
                                stand.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                //if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Linear_Scale = new Linear_Scale();
                                activity.Linear_Scale.start_x = linear_Scale.start_x;
                                activity.Linear_Scale.start_y = linear_Scale.start_y;
                                activity.Linear_Scale.color = linear_Scale.color;
                                activity.Linear_Scale.lenght = linear_Scale.lenght;
                                activity.Linear_Scale.line_width = linear_Scale.line_width;
                                activity.Linear_Scale.line_cap = linear_Scale.line_cap;
                                activity.Linear_Scale.mirror = linear_Scale.mirror;
                                activity.Linear_Scale.inversion = linear_Scale.inversion;
                                activity.Linear_Scale.vertical = linear_Scale.vertical;
                                activity.Linear_Scale.pointer = linear_Scale.pointer;
                                activity.Linear_Scale.visible = true;
                                activity.Linear_Scale.position = offset;
                            }
                        }

                        if (linear_Scale.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                //if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Linear_Scale = new Linear_Scale();
                                fat_burning.Linear_Scale.start_x = linear_Scale.start_x;
                                fat_burning.Linear_Scale.start_y = linear_Scale.start_y;
                                fat_burning.Linear_Scale.color = linear_Scale.color;
                                fat_burning.Linear_Scale.lenght = linear_Scale.lenght;
                                fat_burning.Linear_Scale.line_width = linear_Scale.line_width;
                                fat_burning.Linear_Scale.line_cap = linear_Scale.line_cap;
                                fat_burning.Linear_Scale.mirror = linear_Scale.mirror;
                                fat_burning.Linear_Scale.inversion = linear_Scale.inversion;
                                fat_burning.Linear_Scale.vertical = linear_Scale.vertical;
                                fat_burning.Linear_Scale.pointer = linear_Scale.pointer;
                                fat_burning.Linear_Scale.visible = true;
                                fat_burning.Linear_Scale.position = offset;
                            }
                        }

                        break;
                    #endregion


                    #region IMG_STATUS
                    case "IMG_STATUS":
                        hmUI_widget_IMG_STATUS imgStatus = Object_IMG_STATUS(parametrs);

                        ElementStatuses elementStatuses = (ElementStatuses)elementsList.Find(e => e.GetType().Name == "ElementStatuses");
                        if (elementStatuses == null)
                        {
                            elementsList.Add(new ElementStatuses());
                            elementStatuses = (ElementStatuses)elementsList.Find(e => e.GetType().Name == "ElementStatuses");
                        }
                        if (elementStatuses != null)
                        {
                            int index = 1;
                            switch (imgStatus.type)
                            {
                                case "CLOCK":
                                    //if (elementStatuses.Alarm != null) index++;
                                    if (elementStatuses.Bluetooth != null) index++;
                                    if (elementStatuses.DND != null) index++;
                                    if (elementStatuses.Lock != null) index++;

                                    imgStatus.type = "Alarm";
                                    imgStatus.position = index;
                                    elementStatuses.Alarm = imgStatus;
                                    break;

                                case "DISCONNECT":
                                    if (elementStatuses.Alarm != null) index++;
                                    //if (elementStatuses.Bluetooth != null) index++;
                                    if (elementStatuses.DND != null) index++;
                                    if (elementStatuses.Lock != null) index++;

                                    imgStatus.type = "Bluetooth";
                                    imgStatus.position = index;
                                    elementStatuses.Bluetooth = imgStatus;
                                    break;

                                case "DISTURB":
                                    if (elementStatuses.Alarm != null) index++;
                                    if (elementStatuses.Bluetooth != null) index++;
                                    //if (elementStatuses.DND != null) index++;
                                    if (elementStatuses.Lock != null) index++;

                                    imgStatus.type = "DND";
                                    imgStatus.position = index;
                                    elementStatuses.DND = imgStatus;
                                    break;

                                case "LOCK":
                                    if (elementStatuses.Alarm != null) index++;
                                    if (elementStatuses.Bluetooth != null) index++;
                                    if (elementStatuses.DND != null) index++;
                                    //if (elementStatuses.Lock != null) index++;

                                    imgStatus.type = "Lock";
                                    imgStatus.position = index;
                                    elementStatuses.Lock = imgStatus;
                                    break;
                            }
                        }
                        break;
                    #endregion

                    #region TEXT
                    case "TEXT":
                        hmUI_widget_TEXT text = Object_TEXT(parametrs);

                        /*if (objectName.EndsWith("city_name_text"))
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                //if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.City_Name = new hmUI_widget_TEXT();
                                weather.City_Name.x = text.x;
                                weather.City_Name.y = text.y;
                                weather.City_Name.w = text.w;
                                weather.City_Name.h = text.h;

                                weather.City_Name.color = text.color;

                                weather.City_Name.font = text.font;

                                weather.City_Name.text_size = text.text_size;
                                weather.City_Name.char_space = text.char_space;
                                weather.City_Name.line_space = text.line_space;

                                weather.City_Name.align_h = text.align_h;
                                weather.City_Name.align_v = text.align_v;
                                weather.City_Name.text_style = text.text_style;

                                weather.City_Name.visible = true;
                                weather.City_Name.position = offset;
                            }
                        }*/

                        if (objectName.EndsWith("city_name_text"))
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                //if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.City_Name = new hmUI_widget_TEXT();
                                weather.City_Name.x = text.x;
                                weather.City_Name.y = text.y;
                                weather.City_Name.w = text.w;
                                weather.City_Name.h = text.h;

                                weather.City_Name.color = text.color;

                                weather.City_Name.font = text.font;

                                weather.City_Name.text_size = text.text_size;
                                weather.City_Name.char_space = text.char_space;
                                weather.City_Name.line_space = text.line_space;
                                weather.City_Name.alpha = text.alpha;

                                weather.City_Name.align_h = text.align_h;
                                weather.City_Name.align_v = text.align_v;
                                weather.City_Name.text_style = text.text_style;

                                weather.City_Name.visible = true;
                                weather.City_Name.position = offset;
                            }
                        }

                        if (objectName.EndsWith("day_text_font"))
                        {
                            ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (dateDay == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (dateDay != null)
                            {
                                int offset = 1;
                                if (dateDay.Number != null) offset++;
                                //if (dateDay.Number_Font != null) offset++;
                                if (dateDay.Day_Month_Font != null) offset++;
                                if (dateDay.Day_Month_Year_Font != null) offset++;
                                if (dateDay.Pointer != null) offset++;
                                if (dateDay.Text_circle != null) offset++;
                                if (dateDay.Text_rotation != null) offset++;

                                dateDay.Number_Font = new hmUI_widget_TEXT();
                                dateDay.Number_Font.x = text.x;
                                dateDay.Number_Font.y = text.y;
                                dateDay.Number_Font.w = text.w;
                                dateDay.Number_Font.h = text.h;

                                dateDay.Number_Font.color = text.color;

                                dateDay.Number_Font.font = text.font;

                                dateDay.Number_Font.text_size = text.text_size;
                                dateDay.Number_Font.char_space = text.char_space;
                                dateDay.Number_Font.line_space = text.line_space;
                                dateDay.Number_Font.alpha = text.alpha;

                                dateDay.Number_Font.align_h = text.align_h;
                                dateDay.Number_Font.align_v = text.align_v;
                                dateDay.Number_Font.text_style = text.text_style;

                                dateDay.Number_Font.padding = text.padding;
                                dateDay.Number_Font.unit_type = text.unit_type;
                                dateDay.Number_Font.unit_string = text.unit_string;

                                dateDay.Number_Font.visible = true;
                                dateDay.Number_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("day_month_font"))
                        {
                            ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (dateDay == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (dateDay != null)
                            {
                                int offset = 1;
                                if (dateDay.Number != null) offset++;
                                if (dateDay.Number_Font != null) offset++;
                                //if (dateDay.Day_Month_Font != null) offset++;
                                if (dateDay.Day_Month_Year_Font != null) offset++;
                                if (dateDay.Pointer != null) offset++;
                                if (dateDay.Text_circle != null) offset++;
                                if (dateDay.Text_rotation != null) offset++;

                                dateDay.Day_Month_Font = new hmUI_widget_TEXT();
                                dateDay.Day_Month_Font.x = text.x;
                                dateDay.Day_Month_Font.y = text.y;
                                dateDay.Day_Month_Font.w = text.w;
                                dateDay.Day_Month_Font.h = text.h;

                                dateDay.Day_Month_Font.color = text.color;

                                dateDay.Day_Month_Font.font = text.font;

                                dateDay.Day_Month_Font.text_size = text.text_size;
                                dateDay.Day_Month_Font.char_space = text.char_space;
                                dateDay.Day_Month_Font.line_space = text.line_space;
                                dateDay.Day_Month_Font.alpha = text.alpha;

                                dateDay.Day_Month_Font.align_h = text.align_h;
                                dateDay.Day_Month_Font.align_v = text.align_v;
                                dateDay.Day_Month_Font.text_style = text.text_style;

                                dateDay.Day_Month_Font.padding = text.padding;
                                dateDay.Day_Month_Font.unit_type = text.unit_type;
                                dateDay.Day_Month_Font.unit_string = text.unit_string;

                                dateDay.Day_Month_Font.visible = true;
                                dateDay.Day_Month_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("day_month_year_font"))
                        {
                            ElementDateDay dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            if (dateDay == null)
                            {
                                elementsList.Add(new ElementDateDay());
                                dateDay = (ElementDateDay)elementsList.Find(e => e.GetType().Name == "ElementDateDay");
                            }
                            if (dateDay != null)
                            {
                                int offset = 1;
                                if (dateDay.Number != null) offset++;
                                if (dateDay.Number_Font != null) offset++;
                                if (dateDay.Day_Month_Font != null) offset++;
                                //if (dateDay.Day_Month_Year_Font != null) offset++;
                                if (dateDay.Pointer != null) offset++;
                                if (dateDay.Text_circle != null) offset++;
                                if (dateDay.Text_rotation != null) offset++;

                                dateDay.Day_Month_Year_Font = new hmUI_widget_TEXT();
                                dateDay.Day_Month_Year_Font.x = text.x;
                                dateDay.Day_Month_Year_Font.y = text.y;
                                dateDay.Day_Month_Year_Font.w = text.w;
                                dateDay.Day_Month_Year_Font.h = text.h;

                                dateDay.Day_Month_Year_Font.color = text.color;

                                dateDay.Day_Month_Year_Font.font = text.font;

                                dateDay.Day_Month_Year_Font.text_size = text.text_size;
                                dateDay.Day_Month_Year_Font.char_space = text.char_space;
                                dateDay.Day_Month_Year_Font.line_space = text.line_space;
                                dateDay.Day_Month_Year_Font.alpha = text.alpha;

                                dateDay.Day_Month_Year_Font.align_h = text.align_h;
                                dateDay.Day_Month_Year_Font.align_v = text.align_v;
                                dateDay.Day_Month_Year_Font.text_style = text.text_style;

                                dateDay.Day_Month_Year_Font.padding = text.padding;
                                dateDay.Day_Month_Year_Font.unit_type = text.unit_type;
                                dateDay.Day_Month_Year_Font.unit_string = text.unit_string;

                                dateDay.Day_Month_Year_Font.visible = true;
                                dateDay.Day_Month_Year_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("month_text_font"))
                        {
                            ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            if (dateMonth == null)
                            {
                                elementsList.Add(new ElementDateMonth());
                                dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            }
                            if (dateMonth != null)
                            {
                                int offset = 1;
                                if (dateMonth.Images != null) offset++;
                                if (dateMonth.Number != null) offset++;
                                //if (dateMonth.Number_Font != null) offset++;
                                if (dateMonth.Month_Font != null) offset++;
                                if (dateMonth.Pointer != null) offset++;
                                if (dateMonth.Text_circle != null) offset++;
                                if (dateMonth.Text_rotation != null) offset++;

                                dateMonth.Number_Font = new hmUI_widget_TEXT();
                                dateMonth.Number_Font.x = text.x;
                                dateMonth.Number_Font.y = text.y;
                                dateMonth.Number_Font.w = text.w;
                                dateMonth.Number_Font.h = text.h;

                                dateMonth.Number_Font.color = text.color;

                                dateMonth.Number_Font.font = text.font;

                                dateMonth.Number_Font.text_size = text.text_size;
                                dateMonth.Number_Font.char_space = text.char_space;
                                dateMonth.Number_Font.line_space = text.line_space;
                                dateMonth.Number_Font.alpha = text.alpha;

                                dateMonth.Number_Font.align_h = text.align_h;
                                dateMonth.Number_Font.align_v = text.align_v;
                                dateMonth.Number_Font.text_style = text.text_style;

                                dateMonth.Number_Font.padding = text.padding;
                                dateMonth.Number_Font.unit_type = text.unit_type;
                                dateMonth.Number_Font.unit_string = text.unit_string;

                                dateMonth.Number_Font.visible = true;
                                dateMonth.Number_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("month_name_font"))
                        {
                            ElementDateMonth dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            if (dateMonth == null)
                            {
                                elementsList.Add(new ElementDateMonth());
                                dateMonth = (ElementDateMonth)elementsList.Find(e => e.GetType().Name == "ElementDateMonth");
                            }
                            if (dateMonth != null)
                            {
                                int offset = 1;
                                if (dateMonth.Images != null) offset++;
                                if (dateMonth.Number != null) offset++;
                                if (dateMonth.Number_Font != null) offset++;
                                //if (dateMonth.Month_Font != null) offset++;
                                if (dateMonth.Pointer != null) offset++;
                                if (dateMonth.Text_circle != null) offset++;
                                if (dateMonth.Text_rotation != null) offset++;

                                dateMonth.Month_Font = new hmUI_widget_TEXT();
                                dateMonth.Month_Font.x = text.x;
                                dateMonth.Month_Font.y = text.y;
                                dateMonth.Month_Font.w = text.w;
                                dateMonth.Month_Font.h = text.h;

                                dateMonth.Month_Font.color = text.color;

                                dateMonth.Month_Font.font = text.font;

                                dateMonth.Month_Font.text_size = text.text_size;
                                dateMonth.Month_Font.char_space = text.char_space;
                                dateMonth.Month_Font.line_space = text.line_space;
                                dateMonth.Month_Font.alpha = text.alpha;

                                dateMonth.Month_Font.align_h = text.align_h;
                                dateMonth.Month_Font.align_v = text.align_v;
                                dateMonth.Month_Font.text_style = text.text_style;

                                dateMonth.Month_Font.padding = text.padding;
                                dateMonth.Month_Font.unit_type = text.unit_type;
                                dateMonth.Month_Font.unit_string = text.unit_string;

                                dateMonth.Month_Font.visible = true;
                                dateMonth.Month_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("year_text_font"))
                        {
                            ElementDateYear dateYear = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            if (dateYear == null)
                            {
                                elementsList.Add(new ElementDateYear());
                                dateYear = (ElementDateYear)elementsList.Find(e => e.GetType().Name == "ElementDateYear");
                            }
                            if (dateYear != null)
                            {
                                int offset = 1;
                                if (dateYear.Number != null) offset++;
                                //if (dateYear.Number_Font != null) offset++;
                                if (dateYear.Text_circle != null) offset++;
                                if (dateYear.Text_rotation != null) offset++;
                                if (dateYear.Icon != null) offset++;

                                dateYear.Number_Font = new hmUI_widget_TEXT();
                                dateYear.Number_Font.x = text.x;
                                dateYear.Number_Font.y = text.y;
                                dateYear.Number_Font.w = text.w;
                                dateYear.Number_Font.h = text.h;

                                dateYear.Number_Font.color = text.color;

                                dateYear.Number_Font.font = text.font;

                                dateYear.Number_Font.text_size = text.text_size;
                                dateYear.Number_Font.char_space = text.char_space;
                                dateYear.Number_Font.line_space = text.line_space;
                                dateYear.Number_Font.alpha = text.alpha;

                                dateYear.Number_Font.align_h = text.align_h;
                                dateYear.Number_Font.align_v = text.align_v;
                                dateYear.Number_Font.text_style = text.text_style;

                                dateYear.Number_Font.padding = text.padding;
                                dateYear.Number_Font.unit_type = text.unit_type;
                                dateYear.Number_Font.unit_string = text.unit_string;

                                dateYear.Number_Font.visible = true;
                                dateYear.Number_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("dow_text_font"))
                        {
                            ElementDateWeek weekDay = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                            if (weekDay == null)
                            {
                                elementsList.Add(new ElementDateWeek());
                                weekDay = (ElementDateWeek)elementsList.Find(e => e.GetType().Name == "ElementDateWeek");
                            }
                            if (weekDay != null)
                            {
                                int offset = 1;
                                if (weekDay.Pointer != null) offset++;
                                if (weekDay.Images != null) offset++;

                                weekDay.DayOfWeek_Font = new hmUI_widget_TEXT();
                                weekDay.DayOfWeek_Font.x = text.x;
                                weekDay.DayOfWeek_Font.y = text.y;
                                weekDay.DayOfWeek_Font.w = text.w;
                                weekDay.DayOfWeek_Font.h = text.h;

                                weekDay.DayOfWeek_Font.color = text.color;

                                weekDay.DayOfWeek_Font.font = text.font;

                                weekDay.DayOfWeek_Font.text_size = text.text_size;
                                weekDay.DayOfWeek_Font.char_space = text.char_space;
                                weekDay.DayOfWeek_Font.line_space = text.line_space;
                                weekDay.DayOfWeek_Font.alpha = text.alpha;

                                weekDay.DayOfWeek_Font.align_h = text.align_h;
                                weekDay.DayOfWeek_Font.align_v = text.align_v;
                                weekDay.DayOfWeek_Font.text_style = text.text_style;

                                weekDay.DayOfWeek_Font.padding = text.padding;
                                weekDay.DayOfWeek_Font.unit_type = text.unit_type;
                                weekDay.DayOfWeek_Font.unit_string = text.unit_string;

                                weekDay.DayOfWeek_Font.visible = true;
                                weekDay.DayOfWeek_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("time_hour_text_font"))
                        {
                            ElementDigitalTime_v2 time_hour_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (time_hour_text == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                time_hour_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (time_hour_text != null)
                            {
                                int offset = 1;
                                //if (time_hour_text.Group_Hour != null) offset++;
                                if (time_hour_text.Group_Minute != null) offset++;
                                if (time_hour_text.Group_Second != null) offset++;
                                if (time_hour_text.AmPm != null) offset++;

                                //if (time_hour_text.Hour_Font != null) offset++;
                                //if (time_hour_text.Minute_Font != null) offset++;
                                //if (time_hour_text.Second_Font != null) offset++;

                                if (time_hour_text.Hour_Min_Font != null) offset++;
                                if (time_hour_text.Hour_Min_Sec_Font != null) offset++;

                                //if (time_hour_text.Hour_rotation != null) offset++;
                                //if (time_hour_text.Minute_rotation != null) offset++;
                                //if (time_hour_text.Second_rotation != null) offset++;

                                //if (time_hour_text.Hour_circle != null) offset++;
                                //if (time_hour_text.Minute_circle != null) offset++;
                                //if (time_hour_text.Second_circle != null) offset++;

                                if (time_hour_text.Group_Hour == null) time_hour_text.Group_Hour = new DigitalTimeGroup();
                                time_hour_text.Group_Hour.Number_Font = new hmUI_widget_TEXT();
                                time_hour_text.Group_Hour.Number_Font.x = text.x;
                                time_hour_text.Group_Hour.Number_Font.y = text.y;
                                time_hour_text.Group_Hour.Number_Font.w = text.w;
                                time_hour_text.Group_Hour.Number_Font.h = text.h;

                                time_hour_text.Group_Hour.Number_Font.color = text.color;

                                time_hour_text.Group_Hour.Number_Font.font = text.font;

                                time_hour_text.Group_Hour.Number_Font.text_size = text.text_size;
                                time_hour_text.Group_Hour.Number_Font.char_space = text.char_space;
                                time_hour_text.Group_Hour.Number_Font.line_space = text.line_space;
                                time_hour_text.Group_Hour.Number_Font.alpha = text.alpha;

                                time_hour_text.Group_Hour.Number_Font.align_h = text.align_h;
                                time_hour_text.Group_Hour.Number_Font.align_v = text.align_v;
                                time_hour_text.Group_Hour.Number_Font.text_style = text.text_style;

                                time_hour_text.Group_Hour.Number_Font.padding = text.padding;
                                time_hour_text.Group_Hour.Number_Font.unit_type = text.unit_type;
                                time_hour_text.Group_Hour.Number_Font.unit_string = text.unit_string;

                                time_hour_text.Group_Hour.Number_Font.visible = true;
                                if (time_hour_text.Group_Hour.position < 0) time_hour_text.Group_Hour.position = offset;
                            }
                        }

                        if (objectName.EndsWith("time_minute_text_font"))
                        {
                            ElementDigitalTime_v2 time_minute_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (time_minute_text == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                time_minute_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (time_minute_text != null)
                            {
                                int offset = 1;
                                if (time_minute_text.Group_Hour != null) offset++;
                                //if (time_minute_text.Group_Minute != null) offset++;
                                if (time_minute_text.Group_Second != null) offset++;
                                if (time_minute_text.AmPm != null) offset++;

                                //if (time_minute_text.Hour_Font != null) offset++;
                                //if (time_minute_text.Minute_Font != null) offset++;
                                //if (time_minute_text.Second_Font != null) offset++;

                                if (time_minute_text.Hour_Min_Font != null) offset++;
                                if (time_minute_text.Hour_Min_Sec_Font != null) offset++;

                                //if (time_minute_text.Hour_rotation != null) offset++;
                                //if (time_minute_text.Minute_rotation != null) offset++;
                                //if (time_minute_text.Second_rotation != null) offset++;

                                //if (time_minute_text.Hour_circle != null) offset++;
                                //if (time_minute_text.Minute_circle != null) offset++;
                                //if (time_minute_text.Second_circle != null) offset++;

                                if (time_minute_text.Group_Minute == null) time_minute_text.Group_Minute = new DigitalTimeGroup();
                                time_minute_text.Group_Minute.Number_Font = new hmUI_widget_TEXT();
                                time_minute_text.Group_Minute.Number_Font.x = text.x;
                                time_minute_text.Group_Minute.Number_Font.y = text.y;
                                time_minute_text.Group_Minute.Number_Font.w = text.w;
                                time_minute_text.Group_Minute.Number_Font.h = text.h;

                                time_minute_text.Group_Minute.Number_Font.color = text.color;

                                time_minute_text.Group_Minute.Number_Font.font = text.font;

                                time_minute_text.Group_Minute.Number_Font.text_size = text.text_size;
                                time_minute_text.Group_Minute.Number_Font.char_space = text.char_space;
                                time_minute_text.Group_Minute.Number_Font.line_space = text.line_space;
                                time_minute_text.Group_Minute.Number_Font.alpha = text.alpha;

                                time_minute_text.Group_Minute.Number_Font.align_h = text.align_h;
                                time_minute_text.Group_Minute.Number_Font.align_v = text.align_v;
                                time_minute_text.Group_Minute.Number_Font.text_style = text.text_style;

                                time_minute_text.Group_Minute.Number_Font.padding = text.padding;
                                time_minute_text.Group_Minute.Number_Font.unit_type = text.unit_type;
                                time_minute_text.Group_Minute.Number_Font.unit_string = text.unit_string;

                                time_minute_text.Group_Minute.Number_Font.visible = true;
                                if (time_minute_text.Group_Minute.position < 0) time_minute_text.Group_Minute.position = offset;
                            }
                        }

                        if (objectName.EndsWith("time_second_text_font"))
                        {
                            ElementDigitalTime_v2 second_text_font = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (second_text_font == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                second_text_font = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (second_text_font != null)
                            {
                                int offset = 1;
                                if (second_text_font.Group_Hour != null) offset++;
                                if (second_text_font.Group_Minute != null) offset++;
                                //if (second_text_font.Group_Second != null) offset++;
                                if (second_text_font.AmPm != null) offset++;

                                //if (second_text_font.Hour_Font != null) offset++;
                                //if (second_text_font.Minute_Font != null) offset++;
                                //if (second_text_font.Second_Font != null) offset++;

                                if (second_text_font.Hour_Min_Font != null) offset++;
                                if (second_text_font.Hour_Min_Sec_Font != null) offset++;

                                //if (second_text_font.Hour_rotation != null) offset++;
                                //if (second_text_font.Minute_rotation != null) offset++;
                                //if (second_text_font.Second_rotation != null) offset++;

                                //if (second_text_font.Hour_circle != null) offset++;
                                //if (second_text_font.Minute_circle != null) offset++;
                                //if (second_text_font.Second_circle != null) offset++;

                                if (second_text_font.Group_Second == null) second_text_font.Group_Second = new DigitalTimeGroup();
                                second_text_font.Group_Second.Number_Font = new hmUI_widget_TEXT();
                                second_text_font.Group_Second.Number_Font.x = text.x;
                                second_text_font.Group_Second.Number_Font.y = text.y;
                                second_text_font.Group_Second.Number_Font.w = text.w;
                                second_text_font.Group_Second.Number_Font.h = text.h;

                                second_text_font.Group_Second.Number_Font.color = text.color;

                                second_text_font.Group_Second.Number_Font.font = text.font;

                                second_text_font.Group_Second.Number_Font.text_size = text.text_size;
                                second_text_font.Group_Second.Number_Font.char_space = text.char_space;
                                second_text_font.Group_Second.Number_Font.line_space = text.line_space;
                                second_text_font.Group_Second.Number_Font.alpha = text.alpha;

                                second_text_font.Group_Second.Number_Font.align_h = text.align_h;
                                second_text_font.Group_Second.Number_Font.align_v = text.align_v;
                                second_text_font.Group_Second.Number_Font.text_style = text.text_style;

                                second_text_font.Group_Second.Number_Font.padding = text.padding;
                                second_text_font.Group_Second.Number_Font.unit_type = text.unit_type;
                                second_text_font.Group_Second.Number_Font.unit_string = text.unit_string;

                                second_text_font.Group_Second.Number_Font.visible = true;
                                if (second_text_font.Group_Second.position < 0) second_text_font.Group_Second.position = offset;
                            }
                        }

                        if (objectName.EndsWith("time_hour_min_text_font"))
                        {
                            ElementDigitalTime_v2 time_hour_min_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (time_hour_min_text == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                time_hour_min_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (time_hour_min_text != null)
                            {
                                int offset = 1;
                                if (time_hour_min_text.Group_Hour != null) offset++;
                                if (time_hour_min_text.Group_Minute != null) offset++;
                                if (time_hour_min_text.Group_Second != null) offset++;
                                if (time_hour_min_text.AmPm != null) offset++;

                                //if (time_hour_min_text.Hour_Font != null) offset++;
                                //if (time_hour_min_text.Minute_Font != null) offset++;
                                //if (time_hour_min_text.Second_Font != null) offset++;

                                //if (time_hour_min_text.Hour_Min_Font != null) offset++;
                                if (time_hour_min_text.Hour_Min_Sec_Font != null) offset++;

                                //if (time_hour_min_text.Hour_rotation != null) offset++;
                                //if (time_hour_min_text.Minute_rotation != null) offset++;
                                //if (time_hour_min_text.Second_rotation != null) offset++;

                                //if (time_hour_min_text.Hour_circle != null) offset++;
                                //if (time_hour_min_text.Minute_circle != null) offset++;
                                //if (time_hour_min_text.Second_circle != null) offset++;

                                time_hour_min_text.Hour_Min_Font = new hmUI_widget_TEXT();
                                time_hour_min_text.Hour_Min_Font.x = text.x;
                                time_hour_min_text.Hour_Min_Font.y = text.y;
                                time_hour_min_text.Hour_Min_Font.w = text.w;
                                time_hour_min_text.Hour_Min_Font.h = text.h;

                                time_hour_min_text.Hour_Min_Font.color = text.color;

                                time_hour_min_text.Hour_Min_Font.font = text.font;

                                time_hour_min_text.Hour_Min_Font.text_size = text.text_size;
                                time_hour_min_text.Hour_Min_Font.char_space = text.char_space;
                                time_hour_min_text.Hour_Min_Font.line_space = text.line_space;
                                time_hour_min_text.Hour_Min_Font.alpha = text.alpha;

                                time_hour_min_text.Hour_Min_Font.align_h = text.align_h;
                                time_hour_min_text.Hour_Min_Font.align_v = text.align_v;
                                time_hour_min_text.Hour_Min_Font.text_style = text.text_style;

                                time_hour_min_text.Hour_Min_Font.padding = text.padding;
                                time_hour_min_text.Hour_Min_Font.unit_type = text.unit_type;
                                time_hour_min_text.Hour_Min_Font.unit_end = text.unit_end;
                                time_hour_min_text.Hour_Min_Font.unit_string = text.unit_string;

                                time_hour_min_text.Hour_Min_Font.visible = true;
                                time_hour_min_text.Hour_Min_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("time_hour_min_sec_text_font"))
                        {
                            ElementDigitalTime_v2 time_hour_min_sec_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            if (time_hour_min_sec_text == null)
                            {
                                elementsList.Add(new ElementDigitalTime_v2());
                                time_hour_min_sec_text = (ElementDigitalTime_v2)elementsList.Find(e => e.GetType().Name == "ElementDigitalTime_v2");
                            }
                            if (time_hour_min_sec_text != null)
                            {
                                int offset = 1;
                                if (time_hour_min_sec_text.Group_Hour != null) offset++;
                                if (time_hour_min_sec_text.Group_Minute != null) offset++;
                                if (time_hour_min_sec_text.Group_Second != null) offset++;
                                if (time_hour_min_sec_text.AmPm != null) offset++;

                                //if (time_hour_min_sec_text.Hour_Font != null) offset++;
                                //if (time_hour_min_sec_text.Minute_Font != null) offset++;
                                //if (time_hour_min_sec_text.Second_Font != null) offset++;

                                if (time_hour_min_sec_text.Hour_Min_Font != null) offset++;
                                //if (time_hour_min_sec_text.Hour_Min_Sec_Font != null) offset++;

                                //if (time_hour_min_sec_text.Hour_rotation != null) offset++;
                                //if (time_hour_min_sec_text.Minute_rotation != null) offset++;
                                //if (time_hour_min_sec_text.Second_rotation != null) offset++;

                                //if (time_hour_min_sec_text.Hour_circle != null) offset++;
                                //if (time_hour_min_sec_text.Minute_circle != null) offset++;
                                //if (time_hour_min_sec_text.Second_circle != null) offset++;

                                time_hour_min_sec_text.Hour_Min_Sec_Font = new hmUI_widget_TEXT();
                                time_hour_min_sec_text.Hour_Min_Sec_Font.x = text.x;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.y = text.y;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.w = text.w;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.h = text.h;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.color = text.color;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.font = text.font;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.text_size = text.text_size;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.char_space = text.char_space;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.line_space = text.line_space;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.alpha = text.alpha;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.align_h = text.align_h;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.align_v = text.align_v;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.text_style = text.text_style;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.padding = text.padding;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.unit_type = text.unit_type;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.unit_end = text.unit_end;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.unit_string = text.unit_string;

                                time_hour_min_sec_text.Hour_Min_Sec_Font.visible = true;
                                time_hour_min_sec_text.Hour_Min_Sec_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("compass_text_font"))
                        {
                            ElementCompass compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            if (compass == null)
                            {
                                elementsList.Add(new ElementCompass());
                                compass = (ElementCompass)elementsList.Find(e => e.GetType().Name == "ElementCompass");
                            }
                            if (compass != null)
                            {
                                int offset = 1;
                                if (compass.Images != null) offset++;
                                if (compass.Number != null) offset++;
                                //if (compass.Number_Font != null) offset++;
                                if (compass.Pointer != null) offset++;
                                if (compass.Text_circle != null) offset++;
                                if (compass.Text_rotation != null) offset++;
                                if (compass.Icon != null) offset++;

                                compass.Number_Font = new hmUI_widget_TEXT();
                                compass.Number_Font.x = text.x;
                                compass.Number_Font.y = text.y;
                                compass.Number_Font.w = text.w;
                                compass.Number_Font.h = text.h;

                                compass.Number_Font.color = text.color;

                                compass.Number_Font.font = text.font;

                                compass.Number_Font.text_size = text.text_size;
                                compass.Number_Font.char_space = text.char_space;
                                compass.Number_Font.line_space = text.line_space;
                                compass.Number_Font.alpha = text.alpha;

                                compass.Number_Font.align_h = text.align_h;
                                compass.Number_Font.align_v = text.align_v;
                                compass.Number_Font.text_style = text.text_style;

                                compass.Number_Font.padding = text.padding;
                                compass.Number_Font.unit_type = text.unit_type;
                                compass.Number_Font.unit_string = text.unit_string;

                                compass.Number_Font.visible = true;
                                compass.Number_Font.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region TEXT_Options
                    case "TEXT_Options":
                        hmUI_widget_TEXT textOptions = Object_TEXT_Options(parametrs);

                        if (objectName.EndsWith("forecast_date_week_font"))
                        {
                            Element_Weather_FewDays weatherFewDays_week_font = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays_week_font == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays_week_font = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays_week_font != null)
                            {
                                int offset = 1;
                                if (weatherFewDays_week_font.Images != null) offset++;
                                if (weatherFewDays_week_font.Diagram != null) offset++;
                                if (weatherFewDays_week_font.Number_Max != null) offset++;
                                if (weatherFewDays_week_font.Number_Font_Max != null) offset++;
                                if (weatherFewDays_week_font.Number_Min != null) offset++;
                                if (weatherFewDays_week_font.Number_Font_Min != null) offset++;
                                if (weatherFewDays_week_font.Number_MaxMin != null) offset++;
                                if (weatherFewDays_week_font.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays_week_font.Number_Average != null) offset++;
                                if (weatherFewDays_week_font.Number_Font_Average != null) offset++;
                                if (weatherFewDays_week_font.DayOfWeek_Images != null) offset++;
                                //if (weatherFewDays_week_font.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays_week_font.Icon != null) offset++;

                                weatherFewDays_week_font.DayOfWeek_Font = new hmUI_widget_TEXT();
                                weatherFewDays_week_font.DayOfWeek_Font.x = textOptions.x;
                                weatherFewDays_week_font.DayOfWeek_Font.y = textOptions.y;
                                weatherFewDays_week_font.DayOfWeek_Font.w = textOptions.w;
                                weatherFewDays_week_font.DayOfWeek_Font.h = textOptions.h;

                                weatherFewDays_week_font.DayOfWeek_Font.color = textOptions.color;
                                weatherFewDays_week_font.DayOfWeek_Font.color_2 = textOptions.color_2;
                                weatherFewDays_week_font.DayOfWeek_Font.use_color_2 = textOptions.use_color_2;

                                weatherFewDays_week_font.DayOfWeek_Font.font = textOptions.font;

                                weatherFewDays_week_font.DayOfWeek_Font.text_size = textOptions.text_size;
                                weatherFewDays_week_font.DayOfWeek_Font.char_space = textOptions.char_space;
                                weatherFewDays_week_font.DayOfWeek_Font.line_space = textOptions.line_space;
                                weatherFewDays_week_font.DayOfWeek_Font.alpha = textOptions.alpha;

                                weatherFewDays_week_font.DayOfWeek_Font.unit_string = textOptions.unit_string;

                                weatherFewDays_week_font.DayOfWeek_Font.align_h = textOptions.align_h;
                                weatherFewDays_week_font.DayOfWeek_Font.align_v = textOptions.align_v;
                                weatherFewDays_week_font.DayOfWeek_Font.text_style = textOptions.text_style;

                                weatherFewDays_week_font.DayOfWeek_Font.visible = true;
                                weatherFewDays_week_font.DayOfWeek_Font.position = offset;
                            }
                        }

                        if (objectName.EndsWith("forecast_high_text_font"))
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                //if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Font_Max = new hmUI_widget_TEXT();
                                weatherFewDays.Number_Font_Max.x = textOptions.x;
                                weatherFewDays.Number_Font_Max.y = textOptions.y;
                                weatherFewDays.Number_Font_Max.w = textOptions.w;
                                weatherFewDays.Number_Font_Max.h = textOptions.h;

                                weatherFewDays.Number_Font_Max.color = textOptions.color;
                                weatherFewDays.Number_Font_Max.color_2 = textOptions.color_2;
                                weatherFewDays.Number_Font_Max.use_color_2 = textOptions.use_color_2;

                                weatherFewDays.Number_Font_Max.font = textOptions.font;

                                weatherFewDays.Number_Font_Max.text_size = textOptions.text_size;
                                weatherFewDays.Number_Font_Max.char_space = textOptions.char_space;
                                weatherFewDays.Number_Font_Max.line_space = textOptions.line_space;
                                weatherFewDays.Number_Font_Max.alpha = textOptions.alpha;

                                weatherFewDays.Number_Font_Max.align_h = textOptions.align_h;
                                weatherFewDays.Number_Font_Max.align_v = textOptions.align_v;
                                weatherFewDays.Number_Font_Max.text_style = textOptions.text_style;

                                weatherFewDays.Number_Font_Max.visible = true;
                                weatherFewDays.Number_Font_Max.position = offset;
                            }
                        }

                        if (objectName.EndsWith("forecast_average_text_font"))
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                //if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Font_Average = new hmUI_widget_TEXT();
                                weatherFewDays.Number_Font_Average.x = textOptions.x;
                                weatherFewDays.Number_Font_Average.y = textOptions.y;
                                weatherFewDays.Number_Font_Average.w = textOptions.w;
                                weatherFewDays.Number_Font_Average.h = textOptions.h;

                                weatherFewDays.Number_Font_Average.color = textOptions.color;
                                weatherFewDays.Number_Font_Average.color_2 = textOptions.color_2;
                                weatherFewDays.Number_Font_Average.use_color_2 = textOptions.use_color_2;

                                weatherFewDays.Number_Font_Average.font = textOptions.font;

                                weatherFewDays.Number_Font_Average.text_size = textOptions.text_size;
                                weatherFewDays.Number_Font_Average.char_space = textOptions.char_space;
                                weatherFewDays.Number_Font_Average.line_space = textOptions.line_space;
                                weatherFewDays.Number_Font_Average.alpha = textOptions.alpha;

                                weatherFewDays.Number_Font_Average.align_h = textOptions.align_h;
                                weatherFewDays.Number_Font_Average.align_v = textOptions.align_v;
                                weatherFewDays.Number_Font_Average.text_style = textOptions.text_style;

                                weatherFewDays.Number_Font_Average.visible = true;
                                weatherFewDays.Number_Font_Average.position = offset;
                            }
                        }

                        if (objectName.EndsWith("forecast_low_text_font"))
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                //if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Font_Min = new hmUI_widget_TEXT();
                                weatherFewDays.Number_Font_Min.x = textOptions.x;
                                weatherFewDays.Number_Font_Min.y = textOptions.y;
                                weatherFewDays.Number_Font_Min.w = textOptions.w;
                                weatherFewDays.Number_Font_Min.h = textOptions.h;

                                weatherFewDays.Number_Font_Min.color = textOptions.color;
                                weatherFewDays.Number_Font_Min.color_2 = textOptions.color_2;
                                weatherFewDays.Number_Font_Min.use_color_2 = textOptions.use_color_2;

                                weatherFewDays.Number_Font_Min.font = textOptions.font;

                                weatherFewDays.Number_Font_Min.text_size = textOptions.text_size;
                                weatherFewDays.Number_Font_Min.char_space = textOptions.char_space;
                                weatherFewDays.Number_Font_Min.line_space = textOptions.line_space;
                                weatherFewDays.Number_Font_Min.alpha = textOptions.alpha;

                                weatherFewDays.Number_Font_Min.align_h = textOptions.align_h;
                                weatherFewDays.Number_Font_Min.align_v = textOptions.align_v;
                                weatherFewDays.Number_Font_Min.text_style = textOptions.text_style;

                                weatherFewDays.Number_Font_Min.visible = true;
                                weatherFewDays.Number_Font_Min.position = offset;
                            }
                        }

                        if (objectName.EndsWith("forecast_high_low_text_font"))
                        {
                            Element_Weather_FewDays weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            if (weatherFewDays == null)
                            {
                                elementsList.Add(new Element_Weather_FewDays());
                                weatherFewDays = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                            }
                            if (weatherFewDays != null)
                            {
                                int offset = 1;
                                if (weatherFewDays.Images != null) offset++;
                                if (weatherFewDays.Diagram != null) offset++;
                                if (weatherFewDays.Number_Max != null) offset++;
                                if (weatherFewDays.Number_Font_Max != null) offset++;
                                if (weatherFewDays.Number_Min != null) offset++;
                                if (weatherFewDays.Number_Font_Min != null) offset++;
                                if (weatherFewDays.Number_MaxMin != null) offset++;
                                //if (weatherFewDays.Number_Font_MaxMin != null) offset++;
                                if (weatherFewDays.Number_Average != null) offset++;
                                if (weatherFewDays.Number_Font_Average != null) offset++;
                                if (weatherFewDays.DayOfWeek_Images != null) offset++;
                                if (weatherFewDays.DayOfWeek_Font != null) offset++;
                                if (weatherFewDays.Icon != null) offset++;

                                weatherFewDays.Number_Font_MaxMin = new hmUI_widget_TEXT();
                                weatherFewDays.Number_Font_MaxMin.x = textOptions.x;
                                weatherFewDays.Number_Font_MaxMin.y = textOptions.y;
                                weatherFewDays.Number_Font_MaxMin.w = textOptions.w;
                                weatherFewDays.Number_Font_MaxMin.h = textOptions.h;

                                weatherFewDays.Number_Font_MaxMin.color = textOptions.color;
                                weatherFewDays.Number_Font_MaxMin.color_2 = textOptions.color_2;
                                weatherFewDays.Number_Font_MaxMin.use_color_2 = textOptions.use_color_2;

                                weatherFewDays.Number_Font_MaxMin.unit_string = textOptions.unit_string;

                                weatherFewDays.Number_Font_MaxMin.font = textOptions.font;

                                weatherFewDays.Number_Font_MaxMin.text_size = textOptions.text_size;
                                weatherFewDays.Number_Font_MaxMin.char_space = textOptions.char_space;
                                weatherFewDays.Number_Font_MaxMin.line_space = textOptions.line_space;
                                weatherFewDays.Number_Font_MaxMin.alpha = textOptions.alpha;

                                weatherFewDays.Number_Font_MaxMin.align_h = textOptions.align_h;
                                weatherFewDays.Number_Font_MaxMin.align_v = textOptions.align_v;
                                weatherFewDays.Number_Font_MaxMin.text_style = textOptions.text_style;

                                weatherFewDays.Number_Font_MaxMin.visible = true;
                                weatherFewDays.Number_Font_MaxMin.position = offset;
                            }
                        }

                        break;
                    #endregion

                    #region TEXT_FONT
                    case "TEXT_FONT":
                        hmUI_widget_TEXT text_font = Object_TEXT(parametrs);

                        if (text_font.type == "STEP")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                //if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Number_Font = new hmUI_widget_TEXT();
                                steps.Number_Font.x = text_font.x;
                                steps.Number_Font.y = text_font.y;
                                steps.Number_Font.w = text_font.w;
                                steps.Number_Font.h = text_font.h;

                                steps.Number_Font.color = text_font.color;
                                steps.Number_Font.font = text_font.font;
                                steps.Number_Font.text_size = text_font.text_size;

                                steps.Number_Font.char_space = text_font.char_space;
                                steps.Number_Font.line_space = text_font.line_space;
                                steps.Number_Font.alpha = text_font.alpha;

                                steps.Number_Font.align_h = text_font.align_h;
                                steps.Number_Font.align_v = text_font.align_v;
                                steps.Number_Font.text_style = text_font.text_style;

                                steps.Number_Font.padding = text_font.padding;
                                steps.Number_Font.unit_type = text_font.unit_type;

                                steps.Number_Font.type = text_font.type;

                                steps.Number_Font.visible = true;
                                steps.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "STEP_TARGET")
                        {
                            ElementSteps steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            if (steps == null)
                            {
                                elementsList.Add(new ElementSteps());
                                steps = (ElementSteps)elementsList.Find(e => e.GetType().Name == "ElementSteps");
                            }
                            if (steps != null)
                            {
                                int offset = 1;
                                if (steps.Images != null) offset++;
                                if (steps.Segments != null) offset++;
                                if (steps.Number != null) offset++;
                                if (steps.Number_Font != null) offset++;
                                if (steps.Text_rotation != null) offset++;
                                if (steps.Text_circle != null) offset++;
                                if (steps.Number_Target != null) offset++;
                                //if (steps.Number_Target_Font != null) offset++;
                                if (steps.Text_rotation_Target != null) offset++;
                                if (steps.Text_circle_Target != null) offset++;
                                if (steps.Pointer != null) offset++;
                                if (steps.Circle_Scale != null) offset++;
                                if (steps.Linear_Scale != null) offset++;
                                if (steps.Icon != null) offset++;

                                steps.Number_Target_Font = new hmUI_widget_TEXT();
                                steps.Number_Target_Font.x = text_font.x;
                                steps.Number_Target_Font.y = text_font.y;
                                steps.Number_Target_Font.w = text_font.w;
                                steps.Number_Target_Font.h = text_font.h;

                                steps.Number_Target_Font.color = text_font.color;
                                steps.Number_Target_Font.font = text_font.font;
                                steps.Number_Target_Font.text_size = text_font.text_size;

                                steps.Number_Target_Font.char_space = text_font.char_space;
                                steps.Number_Target_Font.line_space = text_font.line_space;
                                steps.Number_Target_Font.alpha = text_font.alpha;

                                steps.Number_Target_Font.align_h = text_font.align_h;
                                steps.Number_Target_Font.align_v = text_font.align_v;
                                steps.Number_Target_Font.text_style = text_font.text_style;

                                steps.Number_Target_Font.padding = text_font.padding;
                                steps.Number_Target_Font.unit_type = text_font.unit_type;

                                steps.Number_Target_Font.type = text_font.type;

                                steps.Number_Target_Font.visible = true;
                                steps.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "BATTERY")
                        {
                            ElementBattery battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            if (battery == null)
                            {
                                elementsList.Add(new ElementBattery());
                                battery = (ElementBattery)elementsList.Find(e => e.GetType().Name == "ElementBattery");
                            }
                            if (battery != null)
                            {
                                int offset = 1;
                                if (battery.Images != null) offset++;
                                if (battery.Segments != null) offset++;
                                if (battery.Number != null) offset++;
                                //if (battery.Number_Font != null) offset++;
                                if (battery.Text_rotation != null) offset++;
                                if (battery.Text_circle != null) offset++;
                                if (battery.Pointer != null) offset++;
                                if (battery.Circle_Scale != null) offset++;
                                if (battery.Linear_Scale != null) offset++;
                                if (battery.Icon != null) offset++;

                                battery.Number_Font = new hmUI_widget_TEXT();
                                battery.Number_Font.x = text_font.x;
                                battery.Number_Font.y = text_font.y;
                                battery.Number_Font.w = text_font.w;
                                battery.Number_Font.h = text_font.h;

                                battery.Number_Font.color = text_font.color;
                                battery.Number_Font.font = text_font.font;
                                battery.Number_Font.text_size = text_font.text_size;

                                battery.Number_Font.char_space = text_font.char_space;
                                battery.Number_Font.line_space = text_font.line_space;
                                battery.Number_Font.alpha = text_font.alpha;

                                battery.Number_Font.align_h = text_font.align_h;
                                battery.Number_Font.align_v = text_font.align_v;
                                battery.Number_Font.text_style = text_font.text_style;

                                battery.Number_Font.padding = text_font.padding;
                                battery.Number_Font.unit_type = text_font.unit_type;

                                battery.Number_Font.type = text_font.type;

                                battery.Number_Font.visible = true;
                                battery.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "CAL")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                //if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Number_Font = new hmUI_widget_TEXT();
                                calorie.Number_Font.x = text_font.x;
                                calorie.Number_Font.y = text_font.y;
                                calorie.Number_Font.w = text_font.w;
                                calorie.Number_Font.h = text_font.h;

                                calorie.Number_Font.color = text_font.color;
                                calorie.Number_Font.font = text_font.font;
                                calorie.Number_Font.text_size = text_font.text_size;

                                calorie.Number_Font.char_space = text_font.char_space;
                                calorie.Number_Font.line_space = text_font.line_space;
                                calorie.Number_Font.alpha = text_font.alpha;

                                calorie.Number_Font.align_h = text_font.align_h;
                                calorie.Number_Font.align_v = text_font.align_v;
                                calorie.Number_Font.text_style = text_font.text_style;

                                calorie.Number_Font.padding = text_font.padding;
                                calorie.Number_Font.unit_type = text_font.unit_type;

                                calorie.Number_Font.type = text_font.type;

                                calorie.Number_Font.visible = true;
                                calorie.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "CAL_TARGET")
                        {
                            ElementCalories calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            if (calorie == null)
                            {
                                elementsList.Add(new ElementCalories());
                                calorie = (ElementCalories)elementsList.Find(e => e.GetType().Name == "ElementCalories");
                            }
                            if (calorie != null)
                            {
                                int offset = 1;
                                if (calorie.Images != null) offset++;
                                if (calorie.Segments != null) offset++;
                                if (calorie.Number != null) offset++;
                                if (calorie.Number_Font != null) offset++;
                                if (calorie.Text_rotation != null) offset++;
                                if (calorie.Text_circle != null) offset++;
                                if (calorie.Number_Target != null) offset++;
                                //if (calorie.Number_Target_Font != null) offset++;
                                if (calorie.Text_rotation_Target != null) offset++;
                                if (calorie.Text_circle_Target != null) offset++;
                                if (calorie.Pointer != null) offset++;
                                if (calorie.Circle_Scale != null) offset++;
                                if (calorie.Linear_Scale != null) offset++;
                                if (calorie.Icon != null) offset++;

                                calorie.Number_Target_Font = new hmUI_widget_TEXT();
                                calorie.Number_Target_Font.x = text_font.x;
                                calorie.Number_Target_Font.y = text_font.y;
                                calorie.Number_Target_Font.w = text_font.w;
                                calorie.Number_Target_Font.h = text_font.h;

                                calorie.Number_Target_Font.color = text_font.color;
                                calorie.Number_Target_Font.font = text_font.font;
                                calorie.Number_Target_Font.text_size = text_font.text_size;

                                calorie.Number_Target_Font.char_space = text_font.char_space;
                                calorie.Number_Target_Font.line_space = text_font.line_space;
                                calorie.Number_Target_Font.alpha = text_font.alpha;

                                calorie.Number_Target_Font.align_h = text_font.align_h;
                                calorie.Number_Target_Font.align_v = text_font.align_v;
                                calorie.Number_Target_Font.text_style = text_font.text_style;

                                calorie.Number_Target_Font.padding = text_font.padding;
                                calorie.Number_Target_Font.unit_type = text_font.unit_type;

                                calorie.Number_Target_Font.type = text_font.type;

                                calorie.Number_Target_Font.visible = true;
                                calorie.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "HEART")
                        {
                            ElementHeart heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            if (heart == null)
                            {
                                elementsList.Add(new ElementHeart());
                                heart = (ElementHeart)elementsList.Find(e => e.GetType().Name == "ElementHeart");
                            }
                            if (heart != null)
                            {
                                int offset = 1;
                                if (heart.Images != null) offset++;
                                if (heart.Segments != null) offset++;
                                if (heart.Number != null) offset++;
                                //if (heart.Number_Font != null) offset++;
                                if (heart.Text_rotation != null) offset++;
                                if (heart.Text_circle != null) offset++;
                                if (heart.Pointer != null) offset++;
                                if (heart.Circle_Scale != null) offset++;
                                if (heart.Linear_Scale != null) offset++;
                                if (heart.Icon != null) offset++;

                                heart.Number_Font = new hmUI_widget_TEXT();
                                heart.Number_Font.x = text_font.x;
                                heart.Number_Font.y = text_font.y;
                                heart.Number_Font.w = text_font.w;
                                heart.Number_Font.h = text_font.h;

                                heart.Number_Font.color = text_font.color;
                                heart.Number_Font.font = text_font.font;
                                heart.Number_Font.text_size = text_font.text_size;

                                heart.Number_Font.char_space = text_font.char_space;
                                heart.Number_Font.line_space = text_font.line_space;
                                heart.Number_Font.alpha = text_font.alpha;

                                heart.Number_Font.align_h = text_font.align_h;
                                heart.Number_Font.align_v = text_font.align_v;
                                heart.Number_Font.text_style = text_font.text_style;

                                heart.Number_Font.padding = text_font.padding;
                                heart.Number_Font.unit_type = text_font.unit_type;

                                heart.Number_Font.type = text_font.type;

                                heart.Number_Font.visible = true;
                                heart.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "PAI_WEEKLY")
                        {
                            ElementPAI pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            if (pai == null)
                            {
                                elementsList.Add(new ElementPAI());
                                pai = (ElementPAI)elementsList.Find(e => e.GetType().Name == "ElementPAI");
                            }
                            if (pai != null)
                            {
                                int offset = 1;
                                if (pai.Images != null) offset++;
                                if (pai.Segments != null) offset++;
                                if (pai.Number != null) offset++;
                                if (pai.Number_Target != null) offset++;
                                //if (pai.Number_Target_Font != null) offset++;
                                if (pai.Text_rotation_Target != null) offset++;
                                if (pai.Text_circle_Target != null) offset++;
                                if (pai.Pointer != null) offset++;
                                if (pai.Circle_Scale != null) offset++;
                                if (pai.Linear_Scale != null) offset++;
                                if (pai.Icon != null) offset++;

                                pai.Number_Target_Font = new hmUI_widget_TEXT();
                                pai.Number_Target_Font.x = text_font.x;
                                pai.Number_Target_Font.y = text_font.y;
                                pai.Number_Target_Font.w = text_font.w;
                                pai.Number_Target_Font.h = text_font.h;

                                pai.Number_Target_Font.color = text_font.color;
                                pai.Number_Target_Font.font = text_font.font;
                                pai.Number_Target_Font.text_size = text_font.text_size;

                                pai.Number_Target_Font.char_space = text_font.char_space;
                                pai.Number_Target_Font.line_space = text_font.line_space;
                                pai.Number_Target_Font.alpha = text_font.alpha;

                                pai.Number_Target_Font.align_h = text_font.align_h;
                                pai.Number_Target_Font.align_v = text_font.align_v;
                                pai.Number_Target_Font.text_style = text_font.text_style;

                                pai.Number_Target_Font.padding = text_font.padding;
                                pai.Number_Target_Font.unit_type = text_font.unit_type;

                                pai.Number_Target_Font.type = text_font.type;

                                pai.Number_Target_Font.visible = true;
                                pai.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "DISTANCE")
                        {
                            ElementDistance distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            if (distance == null)
                            {
                                elementsList.Add(new ElementDistance());
                                distance = (ElementDistance)elementsList.Find(e => e.GetType().Name == "ElementDistance");
                            }
                            if (distance != null)
                            {
                                int offset = 1;
                                if (distance.Number != null) offset++;
                                //if (distance.Number_Font != null) offset++;
                                if (distance.Text_rotation != null) offset++;
                                if (distance.Text_circle != null) offset++;
                                if (distance.Icon != null) offset++;

                                distance.Number_Font = new hmUI_widget_TEXT();
                                distance.Number_Font.x = text_font.x;
                                distance.Number_Font.y = text_font.y;
                                distance.Number_Font.w = text_font.w;
                                distance.Number_Font.h = text_font.h;

                                distance.Number_Font.color = text_font.color;
                                distance.Number_Font.font = text_font.font;
                                distance.Number_Font.text_size = text_font.text_size;

                                distance.Number_Font.char_space = text_font.char_space;
                                distance.Number_Font.line_space = text_font.line_space;
                                distance.Number_Font.alpha = text_font.alpha;

                                distance.Number_Font.align_h = text_font.align_h;
                                distance.Number_Font.align_v = text_font.align_v;
                                distance.Number_Font.text_style = text_font.text_style;

                                distance.Number_Font.padding = text_font.padding;
                                distance.Number_Font.unit_type = text_font.unit_type;

                                distance.Number_Font.type = text_font.type;

                                distance.Number_Font.visible = true;
                                distance.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "STAND")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                //if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Number_Font = new hmUI_widget_TEXT();
                                stand.Number_Font.x = text_font.x;
                                stand.Number_Font.y = text_font.y;
                                stand.Number_Font.w = text_font.w;
                                stand.Number_Font.h = text_font.h;

                                stand.Number_Font.color = text_font.color;
                                stand.Number_Font.font = text_font.font;
                                stand.Number_Font.text_size = text_font.text_size;

                                stand.Number_Font.char_space = text_font.char_space;
                                stand.Number_Font.line_space = text_font.line_space;
                                stand.Number_Font.alpha = text_font.alpha;

                                stand.Number_Font.align_h = text_font.align_h;
                                stand.Number_Font.align_v = text_font.align_v;
                                stand.Number_Font.text_style = text_font.text_style;

                                stand.Number_Font.padding = text_font.padding;
                                stand.Number_Font.unit_type = text_font.unit_type;

                                stand.Number_Font.type = text_font.type;

                                stand.Number_Font.visible = true;
                                stand.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "STAND_TARGET")
                        {
                            ElementStand stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            if (stand == null)
                            {
                                elementsList.Add(new ElementStand());
                                stand = (ElementStand)elementsList.Find(e => e.GetType().Name == "ElementStand");
                            }
                            if (stand != null)
                            {
                                int offset = 1;
                                if (stand.Images != null) offset++;
                                if (stand.Segments != null) offset++;
                                if (stand.Number != null) offset++;
                                if (stand.Number_Font != null) offset++;
                                if (stand.Text_rotation != null) offset++;
                                if (stand.Text_circle != null) offset++;
                                if (stand.Number_Target != null) offset++;
                                //if (stand.Number_Target_Font != null) offset++;
                                if (stand.Text_rotation_Target != null) offset++;
                                if (stand.Text_circle_Target != null) offset++;
                                if (stand.Pointer != null) offset++;
                                if (stand.Circle_Scale != null) offset++;
                                if (stand.Linear_Scale != null) offset++;
                                if (stand.Icon != null) offset++;

                                stand.Number_Target_Font = new hmUI_widget_TEXT();
                                stand.Number_Target_Font.x = text_font.x;
                                stand.Number_Target_Font.y = text_font.y;
                                stand.Number_Target_Font.w = text_font.w;
                                stand.Number_Target_Font.h = text_font.h;

                                stand.Number_Target_Font.color = text_font.color;
                                stand.Number_Target_Font.font = text_font.font;
                                stand.Number_Target_Font.text_size = text_font.text_size;

                                stand.Number_Target_Font.char_space = text_font.char_space;
                                stand.Number_Target_Font.line_space = text_font.line_space;
                                stand.Number_Target_Font.alpha = text_font.alpha;

                                stand.Number_Target_Font.align_h = text_font.align_h;
                                stand.Number_Target_Font.align_v = text_font.align_v;
                                stand.Number_Target_Font.text_style = text_font.text_style;

                                stand.Number_Target_Font.padding = text_font.padding;
                                stand.Number_Target_Font.unit_type = text_font.unit_type;

                                stand.Number_Target_Font.type = text_font.type;

                                stand.Number_Target_Font.visible = true;
                                stand.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "ACTIVITY")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                //if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Number_Font = new hmUI_widget_TEXT();
                                activity.Number_Font.x = text_font.x;
                                activity.Number_Font.y = text_font.y;
                                activity.Number_Font.w = text_font.w;
                                activity.Number_Font.h = text_font.h;

                                activity.Number_Font.color = text_font.color;
                                activity.Number_Font.font = text_font.font;
                                activity.Number_Font.text_size = text_font.text_size;

                                activity.Number_Font.char_space = text_font.char_space;
                                activity.Number_Font.line_space = text_font.line_space;
                                activity.Number_Font.alpha = text_font.alpha;

                                activity.Number_Font.align_h = text_font.align_h;
                                activity.Number_Font.align_v = text_font.align_v;
                                activity.Number_Font.text_style = text_font.text_style;

                                activity.Number_Font.padding = text_font.padding;
                                activity.Number_Font.unit_type = text_font.unit_type;

                                activity.Number_Font.type = text_font.type;

                                activity.Number_Font.visible = true;
                                activity.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "ACTIVITY_TARGET")
                        {
                            ElementActivity activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            if (activity == null)
                            {
                                elementsList.Add(new ElementActivity());
                                activity = (ElementActivity)elementsList.Find(e => e.GetType().Name == "ElementActivity");
                            }
                            if (activity != null)
                            {
                                int offset = 1;
                                if (activity.Images != null) offset++;
                                if (activity.Segments != null) offset++;
                                if (activity.Number != null) offset++;
                                if (activity.Number_Font != null) offset++;
                                if (activity.Number_Target != null) offset++;
                                //if (activity.Number_Target_Font != null) offset++;
                                if (activity.Pointer != null) offset++;
                                if (activity.Circle_Scale != null) offset++;
                                if (activity.Linear_Scale != null) offset++;
                                if (activity.Icon != null) offset++;

                                activity.Number_Target_Font = new hmUI_widget_TEXT();
                                activity.Number_Target_Font.x = text_font.x;
                                activity.Number_Target_Font.y = text_font.y;
                                activity.Number_Target_Font.w = text_font.w;
                                activity.Number_Target_Font.h = text_font.h;

                                activity.Number_Target_Font.color = text_font.color;
                                activity.Number_Target_Font.font = text_font.font;
                                activity.Number_Target_Font.text_size = text_font.text_size;

                                activity.Number_Target_Font.char_space = text_font.char_space;
                                activity.Number_Target_Font.line_space = text_font.line_space;
                                activity.Number_Target_Font.alpha = text_font.alpha;

                                activity.Number_Target_Font.align_h = text_font.align_h;
                                activity.Number_Target_Font.align_v = text_font.align_v;
                                activity.Number_Target_Font.text_style = text_font.text_style;

                                activity.Number_Target_Font.padding = text_font.padding;
                                activity.Number_Target_Font.unit_type = text_font.unit_type;

                                activity.Number_Target_Font.type = text_font.type;

                                activity.Number_Target_Font.visible = true;
                                activity.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "SPO2")
                        {
                            ElementSpO2 spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            if (spo2 == null)
                            {
                                elementsList.Add(new ElementSpO2());
                                spo2 = (ElementSpO2)elementsList.Find(e => e.GetType().Name == "ElementSpO2");
                            }
                            if (spo2 != null)
                            {
                                int offset = 1;
                                if (spo2.Number != null) offset++;
                                //if (spo2.Number_Font != null) offset++;
                                if (spo2.Text_rotation != null) offset++;
                                if (spo2.Text_circle != null) offset++;
                                if (spo2.Icon != null) offset++;

                                spo2.Number_Font = new hmUI_widget_TEXT();
                                spo2.Number_Font.x = text_font.x;
                                spo2.Number_Font.y = text_font.y;
                                spo2.Number_Font.w = text_font.w;
                                spo2.Number_Font.h = text_font.h;

                                spo2.Number_Font.color = text_font.color;
                                spo2.Number_Font.font = text_font.font;
                                spo2.Number_Font.text_size = text_font.text_size;

                                spo2.Number_Font.char_space = text_font.char_space;
                                spo2.Number_Font.line_space = text_font.line_space;
                                spo2.Number_Font.alpha = text_font.alpha;

                                spo2.Number_Font.align_h = text_font.align_h;
                                spo2.Number_Font.align_v = text_font.align_v;
                                spo2.Number_Font.text_style = text_font.text_style;

                                spo2.Number_Font.padding = text_font.padding;
                                spo2.Number_Font.unit_type = text_font.unit_type;

                                spo2.Number_Font.type = text_font.type;

                                spo2.Number_Font.visible = true;
                                spo2.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "STRESS")
                        {
                            ElementStress stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            if (stress == null)
                            {
                                elementsList.Add(new ElementStress());
                                stress = (ElementStress)elementsList.Find(e => e.GetType().Name == "ElementStress");
                            }
                            if (stress != null)
                            {
                                int offset = 1;
                                if (stress.Images != null) offset++;
                                if (stress.Segments != null) offset++;
                                if (stress.Number != null) offset++;
                                //if (stress.Number_Font != null) offset++;
                                if (stress.Pointer != null) offset++;
                                if (stress.Icon != null) offset++;

                                stress.Number_Font = new hmUI_widget_TEXT();
                                stress.Number_Font.x = text_font.x;
                                stress.Number_Font.y = text_font.y;
                                stress.Number_Font.w = text_font.w;
                                stress.Number_Font.h = text_font.h;

                                stress.Number_Font.color = text_font.color;
                                stress.Number_Font.font = text_font.font;
                                stress.Number_Font.text_size = text_font.text_size;

                                stress.Number_Font.char_space = text_font.char_space;
                                stress.Number_Font.line_space = text_font.line_space;
                                stress.Number_Font.alpha = text_font.alpha;

                                stress.Number_Font.align_h = text_font.align_h;
                                stress.Number_Font.align_v = text_font.align_v;
                                stress.Number_Font.text_style = text_font.text_style;

                                stress.Number_Font.padding = text_font.padding;
                                stress.Number_Font.unit_type = text_font.unit_type;

                                stress.Number_Font.type = text_font.type;

                                stress.Number_Font.visible = true;
                                stress.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "FAT_BURNING")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                //if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Number_Font = new hmUI_widget_TEXT();
                                fat_burning.Number_Font.x = text_font.x;
                                fat_burning.Number_Font.y = text_font.y;
                                fat_burning.Number_Font.w = text_font.w;
                                fat_burning.Number_Font.h = text_font.h;

                                fat_burning.Number_Font.color = text_font.color;
                                fat_burning.Number_Font.font = text_font.font;
                                fat_burning.Number_Font.text_size = text_font.text_size;

                                fat_burning.Number_Font.char_space = text_font.char_space;
                                fat_burning.Number_Font.line_space = text_font.line_space;
                                fat_burning.Number_Font.alpha = text_font.alpha;

                                fat_burning.Number_Font.align_h = text_font.align_h;
                                fat_burning.Number_Font.align_v = text_font.align_v;
                                fat_burning.Number_Font.text_style = text_font.text_style;

                                fat_burning.Number_Font.padding = text_font.padding;
                                fat_burning.Number_Font.unit_type = text_font.unit_type;

                                fat_burning.Number_Font.type = text_font.type;

                                fat_burning.Number_Font.visible = true;
                                fat_burning.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "FAT_BURNING_TARGET")
                        {
                            ElementFatBurning fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            if (fat_burning == null)
                            {
                                elementsList.Add(new ElementFatBurning());
                                fat_burning = (ElementFatBurning)elementsList.Find(e => e.GetType().Name == "ElementFatBurning");
                            }
                            if (fat_burning != null)
                            {
                                int offset = 1;
                                if (fat_burning.Images != null) offset++;
                                if (fat_burning.Segments != null) offset++;
                                if (fat_burning.Number != null) offset++;
                                if (fat_burning.Number_Font != null) offset++;
                                if (fat_burning.Text_rotation != null) offset++;
                                if (fat_burning.Text_circle != null) offset++;
                                if (fat_burning.Number_Target != null) offset++;
                                //if (fat_burning.Number_Target_Font != null) offset++;
                                if (fat_burning.Text_rotation_Target != null) offset++;
                                if (fat_burning.Text_circle_Target != null) offset++;
                                if (fat_burning.Pointer != null) offset++;
                                if (fat_burning.Circle_Scale != null) offset++;
                                if (fat_burning.Linear_Scale != null) offset++;
                                if (fat_burning.Icon != null) offset++;

                                fat_burning.Number_Target_Font = new hmUI_widget_TEXT();
                                fat_burning.Number_Target_Font.x = text_font.x;
                                fat_burning.Number_Target_Font.y = text_font.y;
                                fat_burning.Number_Target_Font.w = text_font.w;
                                fat_burning.Number_Target_Font.h = text_font.h;

                                fat_burning.Number_Target_Font.color = text_font.color;
                                fat_burning.Number_Target_Font.font = text_font.font;
                                fat_burning.Number_Target_Font.text_size = text_font.text_size;

                                fat_burning.Number_Target_Font.char_space = text_font.char_space;
                                fat_burning.Number_Target_Font.line_space = text_font.line_space;
                                fat_burning.Number_Target_Font.alpha = text_font.alpha;

                                fat_burning.Number_Target_Font.align_h = text_font.align_h;
                                fat_burning.Number_Target_Font.align_v = text_font.align_v;
                                fat_burning.Number_Target_Font.text_style = text_font.text_style;

                                fat_burning.Number_Target_Font.padding = text_font.padding;
                                fat_burning.Number_Target_Font.unit_type = text_font.unit_type;

                                fat_burning.Number_Target_Font.type = text_font.type;

                                fat_burning.Number_Target_Font.visible = true;
                                fat_burning.Number_Target_Font.position = offset;
                            }
                        }



                        /*if (text_font.type == "WEATHER_CURRENT")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                //if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Font = new hmUI_widget_TEXT();
                                weather.Number_Font.x = text_font.x;
                                weather.Number_Font.y = text_font.y;
                                weather.Number_Font.w = text_font.w;
                                weather.Number_Font.h = text_font.h;

                                weather.Number_Font.color = text_font.color;
                                weather.Number_Font.font = text_font.font;
                                weather.Number_Font.text_size = text_font.text_size;

                                weather.Number_Font.char_space = text_font.char_space;
                                weather.Number_Font.line_space = text_font.line_space;

                                weather.Number_Font.align_h = text_font.align_h;
                                weather.Number_Font.align_v = text_font.align_v;
                                weather.Number_Font.text_style = text_font.text_style;

                                weather.Number_Font.padding = text_font.padding;
                                weather.Number_Font.unit_type = text_font.unit_type;

                                weather.Number_Font.type = text_font.type;

                                weather.Number_Font.visible = true;
                                weather.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_LOW")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                //if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Min_Font = new hmUI_widget_TEXT();
                                weather.Number_Min_Font.x = text_font.x;
                                weather.Number_Min_Font.y = text_font.y;
                                weather.Number_Min_Font.w = text_font.w;
                                weather.Number_Min_Font.h = text_font.h;

                                weather.Number_Min_Font.color = text_font.color;
                                weather.Number_Min_Font.font = text_font.font;
                                weather.Number_Min_Font.text_size = text_font.text_size;

                                weather.Number_Min_Font.char_space = text_font.char_space;
                                weather.Number_Min_Font.line_space = text_font.line_space;

                                weather.Number_Min_Font.align_h = text_font.align_h;
                                weather.Number_Min_Font.align_v = text_font.align_v;
                                weather.Number_Min_Font.text_style = text_font.text_style;

                                weather.Number_Min_Font.padding = text_font.padding;
                                weather.Number_Min_Font.unit_type = text_font.unit_type;

                                weather.Number_Min_Font.type = text_font.type;

                                weather.Number_Min_Font.visible = true;
                                weather.Number_Min_Font.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_HIGH")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                //if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Max_Font = new hmUI_widget_TEXT();
                                weather.Number_Max_Font.x = text_font.x;
                                weather.Number_Max_Font.y = text_font.y;
                                weather.Number_Max_Font.w = text_font.w;
                                weather.Number_Max_Font.h = text_font.h;

                                weather.Number_Max_Font.color = text_font.color;
                                weather.Number_Max_Font.font = text_font.font;
                                weather.Number_Max_Font.text_size = text_font.text_size;

                                weather.Number_Max_Font.char_space = text_font.char_space;
                                weather.Number_Max_Font.line_space = text_font.line_space;

                                weather.Number_Max_Font.align_h = text_font.align_h;
                                weather.Number_Max_Font.align_v = text_font.align_v;
                                weather.Number_Max_Font.text_style = text_font.text_style;

                                weather.Number_Max_Font.padding = text_font.padding;
                                weather.Number_Max_Font.unit_type = text_font.unit_type;

                                weather.Number_Max_Font.type = text_font.type;

                                weather.Number_Max_Font.visible = true;
                                weather.Number_Max_Font.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_HIGH_LOW")
                        {
                            ElementWeather weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather());
                                weather = (ElementWeather)elementsList.Find(e => e.GetType().Name == "ElementWeather");
                            }
                            if (weather != null)
                            {
                                int offset = 1;
                                if (weather.Images != null) offset++;
                                if (weather.Number != null) offset++;
                                if (weather.Number_Font != null) offset++;
                                if (weather.Number_Min != null) offset++;
                                if (weather.Number_Min_Font != null) offset++;
                                if (weather.Number_Max != null) offset++;
                                if (weather.Number_Max_Font != null) offset++;
                                if (weather.Text_Min_rotation != null) offset++;
                                if (weather.Text_Min_circle != null) offset++;
                                if (weather.Text_Max_rotation != null) offset++;
                                if (weather.Text_Max_circle != null) offset++;
                                //if (weather.Number_Min_Max_Font != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Number_Min_Max_Font = new hmUI_widget_TEXT();
                                weather.Number_Min_Max_Font.x = text_font.x;
                                weather.Number_Min_Max_Font.y = text_font.y;
                                weather.Number_Min_Max_Font.w = text_font.w;
                                weather.Number_Min_Max_Font.h = text_font.h;

                                weather.Number_Min_Max_Font.color = text_font.color;
                                weather.Number_Min_Max_Font.font = text_font.font;
                                weather.Number_Min_Max_Font.text_size = text_font.text_size;

                                weather.Number_Min_Max_Font.char_space = text_font.char_space;
                                weather.Number_Min_Max_Font.line_space = text_font.line_space;

                                weather.Number_Min_Max_Font.align_h = text_font.align_h;
                                weather.Number_Min_Max_Font.align_v = text_font.align_v;
                                weather.Number_Min_Max_Font.text_style = text_font.text_style;

                                weather.Number_Min_Max_Font.padding = text_font.padding;
                                weather.Number_Min_Max_Font.unit_type = text_font.unit_type;

                                weather.Number_Min_Max_Font.type = text_font.type;

                                weather.Number_Min_Max_Font.visible = true;
                                weather.Number_Min_Max_Font.position = offset;
                            }
                        }*/

                        if (text_font.type == "WEATHER_CURRENT")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Current == null) weather.Group_Current = new WeatherGroup();
                                int offset = 1;
                                //if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Current.Number_Font = new hmUI_widget_TEXT();
                                weather.Group_Current.Number_Font.x = text_font.x;
                                weather.Group_Current.Number_Font.y = text_font.y;
                                weather.Group_Current.Number_Font.w = text_font.w;
                                weather.Group_Current.Number_Font.h = text_font.h;

                                weather.Group_Current.Number_Font.color = text_font.color;
                                weather.Group_Current.Number_Font.font = text_font.font;
                                weather.Group_Current.Number_Font.text_size = text_font.text_size;

                                weather.Group_Current.Number_Font.char_space = text_font.char_space;
                                weather.Group_Current.Number_Font.line_space = text_font.line_space;
                                weather.Group_Current.Number_Font.alpha = text_font.alpha;

                                weather.Group_Current.Number_Font.align_h = text_font.align_h;
                                weather.Group_Current.Number_Font.align_v = text_font.align_v;
                                weather.Group_Current.Number_Font.text_style = text_font.text_style;

                                weather.Group_Current.Number_Font.padding = text_font.padding;
                                weather.Group_Current.Number_Font.unit_type = text_font.unit_type;

                                weather.Group_Current.Number_Font.type = text_font.type;

                                weather.Group_Current.Number_Font.visible = true;
                                //weather.Group_Current.Number_Font.position = offset;
                                if(weather.Group_Current.position < 0) weather.Group_Current.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Min == null) weather.Group_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                //if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Min.Number_Font = new hmUI_widget_TEXT();
                                weather.Group_Min.Number_Font.x = text_font.x;
                                weather.Group_Min.Number_Font.y = text_font.y;
                                weather.Group_Min.Number_Font.w = text_font.w;
                                weather.Group_Min.Number_Font.h = text_font.h;

                                weather.Group_Min.Number_Font.color = text_font.color;
                                weather.Group_Min.Number_Font.font = text_font.font;
                                weather.Group_Min.Number_Font.text_size = text_font.text_size;

                                weather.Group_Min.Number_Font.char_space = text_font.char_space;
                                weather.Group_Min.Number_Font.line_space = text_font.line_space;
                                weather.Group_Min.Number_Font.alpha = text_font.alpha;

                                weather.Group_Min.Number_Font.align_h = text_font.align_h;
                                weather.Group_Min.Number_Font.align_v = text_font.align_v;
                                weather.Group_Min.Number_Font.text_style = text_font.text_style;

                                weather.Group_Min.Number_Font.padding = text_font.padding;
                                weather.Group_Min.Number_Font.unit_type = text_font.unit_type;

                                weather.Group_Min.Number_Font.type = text_font.type;

                                weather.Group_Min.Number_Font.visible = true;
                                //weather.Group_Min.Number_Font.position = offset;
                                if (weather.Group_Min.position < 0) weather.Group_Min.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_HIGH")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max == null) weather.Group_Max = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                //if (weather.Group_Max != null) offset++;
                                if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max.Number_Font = new hmUI_widget_TEXT();
                                weather.Group_Max.Number_Font.x = text_font.x;
                                weather.Group_Max.Number_Font.y = text_font.y;
                                weather.Group_Max.Number_Font.w = text_font.w;
                                weather.Group_Max.Number_Font.h = text_font.h;

                                weather.Group_Max.Number_Font.color = text_font.color;
                                weather.Group_Max.Number_Font.font = text_font.font;
                                weather.Group_Max.Number_Font.text_size = text_font.text_size;

                                weather.Group_Max.Number_Font.char_space = text_font.char_space;
                                weather.Group_Max.Number_Font.line_space = text_font.line_space;
                                weather.Group_Max.Number_Font.alpha = text_font.alpha;

                                weather.Group_Max.Number_Font.align_h = text_font.align_h;
                                weather.Group_Max.Number_Font.align_v = text_font.align_v;
                                weather.Group_Max.Number_Font.text_style = text_font.text_style;

                                weather.Group_Max.Number_Font.padding = text_font.padding;
                                weather.Group_Max.Number_Font.unit_type = text_font.unit_type;

                                weather.Group_Max.Number_Font.type = text_font.type;

                                weather.Group_Max.Number_Font.visible = true;
                                //weather.Group_Max.Number_Font.position = offset;
                                if (weather.Group_Max.position < 0) weather.Group_Max.position = offset;
                            }
                        }

                        if (text_font.type == "WEATHER_HIGH_LOW")
                        {
                            ElementWeather_v2 weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            if (weather == null)
                            {
                                elementsList.Add(new ElementWeather_v2());
                                weather = (ElementWeather_v2)elementsList.Find(e => e.GetType().Name == "ElementWeather_v2");
                            }
                            if (weather != null)
                            {
                                if (weather.Group_Max_Min == null) weather.Group_Max_Min = new WeatherGroup();
                                int offset = 1;
                                if (weather.Group_Current != null) offset++;
                                if (weather.Group_Min != null) offset++;
                                if (weather.Group_Max != null) offset++;
                                //if (weather.Group_Max_Min != null) offset++;
                                if (weather.Images != null) offset++;
                                if (weather.City_Name != null) offset++;
                                if (weather.Icon != null) offset++;

                                weather.Group_Max_Min.Number_Font = new hmUI_widget_TEXT();
                                weather.Group_Max_Min.Number_Font.x = text_font.x;
                                weather.Group_Max_Min.Number_Font.y = text_font.y;
                                weather.Group_Max_Min.Number_Font.w = text_font.w;
                                weather.Group_Max_Min.Number_Font.h = text_font.h;

                                weather.Group_Max_Min.Number_Font.color = text_font.color;
                                weather.Group_Max_Min.Number_Font.font = text_font.font;
                                weather.Group_Max_Min.Number_Font.text_size = text_font.text_size;

                                weather.Group_Max_Min.Number_Font.char_space = text_font.char_space;
                                weather.Group_Max_Min.Number_Font.line_space = text_font.line_space;
                                weather.Group_Max_Min.Number_Font.alpha = text_font.alpha;

                                weather.Group_Max_Min.Number_Font.align_h = text_font.align_h;
                                weather.Group_Max_Min.Number_Font.align_v = text_font.align_v;
                                weather.Group_Max_Min.Number_Font.text_style = text_font.text_style;

                                weather.Group_Max_Min.Number_Font.padding = text_font.padding;
                                weather.Group_Max_Min.Number_Font.unit_type = text_font.unit_type;

                                weather.Group_Max_Min.Number_Font.type = text_font.type;

                                weather.Group_Max_Min.Number_Font.visible = true;
                                //weather.Group_Max_Min.Number_Font.position = offset;
                                if (weather.Group_Max_Min.position < 0) weather.Group_Max_Min.position = offset;
                            }
                        }

                        if (text_font.type == "UVI")
                        {
                            ElementUVIndex uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            if (uv_index == null)
                            {
                                elementsList.Add(new ElementUVIndex());
                                uv_index = (ElementUVIndex)elementsList.Find(e => e.GetType().Name == "ElementUVIndex");
                            }
                            if (uv_index != null)
                            {
                                int offset = 1;
                                if (uv_index.Images != null) offset++;
                                if (uv_index.Segments != null) offset++;
                                if (uv_index.Number != null) offset++;
                                //if (uv_index.Number_Font != null) offset++;
                                if (uv_index.Pointer != null) offset++;
                                if (uv_index.Icon != null) offset++;

                                uv_index.Number_Font = new hmUI_widget_TEXT();
                                uv_index.Number_Font.x = text_font.x;
                                uv_index.Number_Font.y = text_font.y;
                                uv_index.Number_Font.w = text_font.w;
                                uv_index.Number_Font.h = text_font.h;

                                uv_index.Number_Font.color = text_font.color;
                                uv_index.Number_Font.font = text_font.font;
                                uv_index.Number_Font.text_size = text_font.text_size;

                                uv_index.Number_Font.char_space = text_font.char_space;
                                uv_index.Number_Font.line_space = text_font.line_space;
                                uv_index.Number_Font.alpha = text_font.alpha;

                                uv_index.Number_Font.align_h = text_font.align_h;
                                uv_index.Number_Font.align_v = text_font.align_v;
                                uv_index.Number_Font.text_style = text_font.text_style;

                                uv_index.Number_Font.padding = text_font.padding;
                                uv_index.Number_Font.unit_type = text_font.unit_type;

                                uv_index.Number_Font.type = text_font.type;

                                uv_index.Number_Font.visible = true;
                                uv_index.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "HUMIDITY")
                        {
                            ElementHumidity humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            if (humidity == null)
                            {
                                elementsList.Add(new ElementHumidity());
                                humidity = (ElementHumidity)elementsList.Find(e => e.GetType().Name == "ElementHumidity");
                            }
                            if (humidity != null)
                            {
                                int offset = 1;
                                if (humidity.Images != null) offset++;
                                if (humidity.Segments != null) offset++;
                                if (humidity.Number != null) offset++;
                                //if (humidity.Number_Font != null) offset++;
                                if (humidity.Pointer != null) offset++;
                                if (humidity.Icon != null) offset++;

                                humidity.Number_Font = new hmUI_widget_TEXT();
                                humidity.Number_Font.x = text_font.x;
                                humidity.Number_Font.y = text_font.y;
                                humidity.Number_Font.w = text_font.w;
                                humidity.Number_Font.h = text_font.h;

                                humidity.Number_Font.color = text_font.color;
                                humidity.Number_Font.font = text_font.font;
                                humidity.Number_Font.text_size = text_font.text_size;

                                humidity.Number_Font.char_space = text_font.char_space;
                                humidity.Number_Font.line_space = text_font.line_space;
                                humidity.Number_Font.alpha = text_font.alpha;

                                humidity.Number_Font.align_h = text_font.align_h;
                                humidity.Number_Font.align_v = text_font.align_v;
                                humidity.Number_Font.text_style = text_font.text_style;

                                humidity.Number_Font.padding = text_font.padding;
                                humidity.Number_Font.unit_type = text_font.unit_type;

                                humidity.Number_Font.type = text_font.type;

                                humidity.Number_Font.visible = true;
                                humidity.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "ALTIMETER")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                if (altimeter.Number != null) offset++;
                                //if (altimeter.Number_Font != null) offset++;
                                if (altimeter.Number_Target != null) offset++;
                                if (altimeter.Number_Target_Font != null) offset++;
                                if (altimeter.Pointer != null) offset++;
                                if (altimeter.Icon != null) offset++;

                                altimeter.Number_Font = new hmUI_widget_TEXT();
                                altimeter.Number_Font.x = text_font.x;
                                altimeter.Number_Font.y = text_font.y;
                                altimeter.Number_Font.w = text_font.w;
                                altimeter.Number_Font.h = text_font.h;

                                altimeter.Number_Font.color = text_font.color;
                                altimeter.Number_Font.font = text_font.font;
                                altimeter.Number_Font.text_size = text_font.text_size;

                                altimeter.Number_Font.char_space = text_font.char_space;
                                altimeter.Number_Font.line_space = text_font.line_space;
                                altimeter.Number_Font.alpha = text_font.alpha;

                                altimeter.Number_Font.align_h = text_font.align_h;
                                altimeter.Number_Font.align_v = text_font.align_v;
                                altimeter.Number_Font.text_style = text_font.text_style;

                                altimeter.Number_Font.padding = text_font.padding;
                                altimeter.Number_Font.unit_type = text_font.unit_type;

                                altimeter.Number_Font.type = text_font.type;

                                altimeter.Number_Font.visible = true;
                                altimeter.Number_Font.position = offset;
                            }
                        }

                        if (text_font.type == "ALTITUDE")
                        {
                            ElementAltimeter altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            if (altimeter == null)
                            {
                                elementsList.Add(new ElementAltimeter());
                                altimeter = (ElementAltimeter)elementsList.Find(e => e.GetType().Name == "ElementAltimeter");
                            }
                            if (altimeter != null)
                            {
                                int offset = 1;
                                if (altimeter.Number != null) offset++;
                                if (altimeter.Number_Font != null) offset++;
                                if (altimeter.Number_Target != null) offset++;
                                //if (altimeter.Number_Target_Font != null) offset++;
                                if (altimeter.Pointer != null) offset++;
                                if (altimeter.Icon != null) offset++;

                                altimeter.Number_Target_Font = new hmUI_widget_TEXT();
                                altimeter.Number_Target_Font.x = text_font.x;
                                altimeter.Number_Target_Font.y = text_font.y;
                                altimeter.Number_Target_Font.w = text_font.w;
                                altimeter.Number_Target_Font.h = text_font.h;

                                altimeter.Number_Target_Font.color = text_font.color;
                                altimeter.Number_Target_Font.font = text_font.font;
                                altimeter.Number_Target_Font.text_size = text_font.text_size;

                                altimeter.Number_Target_Font.char_space = text_font.char_space;
                                altimeter.Number_Target_Font.line_space = text_font.line_space;
                                altimeter.Number_Target_Font.alpha = text_font.alpha;

                                altimeter.Number_Target_Font.align_h = text_font.align_h;
                                altimeter.Number_Target_Font.align_v = text_font.align_v;
                                altimeter.Number_Target_Font.text_style = text_font.text_style;

                                altimeter.Number_Target_Font.padding = text_font.padding;
                                altimeter.Number_Target_Font.unit_type = text_font.unit_type;

                                altimeter.Number_Target_Font.type = text_font.type;

                                altimeter.Number_Target_Font.visible = true;
                                altimeter.Number_Target_Font.position = offset;
                            }
                        }

                        if (text_font.type == "SUN_RISE")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                //if (sunrise.Sunrise_Font != null) offset++;
                                if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunrise_Font = new hmUI_widget_TEXT();
                                sunrise.Sunrise_Font.x = text_font.x;
                                sunrise.Sunrise_Font.y = text_font.y;
                                sunrise.Sunrise_Font.w = text_font.w;
                                sunrise.Sunrise_Font.h = text_font.h;

                                sunrise.Sunrise_Font.color = text_font.color;
                                sunrise.Sunrise_Font.font = text_font.font;
                                sunrise.Sunrise_Font.text_size = text_font.text_size;

                                sunrise.Sunrise_Font.char_space = text_font.char_space;
                                sunrise.Sunrise_Font.line_space = text_font.line_space;
                                sunrise.Sunrise_Font.alpha = text_font.alpha;

                                sunrise.Sunrise_Font.align_h = text_font.align_h;
                                sunrise.Sunrise_Font.align_v = text_font.align_v;
                                sunrise.Sunrise_Font.text_style = text_font.text_style;

                                sunrise.Sunrise_Font.padding = text_font.padding;
                                sunrise.Sunrise_Font.unit_type = text_font.unit_type;

                                sunrise.Sunrise_Font.type = text_font.type;

                                sunrise.Sunrise_Font.visible = true;
                                sunrise.Sunrise_Font.position = offset;
                            }
                        }

                        if (text_font.type == "SUN_SET")
                        {
                            ElementSunrise sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            if (sunrise == null)
                            {
                                elementsList.Add(new ElementSunrise());
                                sunrise = (ElementSunrise)elementsList.Find(e => e.GetType().Name == "ElementSunrise");
                            }
                            if (sunrise != null)
                            {
                                int offset = 1;
                                if (sunrise.Images != null) offset++;
                                if (sunrise.Segments != null) offset++;
                                if (sunrise.Sunrise != null) offset++;
                                if (sunrise.Sunset != null) offset++;
                                if (sunrise.Sunset_Sunrise != null) offset++;
                                if (sunrise.Sunrise_Font != null) offset++;
                                //if (sunrise.Sunset_Font != null) offset++;
                                if (sunrise.Sunrise_rotation != null) offset++;
                                if (sunrise.Sunset_rotation != null) offset++;
                                if (sunrise.Sunrise_circle != null) offset++;
                                if (sunrise.Sunset_circle != null) offset++;
                                if (sunrise.Pointer != null) offset++;
                                if (sunrise.Icon != null) offset++;

                                sunrise.Sunset_Font = new hmUI_widget_TEXT();
                                sunrise.Sunset_Font.x = text_font.x;
                                sunrise.Sunset_Font.y = text_font.y;
                                sunrise.Sunset_Font.w = text_font.w;
                                sunrise.Sunset_Font.h = text_font.h;

                                sunrise.Sunset_Font.color = text_font.color;
                                sunrise.Sunset_Font.font = text_font.font;
                                sunrise.Sunset_Font.text_size = text_font.text_size;

                                sunrise.Sunset_Font.char_space = text_font.char_space;
                                sunrise.Sunset_Font.line_space = text_font.line_space;
                                sunrise.Sunset_Font.alpha = text_font.alpha;

                                sunrise.Sunset_Font.align_h = text_font.align_h;
                                sunrise.Sunset_Font.align_v = text_font.align_v;
                                sunrise.Sunset_Font.text_style = text_font.text_style;

                                sunrise.Sunset_Font.padding = text_font.padding;
                                sunrise.Sunset_Font.unit_type = text_font.unit_type;

                                sunrise.Sunset_Font.type = text_font.type;

                                sunrise.Sunset_Font.visible = true;
                                sunrise.Sunset_Font.position = offset;
                            }
                        }

                        if (text_font.type == "MOON_RISE")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                //if (moon.Sunrise_Font != null) offset++;
                                if (moon.Sunset_Font != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Sunrise_Font = new hmUI_widget_TEXT();
                                moon.Sunrise_Font.x = text_font.x;
                                moon.Sunrise_Font.y = text_font.y;
                                moon.Sunrise_Font.w = text_font.w;
                                moon.Sunrise_Font.h = text_font.h;

                                moon.Sunrise_Font.color = text_font.color;
                                moon.Sunrise_Font.font = text_font.font;
                                moon.Sunrise_Font.text_size = text_font.text_size;

                                moon.Sunrise_Font.char_space = text_font.char_space;
                                moon.Sunrise_Font.line_space = text_font.line_space;
                                moon.Sunrise_Font.alpha = text_font.alpha;

                                moon.Sunrise_Font.align_h = text_font.align_h;
                                moon.Sunrise_Font.align_v = text_font.align_v;
                                moon.Sunrise_Font.text_style = text_font.text_style;

                                moon.Sunrise_Font.padding = text_font.padding;
                                moon.Sunrise_Font.unit_type = text_font.unit_type;

                                moon.Sunrise_Font.type = text_font.type;

                                moon.Sunrise_Font.visible = true;
                                moon.Sunrise_Font.position = offset;
                            }
                        }

                        if (text_font.type == "MOON_SET")
                        {
                            ElementMoon moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            if (moon == null)
                            {
                                elementsList.Add(new ElementMoon());
                                moon = (ElementMoon)elementsList.Find(e => e.GetType().Name == "ElementMoon");
                            }
                            if (moon != null)
                            {
                                int offset = 1;
                                if (moon.Images != null) offset++;
                                if (moon.Sunrise != null) offset++;
                                if (moon.Sunset != null) offset++;
                                if (moon.Sunset_Sunrise != null) offset++;
                                if (moon.Sunrise_Font != null) offset++;
                                //if (moon.Sunset_Font != null) offset++;
                                if (moon.Pointer != null) offset++;
                                if (moon.Icon != null) offset++;

                                moon.Sunset_Font = new hmUI_widget_TEXT();
                                moon.Sunset_Font.x = text_font.x;
                                moon.Sunset_Font.y = text_font.y;
                                moon.Sunset_Font.w = text_font.w;
                                moon.Sunset_Font.h = text_font.h;

                                moon.Sunset_Font.color = text_font.color;
                                moon.Sunset_Font.font = text_font.font;
                                moon.Sunset_Font.text_size = text_font.text_size;

                                moon.Sunset_Font.char_space = text_font.char_space;
                                moon.Sunset_Font.line_space = text_font.line_space;
                                moon.Sunset_Font.alpha = text_font.alpha;

                                moon.Sunset_Font.align_h = text_font.align_h;
                                moon.Sunset_Font.align_v = text_font.align_v;
                                moon.Sunset_Font.text_style = text_font.text_style;

                                moon.Sunset_Font.padding = text_font.padding;
                                moon.Sunset_Font.unit_type = text_font.unit_type;

                                moon.Sunset_Font.type = text_font.type;

                                moon.Sunset_Font.visible = true;
                                moon.Sunset_Font.position = offset;
                            }
                        }

                        if (text_font.type == "WIND")
                        {
                            ElementWind wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            if (wind == null)
                            {
                                elementsList.Add(new ElementWind());
                                wind = (ElementWind)elementsList.Find(e => e.GetType().Name == "ElementWind");
                            }
                            if (wind != null)
                            {
                                int offset = 1;
                                if (wind.Images != null) offset++;
                                if (wind.Segments != null) offset++;
                                if (wind.Number != null) offset++;
                                //if (wind.Number_Font != null) offset++;
                                if (wind.Pointer != null) offset++;
                                if (wind.Direction != null) offset++;
                                if (wind.Icon != null) offset++;

                                wind.Number_Font = new hmUI_widget_TEXT();
                                wind.Number_Font.x = text_font.x;
                                wind.Number_Font.y = text_font.y;
                                wind.Number_Font.w = text_font.w;
                                wind.Number_Font.h = text_font.h;

                                wind.Number_Font.color = text_font.color;
                                wind.Number_Font.font = text_font.font;
                                wind.Number_Font.text_size = text_font.text_size;

                                wind.Number_Font.char_space = text_font.char_space;
                                wind.Number_Font.line_space = text_font.line_space;
                                wind.Number_Font.alpha = text_font.alpha;

                                wind.Number_Font.align_h = text_font.align_h;
                                wind.Number_Font.align_v = text_font.align_v;
                                wind.Number_Font.text_style = text_font.text_style;

                                wind.Number_Font.padding = text_font.padding;
                                wind.Number_Font.unit_type = text_font.unit_type;

                                wind.Number_Font.type = text_font.type;

                                wind.Number_Font.visible = true;
                                wind.Number_Font.position = offset;
                            }
                        }



                        break;
                    #endregion


                    #region IMG_ANIM
                    case "IMG_ANIM":
                        hmUI_widget_IMG_ANIM animation = Object_IMG_ANIM(parametrs);

                        ElementAnimation animationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        if (animationElement == null)
                        {
                            elementsList.Add(new ElementAnimation());
                            animationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        }
                        if (animationElement != null)
                        {
                            int offset = 1;
                            //if (animationElement.Frame_Animation_List != null) offset++;
                            if (animationElement.Motion_Animation_List != null) offset++;
                            if (animationElement.Rotate_Animation_List != null) offset++;

                            if (animationElement.Frame_Animation_List == null)
                                animationElement.Frame_Animation_List = new hmUI_widget_IMG_ANIM_List();
                            if (animationElement.Frame_Animation_List.Frame_Animation == null)
                                animationElement.Frame_Animation_List.Frame_Animation = new List<hmUI_widget_IMG_ANIM>();
                            animationElement.Frame_Animation_List.Frame_Animation.Add(animation);

                            animationElement.Frame_Animation_List.visible = true;
                            animationElement.Frame_Animation_List.position = offset;
                            animationElement.Frame_Animation_List.selected_animation = 0;
                        }

                        break;
                    #endregion

                    #region Motion_Animation
                    case "Motion_Animation":
                        Motion_Animation motion_animation = Object_Motion_Animation(parametrs);

                        ElementAnimation motionAnimationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        if (motionAnimationElement == null)
                        {
                            elementsList.Add(new ElementAnimation());
                            motionAnimationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        }
                        if (motionAnimationElement != null)
                        {
                            int offset = 1;
                            if (motionAnimationElement.Frame_Animation_List != null) offset++;
                            //if (motionAnimationElement.Motion_Animation_List != null) offset++;
                            if (motionAnimationElement.Rotate_Animation_List != null) offset++;

                            if (motionAnimationElement.Motion_Animation_List == null)
                                motionAnimationElement.Motion_Animation_List = new Motion_Animation_List();
                            if (motionAnimationElement.Motion_Animation_List.Motion_Animation == null)
                                motionAnimationElement.Motion_Animation_List.Motion_Animation = new List<Motion_Animation>();
                            motionAnimationElement.Motion_Animation_List.Motion_Animation.Add(motion_animation);

                            motionAnimationElement.Motion_Animation_List.visible = true;
                            motionAnimationElement.Motion_Animation_List.position = offset;
                            motionAnimationElement.Motion_Animation_List.selected_animation = 0;
                        }

                        break;
                    #endregion

                    #region Rotate_Animation
                    case "Rotate_Animation":
                        Rotate_Animation rotate_animation = Object_Rotate_Animation(parametrs);

                        ElementAnimation rotateAnimationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        if (rotateAnimationElement == null)
                        {
                            elementsList.Add(new ElementAnimation());
                            rotateAnimationElement = (ElementAnimation)elementsList.Find(e => e.GetType().Name == "ElementAnimation");
                        }
                        if (rotateAnimationElement != null)
                        {
                            int offset = 1;
                            if (rotateAnimationElement.Frame_Animation_List != null) offset++;
                            if (rotateAnimationElement.Motion_Animation_List != null) offset++;
                            //if (rotateAnimationElement.Rotate_Animation_List != null) offset++;

                            if (rotateAnimationElement.Rotate_Animation_List == null)
                                rotateAnimationElement.Rotate_Animation_List = new Rotate_Animation_List();
                            if (rotateAnimationElement.Rotate_Animation_List.Rotate_Animation == null)
                                rotateAnimationElement.Rotate_Animation_List.Rotate_Animation = new List<Rotate_Animation>();
                            rotateAnimationElement.Rotate_Animation_List.Rotate_Animation.Add(rotate_animation);

                            rotateAnimationElement.Rotate_Animation_List.visible = true;
                            rotateAnimationElement.Rotate_Animation_List.position = offset;
                            rotateAnimationElement.Rotate_Animation_List.selected_animation = 0;
                        }

                        break;
                    #endregion


                    #region FewDays
                    case "FewDays":
                        FewDays fewDays = Object_FewDays(parametrs);

                        Element_Weather_FewDays weatherFewDaysFD = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                        if (weatherFewDaysFD == null)
                        {
                            elementsList.Add(new Element_Weather_FewDays());
                            weatherFewDaysFD = (Element_Weather_FewDays)elementsList.Find(e => e.GetType().Name == "Element_Weather_FewDays");
                        }
                        if (weatherFewDaysFD != null)
                        {
                            if (weatherFewDaysFD.FewDays == null) weatherFewDaysFD.FewDays = new FewDays();
                            weatherFewDaysFD.FewDays.X = fewDays.X;
                            weatherFewDaysFD.FewDays.Y = fewDays.Y;
                            weatherFewDaysFD.FewDays.ColumnWidth = fewDays.ColumnWidth;
                            weatherFewDaysFD.FewDays.DaysCount = fewDays.DaysCount;
                            weatherFewDaysFD.FewDays.Background = fewDays.Background;
                        }

                        break;
                        #endregion
                }
            }
        }


        /// <summary>Возвращает имя функции и все его содержимое</summary>
        private string GetFunction(string str, out string parametrName, bool notFonction = false)
        {
            string returnString = "";
            //parametrName = "";
            do
            {
                returnString = "";
                parametrName = "";
                returnString = str.Trim(new char[] { '{', '}' });
                int firstIndex = str.IndexOf("{");
                int lastIndex = str.IndexOf("}");
                if (lastIndex > firstIndex)
                {
                    returnString = str.Substring(firstIndex + 1, lastIndex - firstIndex - 1);
                    int openCount = new Regex("{").Matches(returnString).Count;
                    int closingPCount = new Regex("}").Matches(returnString).Count;
                    while (openCount != closingPCount)
                    {
                        lastIndex = str.IndexOf("}", lastIndex + 1);
                        //if (lastIndex < 0) return "";
                        returnString = str.Substring(firstIndex + 1, lastIndex - firstIndex - 1);
                        openCount = new Regex("{").Matches(returnString).Count;
                        closingPCount = new Regex("}").Matches(returnString).Count;
                    }

                    parametrName = str.Remove(firstIndex);
                    int stringStartIndex = parametrName.LastIndexOf("\n");
                    if (stringStartIndex > 0) parametrName = parametrName.Remove(0, stringStartIndex);
                    parametrName = parametrName.Trim();
                    //int i1 = str.IndexOf(Environment.NewLine);
                    if (notFonction && parametrName.StartsWith("function "))
                    {
                        str = str.Remove(0, lastIndex+1);
                        str = str.TrimStart();
                    }
                }
                else returnString = ""; 
            } while (notFonction && parametrName.StartsWith("function "));

            return returnString;
        }

        /// <summary>Возвращает по отдельности все функции из строки вместе с их содержимым для циферблатов v2</summary>
        private List<string> GetFunctionsList_v2(string str)
        {
            List<string> GetParametrsList = new List<string>();


            int valueLenght = str.IndexOf("}),") + 2;
            while (valueLenght > 0 && valueLenght < str.Length)
            {
                string valueStr = str.Remove(valueLenght);
                //str = str.Remove(0, valueLenght + 1);


                //int firstIndex = valueStr.IndexOf("(");
                int breackLineIndex = valueStr.IndexOf("})")+3;
                while (breackLineIndex > 3 && breackLineIndex + 1 < valueStr.Length)
                {
                    valueStr = valueStr.Remove(0, breackLineIndex + 1);
                    breackLineIndex = valueStr.IndexOf("})") + 3; 
                }
                int firstIndex = valueStr.IndexOf("(");
                //string TempStr = valueStr.Remove(firstIndex);
                if (firstIndex >= 0)
                {
                    //int stringStartIndex = valueStr.Remove(firstIndex).LastIndexOf("\n");
                    //valueStr = valueStr.Remove(0, stringStartIndex);
                    //valueStr = valueStr.TrimStart();

                    GetParametrsList.Add(valueStr); 
                }
                str = str.Remove(0, valueLenght + 1);
                valueLenght = str.IndexOf("}),");
                int posIf = str.IndexOf("if (screenType");
                if (posIf >= 0 && posIf < valueLenght) valueLenght = str.IndexOf("};")-1;
                if (valueLenght < 0 && str.EndsWith("})")) valueLenght = str.Length - 3;
                if (valueLenght >= 0) valueLenght = valueLenght + 2;
            }

            return GetParametrsList;
        }

        /// <summary>Возвращает по отдельности все функции из строки вместе с их содержимым</summary>
        private List<string> GetFunctionsList(string str)
        {
            List<string> GetParametrsList = new List<string>();

            int valueLenght = str.IndexOf("});") + 2;
            int strCount = str.Split(new string[] { "\n" }, StringSplitOptions.None).Count() - 1;
            //int i1 = str.IndexOf("hmUI.createWidget");
            if (valueLenght == 1 || strCount<5)
            {
                return GetFunctionsList_v2(str);
            }
            while (valueLenght > 0 && valueLenght < str.Length)
            {
                string valueStr = str.Remove(valueLenght);
                //str = str.Remove(0, valueLenght + 1);


                if (valueStr.IndexOf("switch (editType_") < 0 && valueStr.IndexOf("hmUI.createWidget(hmUI.widget.BUTTON") < 0)
                {
                    if(valueStr.IndexOf("console.log('user_script.js');") > 0)
                    {
                        int scriptIndex = valueStr.IndexOf("console.log('user_script.js');") + "console.log('user_script.js');".Length;
                        valueStr = valueStr.Remove(0, scriptIndex);
                        GetParametrsList.Add("JS_script insert here normal");
                    }
                    if (valueStr.IndexOf("console.log('AOD_user_script.js');") > 0)
                    {
                        int scriptIndex = valueStr.IndexOf("console.log('AOD_user_script.js');") + "console.log('AOD_user_script.js');".Length;
                        valueStr = valueStr.Remove(0, scriptIndex);
                        GetParametrsList.Add("JS_script insert here AOD");
                    }

                    //int firstIndex = valueStr.IndexOf("(");
                    int breackLineIndex = valueStr.IndexOf(";");
                    while (breackLineIndex > 0)
                    {
                        valueStr = valueStr.Remove(0, breackLineIndex + 1);
                        breackLineIndex = valueStr.IndexOf(";");
                    }
                    int firstIndex = valueStr.IndexOf("(");
                    //string TempStr = valueStr.Remove(firstIndex);
                    if (firstIndex >= 0)
                    {
                        int stringStartIndex = valueStr.Remove(firstIndex).LastIndexOf("\n");
                        if (stringStartIndex > 0 && stringStartIndex < valueStr.Length) valueStr = valueStr.Remove(0, stringStartIndex);
                        valueStr = valueStr.TrimStart();

                        GetParametrsList.Add(valueStr);
                    } 
                }
                else
                {
                    if (valueStr.IndexOf("switch (editType_") > 0)
                    {
                        int stringStartIndex = valueStr.IndexOf("switch (editType_");
                        valueStr = valueStr.Remove(0, stringStartIndex);
                        GetParametrsList.Add(valueStr);
                    }
                    else if (valueStr.IndexOf("hmUI.createWidget(hmUI.widget.BUTTON") > 0)
                    {
                        //int stringStartIndex = valueStr.IndexOf("hmUI.createWidget(hmUI.widget.BUTTON");
                        //valueStr = valueStr.Remove(0, stringStartIndex);
                        //GetParametrsList.Add(valueStr);

                        int firstIndex = valueStr.IndexOf("(");
                        if (firstIndex >= 0)
                        {
                            int stringStartIndex = valueStr.Remove(firstIndex).LastIndexOf("\n");
                            if (stringStartIndex > 0 && stringStartIndex < valueStr.Length) valueStr = valueStr.Remove(0, stringStartIndex);
                            valueStr = valueStr.TrimStart();

                            GetParametrsList.Add(valueStr);
                        }
                    }
                }
                str = str.Remove(0, valueLenght + 1);
                valueLenght = str.IndexOf("});") + 2;
                int posIf = str.IndexOf("if (screenType");
                //if (posIf >= 0 && posIf < valueLenght) valueLenght = str.IndexOf("};") - 1; 
                if (posIf >= 0 && posIf < valueLenght)
                {
                    valueLenght = FindMinLengthBalancedString(str, '{', '}');
                    if (valueLenght < 0) valueLenght = str.IndexOf("};") - 1;
                }

                int posFunction = str.IndexOf("function ");
                int posSwitch = str.IndexOf("switch (editType");
                //if (posSwitch >= 0 && posSwitch < valueLenght) 
                //    valueLenght = str.IndexOf("}; // end switch") - 1;
                //if (valueLenght >= 0) valueLenght = valueLenght + 2;

                int posButton = str.IndexOf("hmUI.createWidget(hmUI.widget.BUTTON");
                if (posButton >= 0 && posButton < valueLenght)
                {
                    valueLenght = str.IndexOf("}); // end button") - 1;
                    if (valueLenght >= 0) valueLenght = valueLenght + "}); // end button".Length + 1;
                }
                else if (posSwitch >= 0 && posSwitch < valueLenght)
                {
                    valueLenght = str.IndexOf("}; // end switch") - 1;
                    if (valueLenght >= 0) valueLenght = valueLenght + 2;
                }
                else if (posFunction >= 0 && posFunction < valueLenght)
                {
                    string functionName = "";
                    string functionText = GetFunction(str, out functionName);
                    int sartIndex = str.IndexOf("{");
                    if (sartIndex < 0) sartIndex = 0;
                    sartIndex += functionText.Length;
                    valueLenght = str.IndexOf("}", sartIndex) + 1;
                }

                //int posFunction = str.IndexOf("function ");
                //if (posFunction >= 0 && posFunction < valueLenght)
                //{
                //    string functionName = "";
                //    string functionText = GetFunction(str, out functionName);
                //    int sartIndex = str.IndexOf("{");
                //    if (sartIndex < 0) sartIndex = 0;
                //    sartIndex += functionText.Length;
                //    valueLenght = str.IndexOf("}", sartIndex) + 1;
                //}
            }

            return GetParametrsList; ;
        }

        /// <summary>Возвращает все параметры функции и их значения в виде строк</summary>
        private Dictionary<string, string> ParseParametrsInString(string str)
        {
            Dictionary<string, string> returnParametrs = new Dictionary<string, string>();

            if (str.StartsWith("switch"))
            {
                returnParametrs = ParseParametrsInSwitch(str);
                return returnParametrs;
            }

            if (str.StartsWith("JS_script insert here"))
            {
                string scriptNameStr = "normal";
                if(str == "JS_script insert here AOD") scriptNameStr = "AOD";
                returnParametrs.Add("ObjectName", scriptNameStr);
                returnParametrs.Add("ObjectType", "Script");
                return returnParametrs;
            }

            int endIndex = str.IndexOf("=");
            if (endIndex < 0)
            {
                if (str.StartsWith("hmUI.createWidget")) returnParametrs = ParseParametrsInString_v2(str);
                return returnParametrs;
            }
            string valueNameStr = str.Remove(endIndex);
            valueNameStr = valueNameStr.Replace("$", "");
            valueNameStr = valueNameStr.Trim();

            int startIndex = str.IndexOf("hmUI.widget.") + "hmUI.widget.".Length;
            endIndex = str.IndexOf(",", startIndex);
            if(str.IndexOf(")", startIndex) < endIndex) 
            {
                endIndex = str.IndexOf(")", startIndex);
                if (startIndex < 12 || endIndex < 0)
                    return returnParametrs;
                string valueStrType = str.Substring(startIndex, endIndex - startIndex);
                returnParametrs.Add("ObjectName", valueNameStr);
                returnParametrs.Add("ObjectType", valueStrType);
                return returnParametrs;
            }
            if (startIndex < 12 || endIndex < 0)
                return returnParametrs;
            string valueStr = str.Substring(startIndex, endIndex - startIndex);
            returnParametrs.Add("ObjectName", valueNameStr);
            returnParametrs.Add("ObjectType", valueStr);

            startIndex = str.IndexOf("{") + 1;
            endIndex = str.IndexOf("}", startIndex);

            if (str.IndexOf("WATCHFACE_EDIT_BG") > 0) endIndex = str.IndexOf("}", str.IndexOf("]"));
            if (str.IndexOf("WATCHFACE_EDIT_GROUP") > 0)
            {
                if(str.IndexOf("select_list") > 0)
                {
                    int tempStartIndex = str.IndexOf("}", str.IndexOf("select_list"));
                    int tempEndIndex = str.IndexOf("}", tempStartIndex + 1);
                    endIndex = str.IndexOf("}", str.IndexOf("]"));
                    if (tempEndIndex > endIndex) endIndex = tempEndIndex;
                }
                else endIndex = str.IndexOf("}", str.IndexOf("]"));
            }
            if (str.IndexOf("hmUI.createWidget(hmUI.widget.BUTTON") > 0) endIndex = str.IndexOf("}); // end button");

            str = str.Substring(startIndex, endIndex - startIndex);
            str = str.Trim();
            str = str + Environment.NewLine;

            endIndex = str.IndexOf(Environment.NewLine);
            while (endIndex > 0)  // перебираем все параметры элемента
            {
                valueStr = str.Substring(0, endIndex);
                //int tempInt = valueStr.IndexOf("//");
                valueStr = valueStr.Trim();
                startIndex = valueStr.IndexOf(",");
                if (startIndex > 0) 
                {
                    if (returnParametrs["ObjectType"] == "IMG_PROGRESS")
                    {
                        valueStr = valueStr.TrimEnd(',');
                        //valueStr = valueStr.Remove(startIndex, valueStr.Length - startIndex); 
                    }
                    else if (returnParametrs["ObjectType"] == "TEXT" && valueStr.StartsWith("// unit_string"))
                    {
                        startIndex = valueStr.LastIndexOf(",");
                        valueStr = valueStr.Remove(startIndex, valueStr.Length - startIndex);
                    }
                    else
                    {
                        startIndex = valueStr.LastIndexOf(",");
                        valueStr = valueStr.Remove(startIndex, valueStr.Length - startIndex);
                        //valueStr = valueStr.TrimEnd(',');
                    }
                }
                //valueStr = valueStr.TrimEnd(',');
                startIndex = valueStr.IndexOf(":");
                if (startIndex > 0)
                {
                    string valueName = valueStr.Substring(0, startIndex);
                    if (valueName == "bg_config") valueStr = str.Substring(1, str.IndexOf("]"));
                    if (valueName == "optional_types") valueStr = str.Substring(1, str.IndexOf("]"));
                    if (valueName == "select_list") valueStr = str.Substring(1, str.IndexOf("}"));
                    if (valueName == "click_func" || valueName == "longpress_func") 
                    {
                        valueStr = str.Remove(0, str.IndexOf("\n", str.IndexOf("=>")));
                        valueStr = valueStr.Substring(1, valueStr.IndexOf("}, // end func") - 1);
                        if(valueStr.IndexOf("\n") > 0) valueStr = valueStr.Substring(0, valueStr.LastIndexOf("\n"));
                        startIndex = -1;
                    }
                    if (startIndex > 0) valueStr = valueStr.Remove(0, startIndex + 1);
                    valueStr = valueStr.Trim();

                    if (returnParametrs.ContainsKey(valueName)) returnParametrs.Remove(valueName);
                    returnParametrs.Add(valueName, valueStr); 
                }

                str = str.Remove(0, endIndex);
                str = str.TrimStart();
                //str = str.Trim();
                //str = str.TrimEnd(',');
                endIndex = str.IndexOf(Environment.NewLine);
                if (str.StartsWith("bg_config")) endIndex = str.IndexOf(Environment.NewLine, str.IndexOf("]"));
                if (str.StartsWith("select_list")) endIndex = str.IndexOf(Environment.NewLine, str.IndexOf("}"));
                if (str.StartsWith("click_func")) endIndex = str.IndexOf(Environment.NewLine, str.IndexOf("}, // end func"));
                if (str.StartsWith("longpress_func")) endIndex = str.IndexOf(Environment.NewLine, str.IndexOf("}, // end func"));
            }

            return returnParametrs;
        }

        /// <summary>Возвращает все параметры функции и их значения в виде строк для циферблатов v2</summary>
        private Dictionary<string, string> ParseParametrsInString_v2(string str)
        {
            Dictionary<string, string> returnParametrs = new Dictionary<string, string>();

            int startIndex = str.IndexOf("hmUI.widget.") + "hmUI.widget.".Length;
            int endIndex = str.IndexOf(",", startIndex);
            if (str.IndexOf("}", startIndex) < endIndex)
            {
                endIndex = str.IndexOf("}", startIndex);
                if (startIndex < 12 || endIndex < 0)
                    return returnParametrs;
                string valueStrType = str.Substring(startIndex, endIndex - startIndex);
                //returnParametrs.Add("ObjectName", valueNameStr);
                returnParametrs.Add("ObjectType", valueStrType);
                return returnParametrs;
            }
            if (startIndex < 12 || endIndex < 0)
                return returnParametrs;
            string valueStr = str.Substring(startIndex, endIndex - startIndex);
            //returnParametrs.Add("ObjectName", valueNameStr);
            returnParametrs.Add("ObjectType", valueStr);

            startIndex = str.IndexOf("{") + 1;
            endIndex = str.IndexOf("}", startIndex);

            if (str.IndexOf("WATCHFACE_EDIT_BG") > 0) endIndex = str.IndexOf("}", str.IndexOf("]"));

            str = str.Substring(startIndex, endIndex - startIndex);
            str = str.Trim();
            str = str + ",";
            //str = str + Environment.NewLine;

            endIndex = str.IndexOf(",");
            while (endIndex > 0)
            {
                valueStr = str.Substring(0, endIndex);
                //int tempInt = valueStr.IndexOf("//");
                valueStr = valueStr.Trim();
                startIndex = valueStr.IndexOf(",");
                if (startIndex > 0)
                {
                    if (returnParametrs["ObjectType"] != "IMG_PROGRESS")
                    {
                        valueStr = valueStr.Remove(startIndex, valueStr.Length - startIndex);
                    }
                    else
                    {
                        valueStr = valueStr.TrimEnd(',');
                    }
                }
                //valueStr = valueStr.TrimEnd(',');
                startIndex = valueStr.IndexOf(":");
                if (startIndex > 0)
                {
                    string valueName = valueStr.Substring(0, startIndex);
                    //if (valueName == "bg_config") valueStr = str.Substring(1, str.IndexOf("]"));
                    valueStr = valueStr.Remove(0, startIndex + 1);
                    if (valueStr.IndexOf("[") > 0 && str.IndexOf("]") > str.IndexOf("["))
                    {
                        endIndex = str.IndexOf("]")+1;
                        valueStr = str.Substring(0, endIndex);
                        startIndex = valueStr.IndexOf(":");
                        valueStr = valueStr.Remove(0, startIndex + 1);
                    }
                    valueStr = valueStr.Trim();

                    if (returnParametrs.ContainsKey(valueName)) returnParametrs.Remove(valueName);
                    returnParametrs.Add(valueName, valueStr);
                }

                str = str.Remove(0, endIndex);
                str = str.TrimStart(',');
                //str = str.Trim();
                //str = str.TrimEnd(',');
                endIndex = str.IndexOf(',');
                //if (str.StartsWith("bg_config")) endIndex = str.IndexOf(',', str.IndexOf("]"));
            }

            return returnParametrs;
        }

        /// <summary>Возвращает все параметры функции выбора элемента</summary>
        private Dictionary<string, string> ParseParametrsInSwitch(string str)
        {
            Dictionary<string, string> returnParametrs = new Dictionary<string, string>();
            string valueNameStr = str.Trim();

            returnParametrs.Add("ObjectType", "switch");

            int posStart = valueNameStr.IndexOf("(editType_");
            valueNameStr = valueNameStr.Remove(0, posStart + "(editType_".Length);
            int posEnd = valueNameStr.IndexOf(")");
            string group_index_str = valueNameStr.Substring(0, posEnd);
            returnParametrs.Add("GroupIndex", group_index_str);

            int pos = valueNameStr.IndexOf("case ");
            while(pos >= 0)
            {
                valueNameStr = valueNameStr.Remove(0, pos + "case ".Length);
                posStart = valueNameStr.IndexOf("hmUI.edit_type.");
                posEnd = valueNameStr.IndexOf(":");
                if (posStart >= 0 && posStart < posEnd) valueNameStr = valueNameStr.Remove(0, posStart + "hmUI.edit_type.".Length);
                posStart = valueNameStr.IndexOf(":");
                string type = valueNameStr.Substring(0, posStart);
                if (type == "1300001") type = "PAI";
                if (type == "1300002") type = "FAT_BURNING";
                if (type == "FAT_BURN") type = "FAT_BURNING";
                if (posStart > 0) valueNameStr = valueNameStr.Remove(0, posStart + 1);
                posEnd = valueNameStr.IndexOf("break;");
                string value = valueNameStr.Substring(0, posEnd);
                posStart = value.IndexOf("hmUI.createWidget");
                if(posStart > 0) value = value.Remove(0, posStart);
                value.Trim();
                returnParametrs.Add(type, value);

                valueNameStr = valueNameStr.Remove(0, posEnd + "break;".Length);
                pos = valueNameStr.IndexOf("case ");
            }

            return returnParametrs;
        }

        private hmUI_widget_IMG Object_IMG(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG img = new hmUI_widget_IMG();
            int value;
            if (parametrs.ContainsKey("// src"))
            {
                string imgName = parametrs["// src"].Replace("'", "");
                imgName = imgName.Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                img.src = imgName;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) img.x = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) img.y = value;
                if (parametrs.ContainsKey("// h") && Int32.TryParse(parametrs["// h"], out value)) img.h = value;
                if (parametrs.ContainsKey("// w") && Int32.TryParse(parametrs["// w"], out value)) img.w = value;
                if (parametrs.ContainsKey("// alpha") && Int32.TryParse(parametrs["// alpha"], out value)) img.alpha = value;

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    if (imgName == "ONLY_NORMAL | ONLY_EDIT") imgName = "ONLY_NORMAL";
                    img.show_level = imgName;
                }
                img.visible = true;
            }
            if (parametrs.ContainsKey("src"))
            {
                string imgName = parametrs["src"].Replace("'", "");
                imgName = imgName.Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                img.src = imgName;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) img.x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) img.y = value;
                if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) img.h = value;
                if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) img.w = value;
                if (parametrs.ContainsKey("// alpha") && Int32.TryParse(parametrs["// alpha"], out value)) img.alpha = value;

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    if (imgName == "ONLY_NORMAL | ONLY_EDIT") imgName = "ONLY_NORMAL";
                    img.show_level = imgName;
                }
                img.visible = true;
            }

            return img;
        }

        private Editable_Background Object_WATCHFACE_EDIT_BG(Dictionary<string, string> parametrs)
        {
            Editable_Background edit_bg = new Editable_Background();
            int value;
            if (parametrs.ContainsKey("bg_config"))
            {
                string imgName = "";

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) edit_bg.x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) edit_bg.y = value;
                if (parametrs.ContainsKey("// h") && Int32.TryParse(parametrs["// h"], out value)) edit_bg.h = value;
                if (parametrs.ContainsKey("// w") && Int32.TryParse(parametrs["// w"], out value)) edit_bg.w = value; 
                if (parametrs.ContainsKey("// AOD_show")) edit_bg.AOD_show = StringToBool(parametrs["// AOD_show"]);

                if (parametrs.ContainsKey("tips_x") && Int32.TryParse(parametrs["tips_x"], out value)) edit_bg.tips_x = value;
                if (parametrs.ContainsKey("tips_y") && Int32.TryParse(parametrs["tips_y"], out value)) edit_bg.tips_y = value;
                if (parametrs.ContainsKey("tips_bg"))
                {
                    imgName = parametrs["tips_bg"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    edit_bg.tips_bg = imgName;
                }
                if (parametrs.ContainsKey("fg"))
                {
                    imgName = parametrs["fg"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    edit_bg.fg = imgName;
                }

                string bg_config = parametrs["bg_config"];
                while (bg_config.IndexOf("{") >= 0)
                {
                    int start_pos = bg_config.IndexOf("{");
                    int end_pos = bg_config.IndexOf("}");
                    string bg_config_element = bg_config.Substring(start_pos + 1, end_pos - start_pos - 1);
                    bg_config = bg_config.Substring(end_pos + 1, bg_config.Length - end_pos - 1);

                    string preview = null;
                    string path = null;
                    string[] elements = bg_config_element.Split(new char[] { ',' });
                    foreach (string e in elements)
                    {
                        string tempStr = e.Trim();
                        int lenght = 0;
                        string str_value = null;
                        if (tempStr.StartsWith("preview:"))
                        {
                            lenght = "preview:".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("'", "").Replace("\"", "");
                                preview = Path.GetFileNameWithoutExtension(str_value);
                            }
                        }
                        if (tempStr.StartsWith("'preview':"))
                        {
                            lenght = "'preview':".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("'", "").Replace("\"", "");
                                preview = Path.GetFileNameWithoutExtension(str_value);
                            }
                        }
                        if (tempStr.StartsWith("path:"))
                        {
                            lenght = "path:".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("'", "").Replace("\"", "");
                                path = Path.GetFileNameWithoutExtension(str_value);
                            }
                        }
                        if (tempStr.StartsWith("'path':"))
                        {
                            lenght = "'path':".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("'", "").Replace("\"", "");
                                path = Path.GetFileNameWithoutExtension(str_value);
                            }
                        }
                    }

                    if (preview != null && path != null)
                    {
                        if (preview == null) preview = "";
                        BackgroundList background_list = new BackgroundList();
                        background_list.path= path;
                        background_list.preview = preview;
                        if (edit_bg.BackgroundList == null) edit_bg.BackgroundList = new List<BackgroundList>();
                        edit_bg.BackgroundList.Add(background_list);

                    }
                }

                edit_bg.enable_edit_bg = true;
            }

            return edit_bg;
        }

        private WATCHFACE_EDIT_GROUP Object_WATCHFACE_EDIT_GROUP(Dictionary<string, string> parametrs)
        {
            WATCHFACE_EDIT_GROUP edit_group = new WATCHFACE_EDIT_GROUP();
            int value;
            if (parametrs.ContainsKey("optional_types"))
            {
                string imgName = "";

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) edit_group.x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) edit_group.y = value;
                if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) edit_group.h = value;
                if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) edit_group.w = value;

                if (parametrs.ContainsKey("tips_width") && Int32.TryParse(parametrs["tips_width"], out value)) edit_group.tips_width = value;
                if (parametrs.ContainsKey("tips_margin") && Int32.TryParse(parametrs["tips_margin"], out value)) edit_group.tips_margin = value;

                if (parametrs.ContainsKey("tips_x") && Int32.TryParse(parametrs["tips_x"], out value)) edit_group.tips_x = value + edit_group.x;
                if (parametrs.ContainsKey("tips_y") && Int32.TryParse(parametrs["tips_y"], out value)) edit_group.tips_y = value + edit_group.y;
                if (parametrs.ContainsKey("tips_BG"))
                {
                    imgName = parametrs["tips_BG"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    edit_group.tips_BG = imgName;
                }


                if (parametrs.ContainsKey("select_image"))
                {
                    imgName = parametrs["select_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    edit_group.select_image = imgName;
                }
                if (parametrs.ContainsKey("un_select_image"))
                {
                    imgName = parametrs["un_select_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    edit_group.un_select_image = imgName;
                }

                string bg_config = parametrs["optional_types"];
                while (bg_config.IndexOf("{") >= 0)
                {
                    int start_pos = bg_config.IndexOf("{");
                    int end_pos = bg_config.IndexOf("}");
                    string bg_config_element = bg_config.Substring(start_pos + 1, end_pos - start_pos - 1);
                    bg_config = bg_config.Substring(end_pos + 1, bg_config.Length - end_pos - 1);

                    string preview = null;
                    string type = null;
                    string[] elements = bg_config_element.Split(new char[] { ',' });
                    foreach (string e in elements)
                    {
                        string tempStr = e.Trim();
                        int lenght = 0;
                        string str_value = null;
                        if (tempStr.StartsWith("preview:"))
                        {
                            lenght = "preview:".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("'", "").Replace("\"", "");
                                preview = Path.GetFileNameWithoutExtension(str_value);
                            }
                        }
                        if (tempStr.StartsWith("type:"))
                        {
                            lenght = "type:".Length;
                            str_value = tempStr.Substring(lenght, tempStr.Length - lenght);
                            str_value = str_value.Trim();
                            if (str_value.Length > 3)
                            {
                                str_value = str_value.Replace("hmUI.edit_type.", "");
                                if (str_value == "1300001") str_value = "PAI";
                                if (str_value == "1300002") str_value = "FAT_BURNING";
                                if (str_value == "FAT_BURN") str_value = "FAT_BURNING";
                                type = str_value;
                            }
                        }
                    }

                    if (preview != null && type != null)
                    {
                        if (preview == null) preview = "";
                        Optional_Types_List type_list = new Optional_Types_List();
                        type_list.type = type;
                        type_list.preview = preview;
                        if (edit_group.optional_types_list == null) edit_group.optional_types_list = new List<Optional_Types_List>();
                        edit_group.optional_types_list.Add(type_list);

                    }
                }

            }

            return edit_group;
        }

        private hmUI_widget_FILL_RECT Object_FILL_RECT(Dictionary<string, string> parametrs)
        {
            hmUI_widget_FILL_RECT fill_rect = new hmUI_widget_FILL_RECT();
            int value;
            if (parametrs.ContainsKey("color")) fill_rect.color = parametrs["color"].Replace("'", "");
            if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) fill_rect.x = value;
            if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) fill_rect.y = value;
            if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) fill_rect.h = value;
            if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) fill_rect.w = value;

            if (parametrs.ContainsKey("show_level"))
            {
                string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                fill_rect.show_level = valueStr;
            }

            return fill_rect;
        }

        private ElementDigitalTime Object_DigitalTime(Dictionary<string, string> parametrs)
        {
            ElementDigitalTime elementDigitalTime = new ElementDigitalTime();
            int value;
            int index = 1;
            if (parametrs.ContainsKey("hour_array"))
            {
                elementDigitalTime.Hour = new hmUI_widget_IMG_NUMBER();
                string[] hour_array = parametrs["hour_array"].Split(',');
                string imgName = hour_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Hour.img_First = imgName;
                if (parametrs.ContainsKey("hour_startX") && Int32.TryParse(parametrs["hour_startX"], out value))
                    elementDigitalTime.Hour.imageX = value;
                if (parametrs.ContainsKey("hour_startY") && Int32.TryParse(parametrs["hour_startY"], out value))
                    elementDigitalTime.Hour.imageY = value;
                if (parametrs.ContainsKey("hour_space") && Int32.TryParse(parametrs["hour_space"], out value))
                    elementDigitalTime.Hour.space = value;
                if (parametrs.ContainsKey("hour_angle") && Int32.TryParse(parametrs["hour_angle"], out value))
                    elementDigitalTime.Hour.angle = value;
                if (parametrs.ContainsKey("hour_zero"))
                {
                    //if (parametrs["hour_zero"] == "1") elementDigitalTime.hour.zero = true;
                    //else elementDigitalTime.hour.zero = false;
                    elementDigitalTime.Hour.zero = StringToBool(parametrs["hour_zero"]);
                }
                if (parametrs.ContainsKey("hour_align")) 
                    elementDigitalTime.Hour.align = parametrs["hour_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("hour_unit_en"))
                {
                    imgName = parametrs["hour_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Hour.unit = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Hour.show_level = valueStr;
                }

                elementDigitalTime.Hour.visible = true;
                elementDigitalTime.Hour.position = index;
                index++;
            }

            if (parametrs.ContainsKey("minute_array"))
            {
                elementDigitalTime.Minute = new hmUI_widget_IMG_NUMBER();
                string[] minute_array = parametrs["minute_array"].Split(',');
                string imgName = minute_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Minute.img_First = imgName;
                if (parametrs.ContainsKey("minute_startX") && Int32.TryParse(parametrs["minute_startX"], out value))
                    elementDigitalTime.Minute.imageX = value;
                if (parametrs.ContainsKey("minute_startY") && Int32.TryParse(parametrs["minute_startY"], out value))
                    elementDigitalTime.Minute.imageY = value;
                if (parametrs.ContainsKey("minute_space") && Int32.TryParse(parametrs["minute_space"], out value))
                    elementDigitalTime.Minute.space = value;
                if (parametrs.ContainsKey("minute_angle") && Int32.TryParse(parametrs["minute_angle"], out value))
                    elementDigitalTime.Minute.angle = value;
                if (parametrs.ContainsKey("minute_zero"))
                {
                    //if (parametrs["minute_zero"] == "1") elementDigitalTime.minute.zero = true;
                    //else elementDigitalTime.minute.zero = false;
                    elementDigitalTime.Minute.zero = StringToBool(parametrs["minute_zero"]);
                }
                if (parametrs.ContainsKey("minute_align"))
                    elementDigitalTime.Minute.align = parametrs["minute_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("minute_unit_en"))
                {
                    imgName = parametrs["minute_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Minute.unit = imgName;
                }
                if (parametrs.ContainsKey("minute_follow"))
                {
                    //if (parametrs["minute_follow"] == "1") elementDigitalTime.minute.follow = true;
                    //else elementDigitalTime.minute.follow = false;
                    elementDigitalTime.Minute.follow = StringToBool(parametrs["minute_follow"]);
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Minute.show_level = valueStr;
                }

                elementDigitalTime.Minute.visible = true;
                elementDigitalTime.Minute.position = index;
                index++;
            }

            if (parametrs.ContainsKey("second_array"))
            {
                elementDigitalTime.Second = new hmUI_widget_IMG_NUMBER();
                string[] second_array = parametrs["second_array"].Split(',');
                string imgName = second_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Second.img_First = imgName;
                if (parametrs.ContainsKey("second_startX") && Int32.TryParse(parametrs["second_startX"], out value))
                    elementDigitalTime.Second.imageX = value;
                if (parametrs.ContainsKey("second_startY") && Int32.TryParse(parametrs["second_startY"], out value))
                    elementDigitalTime.Second.imageY = value;
                if (parametrs.ContainsKey("second_space") && Int32.TryParse(parametrs["second_space"], out value))
                    elementDigitalTime.Second.space = value;
                if (parametrs.ContainsKey("second_angle") && Int32.TryParse(parametrs["second_angle"], out value))
                    elementDigitalTime.Second.angle = value;
                if (parametrs.ContainsKey("second_zero"))
                {
                    //if (parametrs["second_zero"] == "1") elementDigitalTime.second.zero = true;
                    //else elementDigitalTime.second.zero = false;
                    elementDigitalTime.Second.zero = StringToBool(parametrs["second_zero"]);
                }
                if (parametrs.ContainsKey("second_align"))
                    elementDigitalTime.Second.align = parametrs["second_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("second_unit_en"))
                {
                    imgName = parametrs["second_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Second.unit = imgName;
                }
                if (parametrs.ContainsKey("second_follow"))
                {
                    //if (parametrs["second_follow"] == "1") elementDigitalTime.second.follow = true;
                    //else elementDigitalTime.second.follow = false;
                    elementDigitalTime.Second.follow = StringToBool(parametrs["second_follow"]);
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Second.show_level = valueStr;
                }

                elementDigitalTime.Second.visible = true;
                elementDigitalTime.Second.position = index;
                index++;
            }

            if (parametrs.ContainsKey("am_en_path"))
            {
                elementDigitalTime.AmPm = new hmUI_widget_IMG_TIME_am_pm();
                string imgName = parametrs["am_en_path"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.AmPm.am_img = imgName;
                if (parametrs.ContainsKey("am_x") && Int32.TryParse(parametrs["am_x"], out value))
                    elementDigitalTime.AmPm.am_x = value;
                if (parametrs.ContainsKey("am_y") && Int32.TryParse(parametrs["am_y"], out value))
                    elementDigitalTime.AmPm.am_y = value;

                if (parametrs.ContainsKey("pm_en_path"))
                {
                    imgName = parametrs["pm_en_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.AmPm.pm_img = imgName;
                }
                if (parametrs.ContainsKey("pm_x") && Int32.TryParse(parametrs["pm_x"], out value))
                    elementDigitalTime.AmPm.pm_x = value;
                if (parametrs.ContainsKey("pm_y") && Int32.TryParse(parametrs["pm_y"], out value))
                    elementDigitalTime.AmPm.pm_y = value;

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.AmPm.show_level = valueStr;
                }

                elementDigitalTime.AmPm.visible = true;
                elementDigitalTime.AmPm.position = index;
                //index++;
            }

            return elementDigitalTime;
        }

        private ElementDigitalTime_v2 Object_DigitalTime_v2(Dictionary<string, string> parametrs)
        {
            ElementDigitalTime_v2 elementDigitalTime = new ElementDigitalTime_v2();
            int value;
            int index = 1;
            if (parametrs.ContainsKey("hour_array"))
            {
                elementDigitalTime.Group_Hour = new DigitalTimeGroup();
                elementDigitalTime.Group_Hour.Number = new hmUI_widget_IMG_NUMBER();
                string[] hour_array = parametrs["hour_array"].Split(',');
                string imgName = hour_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Group_Hour.Number.img_First = imgName;
                if (parametrs.ContainsKey("hour_startX") && Int32.TryParse(parametrs["hour_startX"], out value))
                    elementDigitalTime.Group_Hour.Number.imageX = value;
                if (parametrs.ContainsKey("hour_startY") && Int32.TryParse(parametrs["hour_startY"], out value))
                    elementDigitalTime.Group_Hour.Number.imageY = value;
                if (parametrs.ContainsKey("hour_space") && Int32.TryParse(parametrs["hour_space"], out value))
                    elementDigitalTime.Group_Hour.Number.space = value;
                if (parametrs.ContainsKey("hour_angle") && Int32.TryParse(parametrs["hour_angle"], out value))
                    elementDigitalTime.Group_Hour.Number.angle = value;
                if (parametrs.ContainsKey("hour_zero"))
                {
                    //if (parametrs["hour_zero"] == "1") elementDigitalTime.hour.zero = true;
                    //else elementDigitalTime.hour.zero = false;
                    elementDigitalTime.Group_Hour.Number.zero = StringToBool(parametrs["hour_zero"]);
                }
                if (parametrs.ContainsKey("hour_align"))
                    elementDigitalTime.Group_Hour.Number.align = parametrs["hour_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("hour_unit_en"))
                {
                    imgName = parametrs["hour_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Group_Hour.Number.unit = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Group_Hour.Number.show_level = valueStr;
                }

                elementDigitalTime.Group_Hour.Number.visible = true;
                elementDigitalTime.Group_Hour.position = index;
                index++;
            }

            if (parametrs.ContainsKey("minute_array"))
            {
                elementDigitalTime.Group_Minute = new DigitalTimeGroup();
                elementDigitalTime.Group_Minute.Number = new hmUI_widget_IMG_NUMBER();
                string[] minute_array = parametrs["minute_array"].Split(',');
                string imgName = minute_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Group_Minute.Number.img_First = imgName;
                if (parametrs.ContainsKey("minute_startX") && Int32.TryParse(parametrs["minute_startX"], out value))
                    elementDigitalTime.Group_Minute.Number.imageX = value;
                if (parametrs.ContainsKey("minute_startY") && Int32.TryParse(parametrs["minute_startY"], out value))
                    elementDigitalTime.Group_Minute.Number.imageY = value;
                if (parametrs.ContainsKey("minute_space") && Int32.TryParse(parametrs["minute_space"], out value))
                    elementDigitalTime.Group_Minute.Number.space = value;
                if (parametrs.ContainsKey("minute_angle") && Int32.TryParse(parametrs["minute_angle"], out value))
                    elementDigitalTime.Group_Minute.Number.angle = value;
                if (parametrs.ContainsKey("minute_zero"))
                {
                    //if (parametrs["minute_zero"] == "1") elementDigitalTime.minute.zero = true;
                    //else elementDigitalTime.minute.zero = false;
                    elementDigitalTime.Group_Minute.Number.zero = StringToBool(parametrs["minute_zero"]);
                }
                if (parametrs.ContainsKey("minute_align"))
                    elementDigitalTime.Group_Minute.Number.align = parametrs["minute_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("minute_unit_en"))
                {
                    imgName = parametrs["minute_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Group_Minute.Number.unit = imgName;
                }
                if (parametrs.ContainsKey("minute_follow"))
                {
                    //if (parametrs["minute_follow"] == "1") elementDigitalTime.minute.follow = true;
                    //else elementDigitalTime.minute.follow = false;
                    elementDigitalTime.Group_Minute.Number.follow = StringToBool(parametrs["minute_follow"]);
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Group_Minute.Number.show_level = valueStr;
                }

                elementDigitalTime.Group_Minute.Number.visible = true;
                elementDigitalTime.Group_Minute.position = index;
                index++;
            }

            if (parametrs.ContainsKey("second_array"))
            {
                elementDigitalTime.Group_Second = new DigitalTimeGroup();
                elementDigitalTime.Group_Second.Number = new hmUI_widget_IMG_NUMBER();
                string[] second_array = parametrs["second_array"].Split(',');
                string imgName = second_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.Group_Second.Number.img_First = imgName;
                if (parametrs.ContainsKey("second_startX") && Int32.TryParse(parametrs["second_startX"], out value))
                    elementDigitalTime.Group_Second.Number.imageX = value;
                if (parametrs.ContainsKey("second_startY") && Int32.TryParse(parametrs["second_startY"], out value))
                    elementDigitalTime.Group_Second.Number.imageY = value;
                if (parametrs.ContainsKey("second_space") && Int32.TryParse(parametrs["second_space"], out value))
                    elementDigitalTime.Group_Second.Number.space = value;
                if (parametrs.ContainsKey("second_angle") && Int32.TryParse(parametrs["second_angle"], out value))
                    elementDigitalTime.Group_Second.Number.angle = value;
                if (parametrs.ContainsKey("second_zero"))
                {
                    //if (parametrs["second_zero"] == "1") elementDigitalTime.second.zero = true;
                    //else elementDigitalTime.second.zero = false;
                    elementDigitalTime.Group_Second.Number.zero = StringToBool(parametrs["second_zero"]);
                }
                if (parametrs.ContainsKey("second_align"))
                    elementDigitalTime.Group_Second.Number.align = parametrs["second_align"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("second_unit_en"))
                {
                    imgName = parametrs["second_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.Group_Second.Number.unit = imgName;
                }
                if (parametrs.ContainsKey("second_follow"))
                {
                    //if (parametrs["second_follow"] == "1") elementDigitalTime.second.follow = true;
                    //else elementDigitalTime.second.follow = false;
                    elementDigitalTime.Group_Second.Number.follow = StringToBool(parametrs["second_follow"]);
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.Group_Second.Number.show_level = valueStr;
                }

                elementDigitalTime.Group_Second.Number.visible = true;
                elementDigitalTime.Group_Second.position = index;
                index++;
            }

            if (parametrs.ContainsKey("am_en_path"))
            {
                elementDigitalTime.AmPm = new hmUI_widget_IMG_TIME_am_pm();
                string imgName = parametrs["am_en_path"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementDigitalTime.AmPm.am_img = imgName;
                if (parametrs.ContainsKey("am_x") && Int32.TryParse(parametrs["am_x"], out value))
                    elementDigitalTime.AmPm.am_x = value;
                if (parametrs.ContainsKey("am_y") && Int32.TryParse(parametrs["am_y"], out value))
                    elementDigitalTime.AmPm.am_y = value;

                if (parametrs.ContainsKey("pm_en_path"))
                {
                    imgName = parametrs["pm_en_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementDigitalTime.AmPm.pm_img = imgName;
                }
                if (parametrs.ContainsKey("pm_x") && Int32.TryParse(parametrs["pm_x"], out value))
                    elementDigitalTime.AmPm.pm_x = value;
                if (parametrs.ContainsKey("pm_y") && Int32.TryParse(parametrs["pm_y"], out value))
                    elementDigitalTime.AmPm.pm_y = value;

                if (parametrs.ContainsKey("show_level"))
                {
                    string valueStr = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementDigitalTime.AmPm.show_level = valueStr;
                }

                elementDigitalTime.AmPm.visible = true;
                elementDigitalTime.AmPm.position = index;
                //index++;
            }

            return elementDigitalTime;
        }

        private ElementAnalogTime Object_AnalogTime(Dictionary<string, string> parametrs)
        {
            ElementAnalogTime elementAnalogTime = new ElementAnalogTime();
            int value;
            int index = 1;
            if (parametrs.ContainsKey("hour_path"))
            {
                elementAnalogTime.Hour = new hmUI_widget_IMG_POINTER();
                string imgName = parametrs["hour_path"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementAnalogTime.Hour.src = imgName;

                if (parametrs.ContainsKey("hour_centerX") && Int32.TryParse(parametrs["hour_centerX"], out value))
                    elementAnalogTime.Hour.center_x = value;
                if (parametrs.ContainsKey("hour_centerY") && Int32.TryParse(parametrs["hour_centerY"], out value))
                    elementAnalogTime.Hour.center_y = value;

                if (parametrs.ContainsKey("hour_posX") && Int32.TryParse(parametrs["hour_posX"], out value))
                    elementAnalogTime.Hour.pos_x = value;
                if (parametrs.ContainsKey("hour_posY") && Int32.TryParse(parametrs["hour_posY"], out value))
                    elementAnalogTime.Hour.pos_y = value;

                if (parametrs.ContainsKey("hour_cover_path"))
                {
                    imgName = parametrs["hour_cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementAnalogTime.Hour.cover_path = imgName;

                    if (parametrs.ContainsKey("hour_cover_x") && Int32.TryParse(parametrs["hour_cover_x"], out value))
                        elementAnalogTime.Hour.cover_x = value;
                    if (parametrs.ContainsKey("hour_cover_y") && Int32.TryParse(parametrs["hour_cover_y"], out value))
                        elementAnalogTime.Hour.cover_y = value;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementAnalogTime.Hour.show_level = imgName;
                    elementAnalogTime.show_level = imgName;
                }

                elementAnalogTime.Hour.visible = true;
                elementAnalogTime.Hour.position = index;
                index++;
            }

            if (parametrs.ContainsKey("minute_path"))
            {
                elementAnalogTime.Minute = new hmUI_widget_IMG_POINTER();
                string imgName = parametrs["minute_path"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementAnalogTime.Minute.src = imgName;

                if (parametrs.ContainsKey("minute_centerX") && Int32.TryParse(parametrs["minute_centerX"], out value))
                    elementAnalogTime.Minute.center_x = value;
                if (parametrs.ContainsKey("minute_centerY") && Int32.TryParse(parametrs["minute_centerY"], out value))
                    elementAnalogTime.Minute.center_y = value;

                if (parametrs.ContainsKey("minute_posX") && Int32.TryParse(parametrs["minute_posX"], out value))
                    elementAnalogTime.Minute.pos_x = value;
                if (parametrs.ContainsKey("minute_posY") && Int32.TryParse(parametrs["minute_posY"], out value))
                    elementAnalogTime.Minute.pos_y = value;

                if (parametrs.ContainsKey("minute_cover_path"))
                {
                    imgName = parametrs["minute_cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementAnalogTime.Minute.cover_path = imgName;

                    if (parametrs.ContainsKey("minute_cover_x") && Int32.TryParse(parametrs["minute_cover_x"], out value))
                        elementAnalogTime.Minute.cover_x = value;
                    if (parametrs.ContainsKey("minute_cover_y") && Int32.TryParse(parametrs["minute_cover_y"], out value))
                        elementAnalogTime.Minute.cover_y = value;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementAnalogTime.Minute.show_level = imgName;
                    elementAnalogTime.show_level = imgName;
                }

                elementAnalogTime.Minute.visible = true;
                elementAnalogTime.Minute.position = index;
                index++;
            }

            if (parametrs.ContainsKey("second_path"))
            {
                elementAnalogTime.Second = new hmUI_widget_IMG_POINTER();
                string imgName = parametrs["second_path"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementAnalogTime.Second.src = imgName;

                if (parametrs.ContainsKey("second_centerX") && Int32.TryParse(parametrs["second_centerX"], out value))
                    elementAnalogTime.Second.center_x = value;
                if (parametrs.ContainsKey("second_centerY") && Int32.TryParse(parametrs["second_centerY"], out value))
                    elementAnalogTime.Second.center_y = value;

                if (parametrs.ContainsKey("second_posX") && Int32.TryParse(parametrs["second_posX"], out value))
                    elementAnalogTime.Second.pos_x = value;
                if (parametrs.ContainsKey("second_posY") && Int32.TryParse(parametrs["second_posY"], out value))
                    elementAnalogTime.Second.pos_y = value;

                if (parametrs.ContainsKey("second_cover_path"))
                {
                    imgName = parametrs["second_cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementAnalogTime.Second.cover_path = imgName;

                    if (parametrs.ContainsKey("second_cover_x") && Int32.TryParse(parametrs["second_cover_x"], out value))
                        elementAnalogTime.Second.cover_x = value;
                    if (parametrs.ContainsKey("second_cover_y") && Int32.TryParse(parametrs["second_cover_y"], out value))
                        elementAnalogTime.Second.cover_y = value;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementAnalogTime.Second.show_level = imgName;
                    elementAnalogTime.show_level = imgName;
                }

                elementAnalogTime.Second.visible = true;
                elementAnalogTime.Second.position = index;
                index++;
            }
            return elementAnalogTime;
        }

        private hmUI_widget_IMG_POINTER Object_DATE_POINTER(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_POINTER elementPointer = new hmUI_widget_IMG_POINTER();
            int value;
            //int index = 1;
            if (parametrs.ContainsKey("src"))
            {
                string imgName = parametrs["src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementPointer.src = imgName;

                if (parametrs.ContainsKey("center_x") && Int32.TryParse(parametrs["center_x"], out value))
                    elementPointer.center_x = value;
                if (parametrs.ContainsKey("center_y") && Int32.TryParse(parametrs["center_y"], out value))
                    elementPointer.center_y = value;

                if (parametrs.ContainsKey("posX") && Int32.TryParse(parametrs["posX"], out value))
                    elementPointer.pos_x = value;
                if (parametrs.ContainsKey("posY") && Int32.TryParse(parametrs["posY"], out value))
                    elementPointer.pos_y = value;

                if (parametrs.ContainsKey("start_angle") && Int32.TryParse(parametrs["start_angle"], out value))
                    elementPointer.start_angle = value;
                if (parametrs.ContainsKey("end_angle") && Int32.TryParse(parametrs["end_angle"], out value))
                    elementPointer.end_angle = value;

                if (parametrs.ContainsKey("cover_path"))
                {
                    imgName = parametrs["cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.cover_path = imgName;

                    if (parametrs.ContainsKey("cover_x") && Int32.TryParse(parametrs["cover_x"], out value))
                        elementPointer.cover_x = value;
                    if (parametrs.ContainsKey("cover_y") && Int32.TryParse(parametrs["cover_y"], out value))
                        elementPointer.cover_y = value;
                }

                if (parametrs.ContainsKey("scale_en"))
                {
                    imgName = parametrs["scale_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.scale = imgName;

                    if (parametrs.ContainsKey("scale_x") && Int32.TryParse(parametrs["scale_x"], out value))
                        elementPointer.scale_x = value;
                    if (parametrs.ContainsKey("scale_y") && Int32.TryParse(parametrs["scale_y"], out value))
                        elementPointer.scale_y = value;
                }

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.date.", "");
                    elementPointer.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementPointer.show_level = imgName;
                }

                elementPointer.visible = true;
                elementPointer.position = 1;
                //index++;
            }

            return elementPointer;
        }

        private hmUI_widget_IMG_POINTER Object_IMG_POINTER(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_POINTER elementPointer = new hmUI_widget_IMG_POINTER();
            int value;
            //int index = 1;
            if (parametrs.ContainsKey("src"))
            {
                string imgName = parametrs["src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementPointer.src = imgName;

                if (parametrs.ContainsKey("center_x") && Int32.TryParse(parametrs["center_x"], out value))
                    elementPointer.center_x = value;
                if (parametrs.ContainsKey("center_y") && Int32.TryParse(parametrs["center_y"], out value))
                    elementPointer.center_y = value;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value))
                    elementPointer.pos_x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value))
                    elementPointer.pos_y = value;

                if (parametrs.ContainsKey("start_angle") && Int32.TryParse(parametrs["start_angle"], out value))
                    elementPointer.start_angle = value;
                if (parametrs.ContainsKey("end_angle") && Int32.TryParse(parametrs["end_angle"], out value))
                    elementPointer.end_angle = value;

                if (parametrs.ContainsKey("cover_path"))
                {
                    imgName = parametrs["cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.cover_path = imgName;

                    if (parametrs.ContainsKey("cover_x") && Int32.TryParse(parametrs["cover_x"], out value))
                        elementPointer.cover_x = value;
                    if (parametrs.ContainsKey("cover_y") && Int32.TryParse(parametrs["cover_y"], out value))
                        elementPointer.cover_y = value;
                }

                if (parametrs.ContainsKey("scale_en"))
                {
                    imgName = parametrs["scale_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.scale = imgName;

                    if (parametrs.ContainsKey("scale_x") && Int32.TryParse(parametrs["scale_x"], out value))
                        elementPointer.scale_x = value;
                    if (parametrs.ContainsKey("scale_y") && Int32.TryParse(parametrs["scale_y"], out value))
                        elementPointer.scale_y = value;
                }

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.data_type.", "");
                    elementPointer.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    elementPointer.show_level = imgName;
                }

                elementPointer.visible = true;
                elementPointer.position = 1;
                //index++;
            }

            return elementPointer;
        }

        private hmUI_widget_IMG_POINTER Object_CUSTOM_POINTER(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_POINTER elementPointer = new hmUI_widget_IMG_POINTER();
            int value;
            //int index = 1;
            if (parametrs.ContainsKey("// src"))
            {
                string imgName = parametrs["// src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementPointer.src = imgName;

                if (parametrs.ContainsKey("// center_x") && Int32.TryParse(parametrs["// center_x"], out value))
                    elementPointer.center_x = value;
                if (parametrs.ContainsKey("// center_y") && Int32.TryParse(parametrs["// center_y"], out value))
                    elementPointer.center_y = value;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value))
                    elementPointer.pos_x = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value))
                    elementPointer.pos_y = value;

                if (parametrs.ContainsKey("// start_angle") && Int32.TryParse(parametrs["// start_angle"], out value))
                    elementPointer.start_angle = value;
                if (parametrs.ContainsKey("// end_angle") && Int32.TryParse(parametrs["// end_angle"], out value))
                    elementPointer.end_angle = value;

                if (parametrs.ContainsKey("// cover_path"))
                {
                    imgName = parametrs["// cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.cover_path = imgName;

                    if (parametrs.ContainsKey("// cover_x") && Int32.TryParse(parametrs["// cover_x"], out value))
                        elementPointer.cover_x = value;
                    if (parametrs.ContainsKey("// cover_y") && Int32.TryParse(parametrs["// cover_y"], out value))
                        elementPointer.cover_y = value;
                }

                if (parametrs.ContainsKey("// scale_en"))
                {
                    imgName = parametrs["// scale_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.scale = imgName;

                    if (parametrs.ContainsKey("// scale_x") && Int32.TryParse(parametrs["// scale_x"], out value))
                        elementPointer.scale_x = value;
                    if (parametrs.ContainsKey("// scale_y") && Int32.TryParse(parametrs["// scale_y"], out value))
                        elementPointer.scale_y = value;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    elementPointer.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    elementPointer.show_level = imgName;
                }

                elementPointer.visible = true;
                elementPointer.position = 1;
                //index++;
            }

            return elementPointer;
        }

        private hmUI_widget_IMG_POINTER Object_IMG_POINTER_PRO(Dictionary<string, string> parametrs, out bool format24h)
        {
            format24h = false;
            hmUI_widget_IMG_POINTER elementPointer = new hmUI_widget_IMG_POINTER();
            int value;
            //int index = 1;
            if (parametrs.ContainsKey("// src"))
            {
                string imgName = parametrs["// src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                elementPointer.src = imgName;

                if (parametrs.ContainsKey("// center_x") && Int32.TryParse(parametrs["// center_x"], out value))
                    elementPointer.center_x = value;
                if (parametrs.ContainsKey("// center_y") && Int32.TryParse(parametrs["// center_y"], out value))
                    elementPointer.center_y = value;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value))
                    elementPointer.pos_x = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value))
                    elementPointer.pos_y = value;

                if (parametrs.ContainsKey("// start_angle") && Int32.TryParse(parametrs["// start_angle"], out value))
                    elementPointer.start_angle = value;
                if (parametrs.ContainsKey("// end_angle") && Int32.TryParse(parametrs["// end_angle"], out value))
                    elementPointer.end_angle = value;

                if (parametrs.ContainsKey("// cover_path"))
                {
                    imgName = parametrs["// cover_path"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.cover_path = imgName;

                    if (parametrs.ContainsKey("// cover_x") && Int32.TryParse(parametrs["// cover_x"], out value))
                        elementPointer.cover_x = value;
                    if (parametrs.ContainsKey("// cover_y") && Int32.TryParse(parametrs["// cover_y"], out value))
                        elementPointer.cover_y = value;
                }

                if (parametrs.ContainsKey("// scale_en"))
                {
                    imgName = parametrs["// scale_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    elementPointer.scale = imgName;

                    if (parametrs.ContainsKey("// scale_x") && Int32.TryParse(parametrs["// scale_x"], out value))
                        elementPointer.scale_x = value;
                    if (parametrs.ContainsKey("// scale_y") && Int32.TryParse(parametrs["// scale_y"], out value))
                        elementPointer.scale_y = value;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    elementPointer.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    elementPointer.show_level = imgName;
                }

                if (parametrs.ContainsKey("// format24h")) format24h = StringToBool(parametrs["// format24h"]);

                elementPointer.visible = true;
                elementPointer.position = 1;
                //index++;
            }

            return elementPointer;
        }

        private Smooth_Second Object_SMOOTH_SECOND(Dictionary<string, string> parametrs)
        {
            Smooth_Second smoothSecond = new Smooth_Second();
            int value;

            if (parametrs.ContainsKey("// type") && Int32.TryParse(parametrs["// type"], out value))
                smoothSecond.type = value;
            if (parametrs.ContainsKey("// fps") && Int32.TryParse(parametrs["// fps"], out value))
                smoothSecond.fps = value;

            if (parametrs.ContainsKey("// show_level"))
            {
                string imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                smoothSecond.show_level = imgName;
            }

            smoothSecond.enable = true;
            smoothSecond.position = 1;

            return smoothSecond;
        }

        private List<hmUI_widget_IMG_NUMBER> Object_ImgDate(Dictionary<string, string> parametrs)
        {
            List<hmUI_widget_IMG_NUMBER> elementImgDate = new List<hmUI_widget_IMG_NUMBER>();
            int value;
            int index = 1;
            if (parametrs.ContainsKey("day_en_array"))
            {
                if (!parametrs.ContainsKey("day_is_character") || !StringToBool(parametrs["day_is_character"]))
                {
                    hmUI_widget_IMG_NUMBER dayNumber = new hmUI_widget_IMG_NUMBER();
                    string[] day_array = parametrs["day_en_array"].Split(',');
                    string imgName = day_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    dayNumber.img_First = imgName;
                    if (parametrs.ContainsKey("day_startX") && Int32.TryParse(parametrs["day_startX"], out value))
                        dayNumber.imageX = value;
                    if (parametrs.ContainsKey("day_startY") && Int32.TryParse(parametrs["day_startY"], out value))
                        dayNumber.imageY = value;
                    if (parametrs.ContainsKey("day_space") && Int32.TryParse(parametrs["day_space"], out value))
                        dayNumber.space = value;
                    if (parametrs.ContainsKey("day_zero"))
                    {
                        //if (parametrs["day_zero"] == "1") dayNumber.zero = true;
                        //else dayNumber.zero = false;
                        dayNumber.zero = StringToBool(parametrs["day_zero"]);
                    }
                    if (parametrs.ContainsKey("day_align"))
                        dayNumber.align = parametrs["day_align"].Replace("hmUI.align.", "");
                    if (parametrs.ContainsKey("day_unit_en"))
                    {
                        imgName = parametrs["day_unit_en"].Replace("'", "").Replace("\"", "");
                        imgName = Path.GetFileNameWithoutExtension(imgName);
                        dayNumber.unit = imgName;
                    }

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        dayNumber.show_level = imgName;
                    }
                    dayNumber.visible = true;
                    dayNumber.position = index;
                    dayNumber.type = "DAY";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        dayNumber.show_level = imgName;
                    }
                    index++;

                    elementImgDate.Add(dayNumber);
                }
            }

            if (parametrs.ContainsKey("month_en_array"))
            {
                if (!parametrs.ContainsKey("month_is_character") || !StringToBool(parametrs["month_is_character"]))
                {
                    hmUI_widget_IMG_NUMBER monthNumber = new hmUI_widget_IMG_NUMBER();
                    string[] month_array = parametrs["month_en_array"].Split(',');
                    string imgName = month_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    monthNumber.img_First = imgName;
                    if (parametrs.ContainsKey("month_startX") && Int32.TryParse(parametrs["month_startX"], out value))
                        monthNumber.imageX = value;
                    if (parametrs.ContainsKey("month_startY") && Int32.TryParse(parametrs["month_startY"], out value))
                        monthNumber.imageY = value;
                    if (parametrs.ContainsKey("month_space") && Int32.TryParse(parametrs["month_space"], out value))
                        monthNumber.space = value;
                    if (parametrs.ContainsKey("month_zero"))
                    {
                        //if (parametrs["month_zero"] == "1") monthNumber.zero = true;
                        //else monthNumber.zero = false;
                        monthNumber.zero = StringToBool(parametrs["month_zero"]);
                    }
                    if (parametrs.ContainsKey("month_align"))
                        monthNumber.align = parametrs["month_align"].Replace("hmUI.align.", "");
                    if (parametrs.ContainsKey("month_unit_en"))
                    {
                        imgName = parametrs["month_unit_en"].Replace("'", "").Replace("\"", "");
                        imgName = Path.GetFileNameWithoutExtension(imgName);
                        monthNumber.unit = imgName;
                    }
                    monthNumber.visible = true;
                    monthNumber.position = index;
                    monthNumber.type = "MONTH";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        monthNumber.show_level = imgName;
                    }
                    index++;

                    elementImgDate.Add(monthNumber);
                }
            }

            if (parametrs.ContainsKey("year_en_array"))
            {
                if (!parametrs.ContainsKey("year_is_character") || !StringToBool(parametrs["year_is_character"]))
                {
                    hmUI_widget_IMG_NUMBER yearNumber = new hmUI_widget_IMG_NUMBER();
                    string[] year_array = parametrs["year_en_array"].Split(',');
                    string imgName = year_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    yearNumber.img_First = imgName;
                    if (parametrs.ContainsKey("year_startX") && Int32.TryParse(parametrs["year_startX"], out value))
                        yearNumber.imageX = value;
                    if (parametrs.ContainsKey("year_startY") && Int32.TryParse(parametrs["year_startY"], out value))
                        yearNumber.imageY = value;
                    if (parametrs.ContainsKey("year_space") && Int32.TryParse(parametrs["year_space"], out value))
                        yearNumber.space = value;
                    if (parametrs.ContainsKey("year_zero"))
                    {
                        //if (parametrs["year_zero"] == "1") yearNumber.zero = true;
                        //else yearNumber.zero = false;
                        yearNumber.zero = StringToBool(parametrs["year_zero"]);
                    }
                    if (parametrs.ContainsKey("year_align"))
                        yearNumber.align = parametrs["year_align"].Replace("hmUI.align.", "");
                    if (parametrs.ContainsKey("year_unit_en"))
                    {
                        imgName = parametrs["year_unit_en"].Replace("'", "").Replace("\"", "");
                        imgName = Path.GetFileNameWithoutExtension(imgName);
                        yearNumber.unit = imgName;
                    }
                    yearNumber.visible = true;
                    yearNumber.position = index;
                    yearNumber.type = "YEAR";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        yearNumber.show_level = imgName;
                    }

                    elementImgDate.Add(yearNumber);
                }
            }


            return elementImgDate;
        }

        private List<hmUI_widget_IMG_LEVEL> Object_ImgLevelDate(Dictionary<string, string> parametrs)
        {
            List<hmUI_widget_IMG_LEVEL> elementImgLevelDate = new List<hmUI_widget_IMG_LEVEL>();
            int value;
            int index = 1;
            if (parametrs.ContainsKey("day_en_array"))
            {
                if (parametrs.ContainsKey("day_is_character") && StringToBool(parametrs["day_is_character"]))
                {
                    hmUI_widget_IMG_LEVEL dayNumber = new hmUI_widget_IMG_LEVEL();
                    string[] day_array = parametrs["day_en_array"].Split(',');
                    string imgName = day_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    dayNumber.img_First = imgName;
                    if (parametrs.ContainsKey("day_startX") && Int32.TryParse(parametrs["day_startX"], out value))
                        dayNumber.X = value;
                    if (parametrs.ContainsKey("day_startY") && Int32.TryParse(parametrs["day_startY"], out value))
                        dayNumber.Y = value;

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        dayNumber.show_level = imgName;
                    }
                    dayNumber.visible = true;
                    dayNumber.position = index;
                    dayNumber.type = "DAY";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        dayNumber.show_level = imgName;
                    }
                    index++;

                    elementImgLevelDate.Add(dayNumber);
                }
            }

            if (parametrs.ContainsKey("month_en_array"))
            {
                if (parametrs.ContainsKey("month_is_character") && StringToBool(parametrs["month_is_character"]))
                {
                    hmUI_widget_IMG_LEVEL monthNumber = new hmUI_widget_IMG_LEVEL();
                    string[] month_array = parametrs["month_en_array"].Split(',');
                    string imgName = month_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    monthNumber.img_First = imgName;
                    if (parametrs.ContainsKey("month_startX") && Int32.TryParse(parametrs["month_startX"], out value))
                        monthNumber.X = value;
                    if (parametrs.ContainsKey("month_startY") && Int32.TryParse(parametrs["month_startY"], out value))
                        monthNumber.Y = value;
                    monthNumber.visible = true;
                    monthNumber.position = index;
                    monthNumber.type = "MONTH";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        monthNumber.show_level = imgName;
                    }
                    index++;

                    elementImgLevelDate.Add(monthNumber);
                }
            }

            if (parametrs.ContainsKey("year_en_array"))
            {
                if (parametrs.ContainsKey("year_is_character") && StringToBool(parametrs["year_is_character"]))
                {
                    hmUI_widget_IMG_LEVEL yearNumber = new hmUI_widget_IMG_LEVEL();
                    string[] year_array = parametrs["year_en_array"].Split(',');
                    string imgName = year_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                    imgName = imgName.Trim();
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    yearNumber.img_First = imgName;
                    if (parametrs.ContainsKey("year_startX") && Int32.TryParse(parametrs["year_startX"], out value))
                        yearNumber.X = value;
                    if (parametrs.ContainsKey("year_startY") && Int32.TryParse(parametrs["year_startY"], out value))
                        yearNumber.Y = value;
                    yearNumber.visible = true;
                    yearNumber.position = index;
                    yearNumber.type = "YEAR";

                    if (parametrs.ContainsKey("show_level"))
                    {
                        imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                        yearNumber.show_level = imgName;
                    }

                    elementImgLevelDate.Add(yearNumber);
                }
            }


            return elementImgLevelDate;
        }

        private hmUI_widget_IMG_LEVEL Object_IMG_WEEK(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_LEVEL imgWeek = new hmUI_widget_IMG_LEVEL();
            int value;
            if (parametrs.ContainsKey("week_en"))
            {
                string[] day__array = parametrs["week_en"].Split(',');
                string imgName = day__array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgWeek.img_First = imgName;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) imgWeek.X = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) imgWeek.Y = value;

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    imgWeek.show_level = imgName;
                }

                imgWeek.visible = true;
                imgWeek.position = 1;
            }

            return imgWeek;
        }

        private hmUI_widget_IMG_LEVEL Object_IMG_LEVEL(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_LEVEL imgLevel = new hmUI_widget_IMG_LEVEL();
            int value;
            if (parametrs.ContainsKey("image_array"))
            {
                string[] image_array = parametrs["image_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgLevel.img_First = imgName;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) imgLevel.X = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) imgLevel.Y = value;
                if (parametrs.ContainsKey("image_length") && Int32.TryParse(parametrs["image_length"], out value)) imgLevel.image_length = value;
                if (parametrs.ContainsKey("shortcut")) imgLevel.shortcut = StringToBool(parametrs["shortcut"]);

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.data_type.", "");
                    imgLevel.type = imgName;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    imgLevel.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    imgLevel.show_level = imgName;
                }

                imgLevel.visible = true;
                imgLevel.position = 1;
            }

            return imgLevel;
        }

        private hmUI_widget_IMG_LEVEL Object_IMG_LEVEL_Options(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_LEVEL imgLevel = new hmUI_widget_IMG_LEVEL();
            int value;
            if (parametrs.ContainsKey("// image_array"))
            {
                string[] image_array = parametrs["// image_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgLevel.img_First = imgName;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) imgLevel.X = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) imgLevel.Y = value;
                if (parametrs.ContainsKey("// image_length") && Int32.TryParse(parametrs["// image_length"], out value)) imgLevel.image_length = value;
                if (parametrs.ContainsKey("// shortcut")) imgLevel.shortcut = StringToBool(parametrs["// shortcut"]);

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    imgLevel.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    imgLevel.show_level = imgName;
                }

                imgLevel.visible = true;
                imgLevel.position = 1;
            }

            return imgLevel;
        }

        private hmUI_widget_IMG_PROGRESS Object_IMG_PROGRESS(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_PROGRESS imgProgress = new hmUI_widget_IMG_PROGRESS();
            int value;
            if (parametrs.ContainsKey("image_array"))
            {
                string[] image_array = parametrs["image_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgProgress.img_First = imgName;
                if (parametrs.ContainsKey("image_length") && Int32.TryParse(parametrs["image_length"], out value)) imgProgress.image_length = value;

                List<int> X = new List<int>();
                if (parametrs.ContainsKey("x"))
                {
                    string[] x_array = parametrs["x"].Split(',');
                    foreach (string valueStr in x_array)
                    {
                        string str = valueStr.Replace("[", "").Replace("]", "");
                        if (Int32.TryParse(str, out value)) X.Add(value);
                    }
                }
                List<int> Y = new List<int>();
                if (parametrs.ContainsKey("y"))
                {
                    string[] y_array = parametrs["y"].Split(',');
                    foreach (string valueStr in y_array)
                    {
                        string str = valueStr.Replace("[", "").Replace("]", "");
                        if (Int32.TryParse(str, out value)) Y.Add(value);
                    }
                }

                value = -1;
                if (parametrs.ContainsKey("image_length")) Int32.TryParse(parametrs["image_length"], out value);
                if (X.Count == 0) X.Add(0);
                while (X.Count < value)
                {
                    int v = X[X.Count - 1];
                    X.Add(v);
                }
                value = -1;
                if (Y.Count == 0) Y.Add(0);
                while (Y.Count < value)
                {
                    int v = Y[Y.Count - 1];
                    Y.Add(v);
                }

                if (X.Count > 0) imgProgress.X = X;
                if (Y.Count > 0) imgProgress.Y = Y;

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.data_type.", "");
                    imgProgress.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    imgProgress.show_level = imgName;
                }

                imgProgress.visible = true;
                imgProgress.position = 1;
            }

            return imgProgress;
        }

        private hmUI_widget_IMG_NUMBER Object_IMG_NUMBER(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_NUMBER imgNumber = new hmUI_widget_IMG_NUMBER();
            int value;
            if (parametrs.ContainsKey("font_array"))
            {
                string[] image_array = parametrs["font_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgNumber.img_First = imgName;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) imgNumber.imageX = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) imgNumber.imageY = value;
                if (parametrs.ContainsKey("h_space") && Int32.TryParse(parametrs["h_space"], out value)) imgNumber.space = value;
                if (parametrs.ContainsKey("angle") && Int32.TryParse(parametrs["angle"], out value)) imgNumber.angle = value;
                if (parametrs.ContainsKey("padding")) imgNumber.zero = StringToBool(parametrs["padding"]);
                if (parametrs.ContainsKey("align_h")) imgNumber.align = parametrs["align_h"].Replace("hmUI.align.","");
                if (parametrs.ContainsKey("unit_en") && parametrs["unit_en"].Length > 0) 
                {
                    imgName = parametrs["unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.unit = imgName;
                }
                if (parametrs.ContainsKey("imperial_unit_en") && parametrs["imperial_unit_en"].Length > 0)
                {
                    imgName = parametrs["imperial_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.imperial_unit = imgName;
                }
                if (parametrs.ContainsKey("negative_image") && parametrs["negative_image"].Length > 0)
                {
                    imgName = parametrs["negative_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.negative_image = imgName;
                }
                if (parametrs.ContainsKey("invalid_image") && parametrs["invalid_image"].Length > 0)
                {
                    imgName = parametrs["invalid_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.invalid_image = imgName;
                }
                if (parametrs.ContainsKey("dot_image") && parametrs["dot_image"].Length > 0)
                {
                    imgName = parametrs["dot_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.dot_image = imgName;
                }

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.data_type.", "");
                    imgNumber.type = imgName;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    imgNumber.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    imgNumber.show_level = imgName;
                }

                imgNumber.visible = true;
                imgNumber.position = 1;
            }

            return imgNumber;
        }

        private hmUI_widget_IMG_NUMBER Object_IMG_NUMBER_Options(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_NUMBER imgNumber = new hmUI_widget_IMG_NUMBER();
            int value;
            if (parametrs.ContainsKey("// font_array"))
            {
                string[] image_array = parametrs["// font_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                imgNumber.img_First = imgName;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) imgNumber.imageX = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) imgNumber.imageY = value;
                if (parametrs.ContainsKey("// h_space") && Int32.TryParse(parametrs["// h_space"], out value)) imgNumber.space = value;
                if (parametrs.ContainsKey("// angle") && Int32.TryParse(parametrs["// angle"], out value)) imgNumber.angle = value;
                if (parametrs.ContainsKey("// padding")) imgNumber.zero = StringToBool(parametrs["// padding"]);
                if (parametrs.ContainsKey("// align_h")) imgNumber.align = parametrs["// align_h"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("// unit_en") && parametrs["// unit_en"].Length > 0)
                {
                    imgName = parametrs["// unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.unit = imgName;
                }
                if (parametrs.ContainsKey("// imperial_unit_en") && parametrs["// imperial_unit_en"].Length > 0)
                {
                    imgName = parametrs["// imperial_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.imperial_unit = imgName;
                }
                if (parametrs.ContainsKey("// negative_image") && parametrs["// negative_image"].Length > 0)
                {
                    imgName = parametrs["// negative_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.negative_image = imgName;
                }
                if (parametrs.ContainsKey("// invalid_image") && parametrs["// invalid_image"].Length > 0)
                {
                    imgName = parametrs["// invalid_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.invalid_image = imgName;
                }
                if (parametrs.ContainsKey("// dot_image") && parametrs["// dot_image"].Length > 0)
                {
                    imgName = parametrs["// dot_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.dot_image = imgName;
                }
                if (parametrs.ContainsKey("// separator_image") && parametrs["// separator_image"].Length > 0)
                {
                    imgName = parametrs["// separator_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    imgNumber.separator_image = imgName;
                }
                
                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    imgNumber.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    imgNumber.show_level = imgName;
                }

                imgNumber.visible = true;
                imgNumber.position = 1;
            }

            return imgNumber;
        }

        private hmUI_widget_IMG_NUMBER Object_Text_Rotate(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_NUMBER textRotate = new hmUI_widget_IMG_NUMBER();
            int value;
            if (parametrs.ContainsKey("// font_array"))
            {
                string[] image_array = parametrs["// font_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                textRotate.img_First = imgName;

                if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) textRotate.imageX = value;
                if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) textRotate.imageY = value;
                if (parametrs.ContainsKey("// h_space") && Int32.TryParse(parametrs["// h_space"], out value)) textRotate.space = value;
                if (parametrs.ContainsKey("// angle") && Int32.TryParse(parametrs["// angle"], out value)) textRotate.angle = value;
                if (parametrs.ContainsKey("// zero")) textRotate.zero = StringToBool(parametrs["// zero"]);
                if (parametrs.ContainsKey("// unit_in_alignment")) textRotate.unit_in_alignment = StringToBool(parametrs["// unit_in_alignment"]);
                if (parametrs.ContainsKey("// align_h")) textRotate.align = parametrs["// align_h"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("// unit_en") && parametrs["// unit_en"].Length > 0)
                {
                    imgName = parametrs["// unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textRotate.unit = imgName;
                }
                if (parametrs.ContainsKey("// imperial_unit_en") && parametrs["// imperial_unit_en"].Length > 0)
                {
                    imgName = parametrs["// imperial_unit_en"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textRotate.imperial_unit = imgName;
                }
                //if (parametrs.ContainsKey("negative_image") && parametrs["negative_image"].Length > 0)
                //{
                //    imgName = parametrs["negative_image"].Replace("'", "").Replace("\"", "");
                //    imgName = Path.GetFileNameWithoutExtension(imgName);
                //    textCircle.negative_image = imgName;
                //}
                if (parametrs.ContainsKey("// invalid_image") && parametrs["// invalid_image"].Length > 0)
                {
                    imgName = parametrs["// invalid_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textRotate.invalid_image = imgName;
                }
                if (parametrs.ContainsKey("// dot_image") && parametrs["// dot_image"].Length > 0)
                {
                    imgName = parametrs["// dot_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textRotate.dot_image = imgName;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    textRotate.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    textRotate.show_level = imgName;
                }

                textRotate.visible = true;
                textRotate.position = 1;
            }

            return textRotate;
        }

        private Text_Circle Object_Text_Circle(Dictionary<string, string> parametrs)
        {
            Text_Circle textCircle = new Text_Circle();
            int value;
            if (parametrs.ContainsKey("// font_array"))
            {
                string[] image_array = parametrs["// font_array"].Split(',');
                string imgName = image_array[0].Replace("\"", "").Replace("[", "").Replace("]", "").Replace("'", "").Replace(Environment.NewLine, "");
                imgName = imgName.Trim();
                imgName = Path.GetFileNameWithoutExtension(imgName);
                textCircle.img_First = imgName;

                if (parametrs.ContainsKey("// circle_center_X") && Int32.TryParse(parametrs["// circle_center_X"], out value)) textCircle.circle_center_X = value;
                if (parametrs.ContainsKey("// circle_center_Y") && Int32.TryParse(parametrs["// circle_center_Y"], out value)) textCircle.circle_center_Y = value;
                if (parametrs.ContainsKey("// char_space_angle") && Int32.TryParse(parametrs["// char_space_angle"], out value)) textCircle.char_space_angle = value;
                if (parametrs.ContainsKey("// angle") && Int32.TryParse(parametrs["// angle"], out value)) textCircle.angle = value;
                if (parametrs.ContainsKey("// radius") && Int32.TryParse(parametrs["// radius"], out value)) textCircle.radius = value;
                if (parametrs.ContainsKey("// horizontal_alignment")) textCircle.horizontal_alignment = parametrs["// horizontal_alignment"].Replace("hmUI.align.", "");
                if (parametrs.ContainsKey("// vertical_alignment")) textCircle.vertical_alignment = parametrs["// vertical_alignment"].Replace("hmUI.align.", "");

                if (parametrs.ContainsKey("// zero")) textCircle.zero = StringToBool(parametrs["// zero"]);
                if (parametrs.ContainsKey("// reverse_direction")) textCircle.reverse_direction = StringToBool(parametrs["// reverse_direction"]);
                if (parametrs.ContainsKey("// unit_in_alignment")) textCircle.unit_in_alignment = StringToBool(parametrs["// unit_in_alignment"]);

                if (parametrs.ContainsKey("// unit") && parametrs["// unit"].Length > 0)
                {
                    imgName = parametrs["// unit"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textCircle.unit = imgName;
                }
                if (parametrs.ContainsKey("// imperial_unit") && parametrs["// imperial_unit"].Length > 0)
                {
                    imgName = parametrs["// imperial_unit"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textCircle.imperial_unit = imgName;
                }
                if (parametrs.ContainsKey("// error_image") && parametrs["// error_image"].Length > 0)
                {
                    imgName = parametrs["// error_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textCircle.error_image = imgName;
                }
                if (parametrs.ContainsKey("// dot_image") && parametrs["// dot_image"].Length > 0)
                {
                    imgName = parametrs["// dot_image"].Replace("'", "").Replace("\"", "");
                    imgName = Path.GetFileNameWithoutExtension(imgName);
                    textCircle.dot_image = imgName;
                }

                if (parametrs.ContainsKey("// type"))
                {
                    imgName = parametrs["// type"].Replace("hmUI.data_type.", "");
                    textCircle.type = imgName;
                }

                if (parametrs.ContainsKey("// show_level"))
                {
                    imgName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    textCircle.show_level = imgName;
                }

                textCircle.visible = true;
                textCircle.position = 1;
            }

            return textCircle;
        }

        private Circle_Scale Object_Circle_Scale(Dictionary<string, string> parametrs)
        {
            Circle_Scale element_Circle_Scale = new Circle_Scale(); 
            int value;
            string paramName = "";

            if (parametrs.ContainsKey("// center_x") && Int32.TryParse(parametrs["// center_x"], out value))
                element_Circle_Scale.center_x = value;
            if (parametrs.ContainsKey("// center_y") && Int32.TryParse(parametrs["// center_y"], out value))
                element_Circle_Scale.center_y = value;

            if (parametrs.ContainsKey("// start_angle") && Int32.TryParse(parametrs["// start_angle"], out value))
                element_Circle_Scale.start_angle = value;
            if (parametrs.ContainsKey("// end_angle") && Int32.TryParse(parametrs["// end_angle"], out value))
                element_Circle_Scale.end_angle = value;

            if (parametrs.ContainsKey("// color") && parametrs["// color"].Length > 3) 
                element_Circle_Scale.color = parametrs["// color"];

            if (parametrs.ContainsKey("// radius") && Int32.TryParse(parametrs["// radius"], out value))
                element_Circle_Scale.radius = value;
            if (parametrs.ContainsKey("// line_width") && Int32.TryParse(parametrs["// line_width"], out value))
                element_Circle_Scale.line_width = value;
            if (parametrs.ContainsKey("// line_cap") && parametrs["// line_cap"].Length > 3)
                element_Circle_Scale.line_cap = parametrs["// line_cap"];

            if (parametrs.ContainsKey("// mirror")) element_Circle_Scale.mirror = StringToBool(parametrs["// mirror"]);
            if (parametrs.ContainsKey("// inversion")) element_Circle_Scale.inversion = StringToBool(parametrs["// inversion"]);

            if (parametrs.ContainsKey("// type"))
            {
                paramName = parametrs["// type"].Replace("hmUI.data_type.", "");
                element_Circle_Scale.type = paramName;
            }

            if (parametrs.ContainsKey("// show_level"))
            {
                paramName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                element_Circle_Scale.show_level = paramName;
            }

            element_Circle_Scale.visible = true;
            element_Circle_Scale.position = 1;

            return element_Circle_Scale;
        }

        private Linear_Scale Object_Linear_Scale(Dictionary<string, string> parametrs)
        {
            Linear_Scale element_Linear_Scale = new Linear_Scale();
            int value;
            string paramName = "";

            if (parametrs.ContainsKey("// start_x") && Int32.TryParse(parametrs["// start_x"], out value))
                element_Linear_Scale.start_x = value;
            if (parametrs.ContainsKey("// start_y") && Int32.TryParse(parametrs["// start_y"], out value))
                element_Linear_Scale.start_y = value;

            if (parametrs.ContainsKey("// color") && parametrs["// color"].Length > 3)
                element_Linear_Scale.color = parametrs["// color"];

            if (parametrs.ContainsKey("// lenght") && Int32.TryParse(parametrs["// lenght"], out value))
                element_Linear_Scale.lenght = value;
            if (parametrs.ContainsKey("// line_width") && Int32.TryParse(parametrs["// line_width"], out value))
                element_Linear_Scale.line_width = value;
            if (parametrs.ContainsKey("// line_cap") && parametrs["// line_cap"].Length > 3)
                element_Linear_Scale.line_cap = parametrs["// line_cap"];

            if (parametrs.ContainsKey("// mirror")) element_Linear_Scale.mirror = StringToBool(parametrs["// mirror"]);
            if (parametrs.ContainsKey("// inversion")) element_Linear_Scale.inversion = StringToBool(parametrs["// inversion"]);
            if (parametrs.ContainsKey("// vertical")) element_Linear_Scale.vertical = StringToBool(parametrs["// vertical"]);

            if (parametrs.ContainsKey("// pointer") && parametrs["// pointer"].Length > 0)
            {
                paramName = parametrs["// pointer"].Replace("'", "");
                paramName = Path.GetFileNameWithoutExtension(paramName);
                element_Linear_Scale.pointer = paramName;
            }

            if (parametrs.ContainsKey("// type"))
            {
                paramName = parametrs["// type"].Replace("hmUI.data_type.", "");
                element_Linear_Scale.type = paramName;
            }

            if (parametrs.ContainsKey("// show_level"))
            {
                paramName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                element_Linear_Scale.show_level = paramName;
            }

            element_Linear_Scale.visible = true;
            element_Linear_Scale.position = 1;

            return element_Linear_Scale;
        }

        private hmUI_widget_IMG_STATUS Object_IMG_STATUS(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_STATUS img_status = new hmUI_widget_IMG_STATUS();
            int value;
            if (parametrs.ContainsKey("src"))
            {
                string imgName = parametrs["src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                img_status.src = imgName;

                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) img_status.x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) img_status.y = value;

                if (parametrs.ContainsKey("type"))
                {
                    imgName = parametrs["type"].Replace("hmUI.system_status.", "");
                    img_status.type = imgName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    imgName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    img_status.show_level = imgName;
                }
                img_status.visible = true;
                img_status.position = 1;
            }

            return img_status;
        }

        private hmUI_widget_IMG_CLICK Object_IMG_CLICK(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_CLICK img_shortcut = new hmUI_widget_IMG_CLICK();
            int value;
            if (parametrs.ContainsKey("src"))
            {
                string imgName = parametrs["src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                img_shortcut.src = imgName;
            }
                if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) img_shortcut.x = value;
                if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) img_shortcut.y = value;
                if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) img_shortcut.w = value;
                if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) img_shortcut.h = value;

                if (parametrs.ContainsKey("type"))
                {
                    string typeName = parametrs["type"].Replace("hmUI.data_type.", "");
                    img_shortcut.type = typeName;
                }

                if (parametrs.ContainsKey("show_level"))
                {
                    string levelName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                    img_shortcut.show_level = levelName;
                }
                img_shortcut.visible = true;
                img_shortcut.position = 1;
            //}

            return img_shortcut;
        }

        private hmUI_widget_TEXT Object_TEXT(Dictionary<string, string> parametrs)
        {
            hmUI_widget_TEXT text = new hmUI_widget_TEXT();
            int value;
            string paramName = "";
            if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) text.x = value;
            if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) text.y = value;
            if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) text.w = value;
            if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) text.h = value;

            if (parametrs.ContainsKey("text_size") && Int32.TryParse(parametrs["text_size"], out value)) text.text_size = value;
            if (parametrs.ContainsKey("char_space") && Int32.TryParse(parametrs["char_space"], out value)) text.char_space = value;
            if (parametrs.ContainsKey("line_space") && Int32.TryParse(parametrs["line_space"], out value)) text.line_space = value;
            if (parametrs.ContainsKey("alpha") && Int32.TryParse(parametrs["alpha"], out value)) text.alpha = value;

            if (parametrs.ContainsKey("font"))
            {
                paramName = parametrs["font"].Replace("'", "");
                if (paramName.LastIndexOf("/") > 0) paramName = paramName.Remove(0, paramName.LastIndexOf("/") + 1);
                text.font = paramName;
            }

            if (parametrs.ContainsKey("color")) text.color = parametrs["color"].Replace("'", "");
            if (parametrs.ContainsKey("// color_2")) text.color = parametrs["// color_2"].Replace("'", "");
            if (parametrs.ContainsKey("// use_color_2")) text.use_color_2 = StringToBool(parametrs["// use_color_2"]);

            if (parametrs.ContainsKey("align_h"))
            {
                paramName = parametrs["align_h"].Replace("hmUI.align.", "");
                text.align_h = paramName;
            }
            if (parametrs.ContainsKey("align_v"))
            {
                paramName = parametrs["align_v"].Replace("hmUI.align.", "");
                text.align_v = paramName;
            }
            if (parametrs.ContainsKey("text_style"))
            {
                paramName = parametrs["text_style"].Replace("hmUI.text_style.", "");
                text.text_style = paramName;
            }

            if (parametrs.ContainsKey("// padding")) text.padding = StringToBool(parametrs["// padding"]);
            if (parametrs.ContainsKey("// unit_type") && Int32.TryParse(parametrs["// unit_type"], out value)) text.unit_type = value;
            if (parametrs.ContainsKey("padding")) text.padding = StringToBool(parametrs["padding"]);
            if (parametrs.ContainsKey("unit_type") && Int32.TryParse(parametrs["unit_type"], out value)) text.unit_type = value;
            if (parametrs.ContainsKey("// unit_end")) text.unit_end = StringToBool(parametrs["// unit_end"]);
            if (parametrs.ContainsKey("// unit_string")) text.unit_string = parametrs["// unit_string"];

            if (parametrs.ContainsKey("type"))
            {
                string typeName = parametrs["type"].Replace("hmUI.data_type.", "");
                text.type = typeName;
            }

            if (parametrs.ContainsKey("show_level"))
            {
                paramName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                text.show_level = paramName;
            }
            text.visible = true;
            text.position = 1;

            return text;
        }

        private hmUI_widget_TEXT Object_TEXT_Options(Dictionary<string, string> parametrs)
        {
            hmUI_widget_TEXT text = new hmUI_widget_TEXT();
            int value;
            string paramName = "";
            if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) text.x = value;
            if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) text.y = value;
            if (parametrs.ContainsKey("// w") && Int32.TryParse(parametrs["// w"], out value)) text.w = value;
            if (parametrs.ContainsKey("// h") && Int32.TryParse(parametrs["// h"], out value)) text.h = value;

            if (parametrs.ContainsKey("// text_size") && Int32.TryParse(parametrs["// text_size"], out value)) text.text_size = value;
            if (parametrs.ContainsKey("// char_space") && Int32.TryParse(parametrs["// char_space"], out value)) text.char_space = value;
            if (parametrs.ContainsKey("// line_space") && Int32.TryParse(parametrs["// line_space"], out value)) text.line_space = value;
            if (parametrs.ContainsKey("// alpha") && Int32.TryParse(parametrs["// alpha"], out value)) text.alpha = value;

            if (parametrs.ContainsKey("// font"))
            {
                paramName = parametrs["// font"].Replace("'", "");
                if (paramName.LastIndexOf("/") > 0) paramName = paramName.Remove(0, paramName.LastIndexOf("/") + 1);
                text.font = paramName;
            }

            if (parametrs.ContainsKey("// color")) text.color = parametrs["// color"].Replace("'", "");
            if (parametrs.ContainsKey("// color_2")) text.color_2 = parametrs["// color_2"].Replace("'", "");
            if (parametrs.ContainsKey("// use_color_2")) text.use_color_2 = StringToBool(parametrs["// use_color_2"]);

            if (parametrs.ContainsKey("// align_h"))
            {
                paramName = parametrs["// align_h"].Replace("hmUI.align.", "");
                text.align_h = paramName;
            }
            if (parametrs.ContainsKey("// align_v"))
            {
                paramName = parametrs["// align_v"].Replace("hmUI.align.", "");
                text.align_v = paramName;
            }
            if (parametrs.ContainsKey("// text_style"))
            {
                paramName = parametrs["// text_style"].Replace("hmUI.text_style.", "");
                text.text_style = paramName;
            }

            if (parametrs.ContainsKey("// padding")) text.padding = StringToBool(parametrs["// padding"]);
            if (parametrs.ContainsKey("// unit_type") && Int32.TryParse(parametrs["// unit_type"], out value)) text.unit_type = value;
            if (parametrs.ContainsKey("// unit_end")) text.unit_end = StringToBool(parametrs["// unit_end"]);
            if (parametrs.ContainsKey("// unit_string")) text.unit_string = parametrs["// unit_string"];

            if (parametrs.ContainsKey("// type"))
            {
                string typeName = parametrs["// type"].Replace("hmUI.data_type.", "");
                text.type = typeName;
            }

            if (parametrs.ContainsKey("// show_level"))
            {
                paramName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                text.show_level = paramName;
            }
            text.visible = true;
            text.position = 1;

            return text;
        }

        private hmUI_widget_IMG_ANIM Object_IMG_ANIM(Dictionary<string, string> parametrs)
        {
            hmUI_widget_IMG_ANIM anim_fps = new hmUI_widget_IMG_ANIM();
            int value;
            if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) anim_fps.x = value;
            if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) anim_fps.y = value;


            //if (parametrs.ContainsKey("anim_path") && Int32.TryParse(parametrs["anim_path"], out value)) anim_rotate.anim_path = value;
            //if (parametrs.ContainsKey("anim_ext") && Int32.TryParse(parametrs["anim_ext"], out value)) anim_rotate.anim_ext = value;
            //if (parametrs.ContainsKey("anim_prefix") && Int32.TryParse(parametrs["anim_prefix"], out value)) anim_rotate.anim_prefix = value;

            if (parametrs.ContainsKey("anim_prefix"))
            {
                anim_fps.anim_prefix = parametrs["anim_prefix"].Replace("\"", "");
                anim_fps.anim_src = anim_fps.anim_prefix + "_0";
            }
            if (parametrs.ContainsKey("anim_fps") && Int32.TryParse(parametrs["anim_fps"], out value)) anim_fps.anim_fps = value;
            if (parametrs.ContainsKey("anim_size") && Int32.TryParse(parametrs["anim_size"], out value)) anim_fps.anim_size = value;

            if (parametrs.ContainsKey("repeat_count")) anim_fps.anim_repeat = !StringToBool(parametrs["repeat_count"]);
            //if (parametrs.ContainsKey("display_on_restart")) anim_rotate.display_on_restart = StringToBool(parametrs["display_on_restart"]);

            if (parametrs.ContainsKey("show_level"))
            {
                string paramName = parametrs["show_level"].Replace("hmUI.show_level.", "");
                anim_fps.show_level = paramName;
            }
            anim_fps.visible = true;

            return anim_fps;
        }

        private Motion_Animation Object_Motion_Animation(Dictionary<string, string> parametrs)
        {
            Motion_Animation anim_motion = new Motion_Animation();
            int value;
            if (parametrs.ContainsKey("// src"))
            {
                if (parametrs.ContainsKey("// x_start") && Int32.TryParse(parametrs["// x_start"], out value)) anim_motion.x_start = value;
                if (parametrs.ContainsKey("// y_start") && Int32.TryParse(parametrs["// y_start"], out value)) anim_motion.y_start = value;
                if (parametrs.ContainsKey("// x_end") && Int32.TryParse(parametrs["// x_end"], out value)) anim_motion.x_end = value;
                if (parametrs.ContainsKey("// y_end") && Int32.TryParse(parametrs["// y_end"], out value)) anim_motion.y_end = value;

                string imgName = parametrs["// src"].Replace("'", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                anim_motion.src = imgName;

                if (parametrs.ContainsKey("// anim_fps") && Int32.TryParse(parametrs["// anim_fps"], out value)) anim_motion.anim_fps = value;
                if (parametrs.ContainsKey("// anim_duration") && Int32.TryParse(parametrs["// anim_duration"], out value)) anim_motion.anim_duration = value;
                if (parametrs.ContainsKey("// repeat_count") && Int32.TryParse(parametrs["// repeat_count"], out value)) anim_motion.repeat_count = value;

                if (parametrs.ContainsKey("// anim_two_sides")) anim_motion.anim_two_sides = StringToBool(parametrs["// anim_two_sides"]);

                if (parametrs.ContainsKey("// show_level"))
                {
                    string paramName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    anim_motion.show_level = paramName;
                }
                anim_motion.visible = true;
            }

            return anim_motion;
        }

        private Rotate_Animation Object_Rotate_Animation(Dictionary<string, string> parametrs)
        {
            Rotate_Animation anim_rotate = new Rotate_Animation();
            int value;
            if (parametrs.ContainsKey("// src"))
            {
                if (parametrs.ContainsKey("// center_x") && Int32.TryParse(parametrs["// center_x"], out value)) anim_rotate.center_x = value;
                if (parametrs.ContainsKey("// center_y") && Int32.TryParse(parametrs["// center_y"], out value)) anim_rotate.center_y = value;
                if (parametrs.ContainsKey("// pos_x") && Int32.TryParse(parametrs["// pos_x"], out value)) anim_rotate.pos_x = value;
                if (parametrs.ContainsKey("// pos_y") && Int32.TryParse(parametrs["// pos_y"], out value)) anim_rotate.pos_y = value;
                if (parametrs.ContainsKey("// start_angle") && Int32.TryParse(parametrs["// start_angle"], out value)) anim_rotate.start_angle = value;
                if (parametrs.ContainsKey("// end_angle") && Int32.TryParse(parametrs["// end_angle"], out value)) anim_rotate.end_angle = value;

                string imgName = parametrs["// src"].Replace("'", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                anim_rotate.src = imgName;

                if (parametrs.ContainsKey("// anim_fps") && Int32.TryParse(parametrs["// anim_fps"], out value)) anim_rotate.anim_fps = value;
                if (parametrs.ContainsKey("// anim_duration") && Int32.TryParse(parametrs["// anim_duration"], out value)) anim_rotate.anim_duration = value;
                if (parametrs.ContainsKey("// repeat_count") && Int32.TryParse(parametrs["// repeat_count"], out value)) anim_rotate.repeat_count = value;

                if (parametrs.ContainsKey("// anim_two_sides")) anim_rotate.anim_two_sides = StringToBool(parametrs["// anim_two_sides"]);

                if (parametrs.ContainsKey("// show_level"))
                {
                    string paramName = parametrs["// show_level"].Replace("hmUI.show_level.", "");
                    anim_rotate.show_level = paramName;
                }
                anim_rotate.visible = true;
            }

            return anim_rotate;
        }

        private DisconnectAlert Object_DisconnectAlert(Dictionary<string, string> parametrs)
        {
            DisconnectAlert disconnectAlert = new DisconnectAlert();
            int value;

            if (parametrs.ContainsKey("// disconneсnt_vibrate_type") && Int32.TryParse(parametrs["// disconneсnt_vibrate_type"], out value))
            {
                if (disconnectAlert.BluetoothOff == null) disconnectAlert.BluetoothOff = new BluetoothStateAlert();
                disconnectAlert.BluetoothOff.vibrateType = value;
                disconnectAlert.BluetoothOff.vibrate = true;
            }
            if (parametrs.ContainsKey("// disconneсnt_toast_text") && parametrs["// disconneсnt_toast_text"].Length > 0)
            {
                if (disconnectAlert.BluetoothOff == null) disconnectAlert.BluetoothOff = new BluetoothStateAlert();
                disconnectAlert.BluetoothOff.toastText = parametrs["// disconneсnt_toast_text"].Replace("\\r\\n", Environment.NewLine);
                disconnectAlert.BluetoothOff.toastShow = true;
            }

            if (parametrs.ContainsKey("// conneсnt_vibrate_type") && Int32.TryParse(parametrs["// conneсnt_vibrate_type"], out value))
            {
                if (disconnectAlert.BluetoothOn == null) disconnectAlert.BluetoothOn = new BluetoothStateAlert();
                disconnectAlert.BluetoothOn.vibrateType = value;
                disconnectAlert.BluetoothOn.vibrate = true;
            }
            if (parametrs.ContainsKey("// conneсnt_toast_text") && parametrs["// conneсnt_toast_text"].Length > 0)
            {
                if (disconnectAlert.BluetoothOn == null) disconnectAlert.BluetoothOn = new BluetoothStateAlert();
                disconnectAlert.BluetoothOn.toastText = parametrs["// conneсnt_toast_text"].Replace("\\r\\n", Environment.NewLine);
                disconnectAlert.BluetoothOn.toastShow = true;
            }


            return disconnectAlert;
        }

        private RepeatAlert Object_RepeatAlert(Dictionary<string, string> parametrs)
        {
            RepeatAlert repeatAlert = new RepeatAlert();
            int value;

            if (parametrs.ContainsKey("// everyHour_vibrate_type") && Int32.TryParse(parametrs["// everyHour_vibrate_type"], out value))
            {
                if (repeatAlert.EveryHour == null) repeatAlert.EveryHour = new PeriodicAlert();
                repeatAlert.EveryHour.vibrateType = value;
                repeatAlert.EveryHour.vibrate = true;
            }
            if (parametrs.ContainsKey("// everyHour_toast_text") && parametrs["// everyHour_toast_text"].Length > 0)
            {
                if (repeatAlert.EveryHour == null) repeatAlert.EveryHour = new PeriodicAlert();
                repeatAlert.EveryHour.toastText = parametrs["// everyHour_toast_text"].Replace("\\r\\n", Environment.NewLine);
                repeatAlert.EveryHour.toastShow = true;
            }

            if (parametrs.ContainsKey("// repeatingAlert_vibrate_type") && Int32.TryParse(parametrs["// repeatingAlert_vibrate_type"], out value))
            {
                if (repeatAlert.RepeatingAlert == null) repeatAlert.RepeatingAlert = new PeriodicAlert();
                repeatAlert.RepeatingAlert.vibrateType = value;
                repeatAlert.RepeatingAlert.vibrate = true;
            }
            if (parametrs.ContainsKey("// repeatingAlert_toast_text") && parametrs["// repeatingAlert_toast_text"].Length > 0)
            {
                if (repeatAlert.RepeatingAlert == null) repeatAlert.RepeatingAlert = new PeriodicAlert();
                repeatAlert.RepeatingAlert.toastText = parametrs["// repeatingAlert_toast_text"].Replace("\\r\\n", Environment.NewLine);
                repeatAlert.RepeatingAlert.toastShow = true;
            }
            if (parametrs.ContainsKey("// repeatingAlert_repeat_period") && Int32.TryParse(parametrs["// repeatingAlert_repeat_period"], out value))
            {
                if (repeatAlert.RepeatingAlert == null) repeatAlert.RepeatingAlert = new PeriodicAlert();
                repeatAlert.RepeatingAlert.repeatPeriod = value;
                repeatAlert.RepeatingAlert.vibrate = true;
            }


            return repeatAlert;
        }

        private Button Object_BUTTON(Dictionary<string, string> parametrs)
        {
            Button button = new Button();
            int value;
            if (parametrs.ContainsKey("normal_src"))
            {
                string imgName = parametrs["normal_src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                button.normal_src = imgName;
            }
            if (parametrs.ContainsKey("press_src"))
            {
                string imgName = parametrs["press_src"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                button.press_src = imgName;
            }
            if (parametrs.ContainsKey("x") && Int32.TryParse(parametrs["x"], out value)) button.x = value;
            if (parametrs.ContainsKey("y") && Int32.TryParse(parametrs["y"], out value)) button.y = value;
            if (parametrs.ContainsKey("w") && Int32.TryParse(parametrs["w"], out value)) button.w = value;
            if (parametrs.ContainsKey("h") && Int32.TryParse(parametrs["h"], out value)) button.h = value;
            if (parametrs.ContainsKey("text_size") && Int32.TryParse(parametrs["text_size"], out value)) button.text_size = value;
            if (parametrs.ContainsKey("radius") && Int32.TryParse(parametrs["radius"], out value)) button.radius = value;
            if (parametrs.ContainsKey("text")) button.text = parametrs["text"].Replace("'", "").Replace("\"", "");

            if (parametrs.ContainsKey("color") && parametrs["color"].Length > 3) button.color = parametrs["color"];
            if (parametrs.ContainsKey("normal_color") && parametrs["normal_color"].Length > 3) button.normal_color = parametrs["normal_color"];
            if (parametrs.ContainsKey("press_color") && parametrs["press_color"].Length > 3) button.press_color = parametrs["press_color"];

            if (parametrs.ContainsKey("click_func"))
            {
                string func = parametrs["click_func"];
                button.click_func = RemoveTabOfString(func, 8);
            }

            if (parametrs.ContainsKey("longpress_func"))
            {
                string func = parametrs["longpress_func"];
                button.longpress_func = RemoveTabOfString(func, 8);
            }
            button.visible = true;

            return button;
        }

        private FewDays Object_FewDays(Dictionary<string, string> parametrs)
        {
            FewDays fewDays = new FewDays();
            int value;
            if (parametrs.ContainsKey("// x") && Int32.TryParse(parametrs["// x"], out value)) fewDays.X = value;
            if (parametrs.ContainsKey("// y") && Int32.TryParse(parametrs["// y"], out value)) fewDays.Y = value;
            if (parametrs.ContainsKey("// ColumnWidth") && Int32.TryParse(parametrs["// ColumnWidth"], out value)) fewDays.ColumnWidth = value;
            if (parametrs.ContainsKey("// DaysCount") && Int32.TryParse(parametrs["// DaysCount"], out value)) fewDays.DaysCount = value;
            if (parametrs.ContainsKey("// Background"))
            {
                string imgName = parametrs["// Background"].Replace("'", "").Replace("\"", "");
                imgName = Path.GetFileNameWithoutExtension(imgName);
                fewDays.Background = imgName;
            }

            return fewDays;
        }

        private string RemoveTabOfString(string str, int count)
        {
            string newStr = str;
            string tabStr = TabInString(count);
            string[] strings = str.Split(new string[] { Environment.NewLine }, StringSplitOptions.None);
            if (strings.Length > 1)
            {
                for (int index = 0; index < strings.Length; index++)
                {
                    if (strings[index].StartsWith(tabStr)) strings[index] = strings[index].Remove(0, tabStr.Length);
                }
                newStr = string.Join(Environment.NewLine, strings); 
            }

            return newStr;
        }

        private bool StringToBool(string str)
        {
            bool returnValue = false;
            str = str.ToLower();
            if (str == "1") returnValue = true;
            if (str == "!0") returnValue = true;
            if (str == "true") returnValue = true;
            return returnValue;
        }

        private void AddListener(ref string variables, ref string items, string sensorName, string valueName, string newFunction, 
            ref string resume_call, ref string pause_call, string optionNameStart)
        {
            if (valueName == "hour" || valueName == "minute" || valueName == "second" || valueName == "format_hour" ||
                valueName == "year" || valueName == "month" || valueName == "day")
            {
                if (items.IndexOf("let screenType = hmSetting.getScreenType();") < 0)
                    items += Environment.NewLine + TabInString(6) + "let screenType = hmSetting.getScreenType();";
                string timerName = optionNameStart + "timerTextUpdate";
                if (resume_call.IndexOf(timerName + " = timer.createTimer") < 0)
                {

                    if (optionNameStart == "normal_")
                    {
                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.WATCHFACE) {" + Environment.NewLine;

                    }
                    else
                    {
                        resume_call += TabInString(8) + "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                    }
                    //string variablesTimerName = "let " + timerName + " =";
                    if (variables.IndexOf("let " + timerName + " =") < 0)
                    {
                        variables += TabInString(4) + "let " + timerName + " = undefined;" + Environment.NewLine; 
                    }
                    resume_call += TabInString(9) + "if (!" + timerName + ") {" + Environment.NewLine;
                    resume_call += TabInString(10) + timerName + " = timer.createTimer(0, 1000, (function (option) {" + Environment.NewLine;
                    resume_call += TabInString(11) + "text_update();" + Environment.NewLine;
                    resume_call += TabInString(10) + "}));  // end timer " + Environment.NewLine;
                    resume_call += TabInString(9) + "};  // end timer check" + Environment.NewLine;
                    resume_call += TabInString(8) + "};  // end screenType" + Environment.NewLine + Environment.NewLine;

                    pause_call += TabInString(8) + "if (" + timerName + ") {" + Environment.NewLine;
                    pause_call += TabInString(9) + "timer.stopTimer(" + timerName + ");" + Environment.NewLine;
                    pause_call += TabInString(9) + timerName + " = undefined;" + Environment.NewLine;
                    pause_call += TabInString(8) + "}" + Environment.NewLine;
                }
            }
            else
            {
                string sensorStr = sensorName + ".addEventListener(hmSensor.event.CHANGE, function() {";
                if (items.IndexOf(sensorStr) < 0)
                {
                    items += TabInString(6) + sensorStr + Environment.NewLine;
                    items += TabInString(7) + newFunction + Environment.NewLine;
                    items += TabInString(6) + "});" + Environment.NewLine;
                }
                else
                {
                    if (items.IndexOf(sensorStr) > 0)
                    {
                        int startSensorPos = items.IndexOf(sensorStr);
                        int endSensorPos = items.IndexOf("});", startSensorPos);
                        if (items.IndexOf(newFunction, startSensorPos, endSensorPos - startSensorPos) < 0)
                        {
                            items = items.Insert(startSensorPos + sensorStr.Length, Environment.NewLine + TabInString(7) + newFunction);
                        }

                    }
                } 
            }
        }

        /// <summary>Добавляем код для наклоненного текста</summary>
        private void AddTextRotationJS(hmUI_widget_IMG_NUMBER text_rotate,string optionNameStart, string variableName, ref string variables, ref string items, 
            ref string text_update, string textRotateOptions, string show_level, string sensorName, string sensorID,
            string valueName, string sensorTargetValue, int valueLenght, ref string resume_call, ref string pause_call)
        {
            string variableStartName = optionNameStart + variableName;
            Bitmap src = null;
            int image_index = ListImages.IndexOf(text_rotate.img_First);
            src = OpenFileStream(ListImagesFullName[image_index]);
            int img_width = src.Width;
            int img_height = src.Height;

            variables += TabInString(4) + "let " + variableStartName + "TextRotate = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextRotate_ASCIIARRAY = new Array(10);" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
            //variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

            items += Environment.NewLine + TabInString(6) +
                "// " + variableStartName + "text_rotate_img = hmUI.createWidget(hmUI.widget.Text_Rotate, {" +
                    textRotateOptions + TabInString(6) + "// });" + Environment.NewLine;

            //items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 10; i++) {";
            image_index = ListImages.IndexOf(text_rotate.img_First);
            for (int i = 0; i < 10; i++)
            {
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_ASCIIARRAY[" +
                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
            }
            //items += Environment.NewLine + TabInString(6) + "};";
            items += Environment.NewLine;

            img_height = SelectedModel.background.h;
            img_width = SelectedModel.background.w;

            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i] = hmUI.createWidget(hmUI.widget.IMG, {";
            items += Environment.NewLine + TabInString(8) + "x: 0,";
            items += Environment.NewLine + TabInString(8) + "y: 0,";
            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_x: " + text_rotate.imageX.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_y: " + text_rotate.imageY.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_rotate.imageX.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_y: " + text_rotate.imageY.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "angle: " + text_rotate.angle.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "src: '" + text_rotate.img_First + ".png',";
            if (show_level.Length > 0)
            {
                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
            }
            items += Environment.NewLine + TabInString(7) + "});";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i].setProperty(hmUI.prop.VISIBLE, false);";
            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.unit);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int unit_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit = null;" + Environment.NewLine;
                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                items += Environment.NewLine + TabInString(7) + "x: 0,";
                items += Environment.NewLine + TabInString(7) + "y: 0,";
                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_x: " + text_rotate.imageX.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_y: " + text_rotate.imageY.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "angle: " + text_rotate.angle.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "src: '" + text_rotate.unit + ".png',";
                if (show_level.Length > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                }
                items += Environment.NewLine + TabInString(6) + "});";
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

                if (text_rotate.imperial_unit != null && text_rotate.imperial_unit.Length > 0)
                {
                    if ((sensorID == "forecastData" || sensorID == "currentWeather") && SelectedModel.versionOS > 2)
                    {
                        if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                        {
                            items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                        }
                        items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                        items += Environment.NewLine + TabInString(7) + variableStartName +
                            "TextRotate_unit.setProperty(hmUI.prop.SRC, '" + text_rotate.imperial_unit + ".png');";
                        items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine; 
                    }
                }
            }
            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

            if (text_rotate.dot_image != null && text_rotate.dot_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.dot_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.invalid_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (sensorID == "forecastData" || sensorID == "tideData" || sensorID == "currentWeather")
            {
                if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
                {
                    items += TabInString(6) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
                }

                if (text_update.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
                {
                    text_update += TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
                    //text_update += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;
                    //text_update += TabInString(7) + "let tideData = weatherData.tideData;" + Environment.NewLine;
                }

                if (sensorID == "forecastData")
                {
                    if (text_update.IndexOf("let forecastData = weatherData.forecastData;") < 0)
                        text_update += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;
                    if (text_update.IndexOf("let " + variableName + "temp = -100;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "temp = -100;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (forecastData.count > 0) {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "temp = forecastData.data[0]." + sensorTargetValue + ";" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end forecastData;" + Environment.NewLine;
                    }
                }

                if (sensorID == "currentWeather")
                {
                    if (text_update.IndexOf("let " + variableName + "temp = -100;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "temp = -100;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (weatherSensor.current != undefined && weatherSensor.current != 'undefined') {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "temp = weatherSensor.current;" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end currentWeather;" + Environment.NewLine;
                    }
                }

                if (sensorID == "tideData")
                {
                    if (text_update.IndexOf("let tideData = weatherData.tideData;") < 0) 
                        text_update += TabInString(7) + "let tideData = weatherData.tideData;" + Environment.NewLine;
                    if (text_update.IndexOf("let " + variableName + "hour = -1;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "hour = -1;" + Environment.NewLine;
                        text_update += TabInString(7) + "let " + variableName + "minute = -1;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (tideData.count > 0) {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "hour = tideData.data[0]." + sensorTargetValue + ".hour;" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "minute = tideData.data[0]." + sensorTargetValue + ".minute;" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end tideData;" + Environment.NewLine; 
                    }
                }
            }
            else if (sensorID == "TIME")
            {
                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                AddListener(ref variables, ref items, sensorName, sensorTargetValue, "text_update();", ref resume_call, ref pause_call, optionNameStart);
            }
            else if (sensorID == "TIME")
            {
                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                AddListener(ref variables, ref items, sensorName, sensorTargetValue, "text_update();", ref resume_call, ref pause_call, optionNameStart);
            }
            else
            {
                if (items.IndexOf("const " + sensorName + " = hmSensor.createSensor(hmSensor.id." + sensorID + ");") < 0 )
                {
                    items += TabInString(6) + Environment.NewLine;
                    items += TabInString(6) + "const " + sensorName + " = hmSensor.createSensor(hmSensor.id." + sensorID + ");" + Environment.NewLine;
                }
                AddListener(ref variables, ref items, sensorName, sensorTargetValue, "text_update();", ref resume_call, ref pause_call, optionNameStart);
            }

            text_update += Environment.NewLine + TabInString(7) + "console.log('update text rotate " + variableName + sensorID + "');" + Environment.NewLine;
            if (sensorID == "forecastData" || sensorID == "tideData" || sensorID == "currentWeather")
            {
                if (text_update.IndexOf("let " + valueName + " = undefined;") < 0) 
                    text_update += TabInString(7) + "let " + valueName + " = undefined;" + Environment.NewLine;
            }
            else
            {
                if (text_update.IndexOf("let " + valueName + " = " + sensorName + "." + sensorTargetValue + ";") < 0)
                {
                    text_update += TabInString(7) + "let " + valueName + " = " + sensorName + "." + sensorTargetValue + ";" + Environment.NewLine;
                    //if (valueName == "valueHour")
                    //{
                    //    text_update += TabInString(7) + "if (!" + sensorName + ".is24Hour) {" + Environment.NewLine;
                    //    text_update += TabInString(8) + valueName + " -= 12;" + Environment.NewLine;
                    //    text_update += TabInString(8) + "if (" + valueName + " < 1) " + valueName + " += 12;" + Environment.NewLine;
                    //    text_update += TabInString(7) + "};" + Environment.NewLine;
                    //}
                } 
            }

            if (valueName == "valueYear")
            {
                if (text_rotate.zero)
                {
                    text_update += TabInString(7) + "let " + variableStartName + "rotate_string = parseInt(" + valueName + ").toString();" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(7) + "let " + variableStartName + "rotate_string = parseInt(" + valueName + " % 100).toString();" + Environment.NewLine;
                }
            }
            else if (valueName == "temperatureCurrent" || valueName == "temperatureLow" || valueName == "temperatureHigh")
            {
                text_update += TabInString(7) + "let " + variableStartName + "rotate_string = undefined;" + Environment.NewLine;
                text_update += TabInString(7) + "if (" + variableName + "temp > -100) {" + Environment.NewLine;
                text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
                if (text_rotate.zero)
                {
                    text_update += TabInString(8) + variableStartName + "rotate_string = String(Math.abs(" + variableName + "temp)).padStart(3, '0')" + Environment.NewLine;
                    text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp) < 0)" + variableStartName +
                        "rotate_string = '-' + " + variableStartName + "rotate_string;" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(8) + variableStartName + "rotate_string = String(" + variableName + "temp)" + Environment.NewLine;
                }
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else if (valueName == "sunriseTime" || valueName == "sunsetTime")
            {
                text_update += TabInString(7) + "let " + variableStartName + "rotate_string = undefined;" + Environment.NewLine;
                text_update += TabInString(7) + "if (" + variableName + "hour >= 0 && " + variableName + "minute >= 0) {" + Environment.NewLine;
                text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
                if (text_rotate.zero)
                {
                    text_update += TabInString(8) + variableStartName + "rotate_string = String(" + variableName + "hour).padStart(2, '0')" +
                        " + '.' + String(" + variableName + "minute).padStart(2, '0');" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(8) + variableStartName + "rotate_string = String(" + variableName + "hour)" +
                        " + '.' + String(" + variableName + "minute).padStart(2, '0');" + Environment.NewLine;
                }
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += TabInString(7) + "let " + variableStartName + "rotate_string = parseInt(" + valueName + ").toString();" + Environment.NewLine;
                if (text_rotate.zero)
                    text_update += TabInString(7) + variableStartName + "rotate_string = " + variableStartName + "rotate_string.padStart(" +
                        valueLenght.ToString() + ", '0');" + Environment.NewLine; 
            }

            if (optionNameStart == "normal_")
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", false, sensorID, valueLenght) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", false, sensorID, valueLenght) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
        }

        /// <summary>Добавляем код для наклоненного текста максимально/минимальной температуры</summary>
        private void AddTextMaxMinRotationJS(hmUI_widget_IMG_NUMBER text_rotate, string optionNameStart, string variableName, ref string variables, ref string items,
            ref string text_update, string textRotateOptions, string show_level, string valueName, int valueLenght)
        {
            string variableStartName = optionNameStart + variableName;
            Bitmap src = null;
            int image_index = ListImages.IndexOf(text_rotate.img_First);
            src = OpenFileStream(ListImagesFullName[image_index]);
            int img_width = src.Width;
            int img_height = src.Height;

            variables += TabInString(4) + "let " + variableStartName + "TextRotate = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextRotate_ASCIIARRAY = new Array(10);" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
            //variables += TabInString(4) + "let " + variableStartName + "TextRotate_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

            items += Environment.NewLine + TabInString(6) +
                "// " + variableStartName + "text_rotate_img = hmUI.createWidget(hmUI.widget.Text_Rotate, {" +
                    textRotateOptions + TabInString(6) + "// });" + Environment.NewLine;

            image_index = ListImages.IndexOf(text_rotate.img_First);
            for (int i = 0; i < 10; i++)
            {
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_ASCIIARRAY[" +
                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
            }
            //items += Environment.NewLine + TabInString(6) + "};";
            items += Environment.NewLine;

            img_height = SelectedModel.background.h;
            img_width = SelectedModel.background.w;

            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i] = hmUI.createWidget(hmUI.widget.IMG, {";
            items += Environment.NewLine + TabInString(8) + "x: 0,";
            items += Environment.NewLine + TabInString(8) + "y: 0,";
            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_x: " + text_rotate.imageX.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_y: " + text_rotate.imageY.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_rotate.imageX.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_y: " + text_rotate.imageY.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "angle: " + text_rotate.angle.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "src: '" + text_rotate.img_First + ".png',";
            if (show_level.Length > 0)
            {
                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
            }
            items += Environment.NewLine + TabInString(7) + "});";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextRotate[i].setProperty(hmUI.prop.VISIBLE, false);";
            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

            if (text_rotate.unit != null && text_rotate.unit.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.unit);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int unit_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit = null;" + Environment.NewLine;
                variables += TabInString(4) + "let " + variableStartName + "TextRotate_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                items += Environment.NewLine + TabInString(7) + "x: 0,";
                items += Environment.NewLine + TabInString(7) + "y: 0,";
                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_x: " + text_rotate.imageX.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_y: " + text_rotate.imageY.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_rotate.imageX.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_y: " + text_rotate.imageY.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "angle: " + text_rotate.angle.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "src: '" + text_rotate.unit + ".png',";
                if (show_level.Length > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                }
                items += Environment.NewLine + TabInString(6) + "});";
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextRotate_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

                if (text_rotate.imperial_unit != null && text_rotate.imperial_unit.Length > 0)
                {
                    if (SelectedModel.versionOS > 2)
                    {
                        if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                        {
                            items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                        }
                        items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                        items += Environment.NewLine + TabInString(7) + variableStartName +
                            "TextRotate_unit.setProperty(hmUI.prop.SRC, '" + text_rotate.imperial_unit + ".png');";
                        items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                    }
                }
            }
            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

            if (text_rotate.dot_image != null && text_rotate.dot_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.dot_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (text_rotate.separator_image != null && text_rotate.separator_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.separator_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int separator_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_separator_width = " + separator_width.ToString() + ";" + Environment.NewLine;
            }

            if (text_rotate.invalid_image != null && text_rotate.invalid_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_rotate.invalid_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextRotate_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
            {
                items += TabInString(6) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
            }

            if (text_update.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
            {
                text_update += TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
            }

            if (text_update.IndexOf("let forecastData = weatherData.forecastData;") < 0)
                text_update += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;
            if (text_update.IndexOf("let " + variableName + "temp_max = -100;") < 0)
            {
                text_update += TabInString(7) + "let " + variableName + "temp_max = -100;" + Environment.NewLine;
                text_update += TabInString(7) + "let " + variableName + "temp_min = -100;" + Environment.NewLine;

                text_update += TabInString(7) + "if (forecastData.count > 0) {" + Environment.NewLine;
                text_update += TabInString(8) + variableName + "temp_max = forecastData.data[0].high;" + Environment.NewLine;
                text_update += TabInString(8) + variableName + "temp_min = forecastData.data[0].low;" + Environment.NewLine;
                text_update += TabInString(7) + "}; // end forecastData;" + Environment.NewLine;
            }

            text_update += Environment.NewLine + TabInString(7) + "console.log('update text rotate " + variableName + "forecastData');" + Environment.NewLine;
            if (text_update.IndexOf("let " + valueName + " = undefined;") < 0)
                text_update += TabInString(7) + "let " + valueName + " = undefined;" + Environment.NewLine;

            text_update += TabInString(7) + "let " + variableStartName + "rotate_string = undefined;" + Environment.NewLine;
            text_update += TabInString(7) + "if (" + variableName + "temp_max > -100) {" + Environment.NewLine;
            text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
            if (text_rotate.zero)
            {
                text_update += TabInString(8) + "let " + variableStartName + "rotate_temp_max_string = String(Math.abs(" + 
                    variableName + "temp_max)).padStart(3, '0');" + Environment.NewLine;
                text_update += TabInString(8) + "let " + variableStartName + "rotate_temp_min_string = String(Math.abs(" +
                    variableName + "temp_min)).padStart(3, '0');" + Environment.NewLine;

                text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp_max) < 0) " + variableStartName +
                        "rotate_temp_max_string = '-' + " + variableStartName + "rotate_temp_max_string;" + Environment.NewLine;
                text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp_min) < 0) " + variableStartName +
                        "rotate_temp_min_string = '-' + " + variableStartName + "rotate_temp_min_string;" + Environment.NewLine;

                text_update += TabInString(8) + variableStartName + "rotate_string = " + variableStartName + "rotate_temp_max_string" +
                     " + '*' + " + variableStartName + "rotate_temp_min_string;" + Environment.NewLine;
            }
            else
            {
                text_update += TabInString(8) + variableStartName + "rotate_string = String(" + variableName + "temp_max)" +
                     "+ '*' + String(" + variableName + "temp_min);" + Environment.NewLine;
            }
            text_update += TabInString(7) + "};" + Environment.NewLine;

            if (optionNameStart == "normal_")
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", true, "WeatherHighLow", valueLenght, 0, true) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Rotate_Function_Options(text_rotate, variableStartName, valueName, variableStartName + "rotate_string", true, "WeatherHighLow", valueLenght, 0, true) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
        }

        /// <summary>Добавляем код для текста по окружности</summary>
        private void AddTextCircleJS(Text_Circle text_circle, string optionNameStart, string variableName, ref string variables, ref string items,
            ref string text_update, string textCircleOptions, string show_level, string sensorName, string sensorID,
            string valueName, string sensorTargetValue, int valueLenght, ref string resume_call, ref string pause_call)
        {
            string variableStartName = optionNameStart + variableName;
            Bitmap src = null;
            int image_index = ListImages.IndexOf(text_circle.img_First);
            src = OpenFileStream(ListImagesFullName[image_index]);
            int img_width = src.Width;
            int img_height = src.Height;

            int radius = text_circle.radius;
            if (!text_circle.reverse_direction)
            {
                if (text_circle.vertical_alignment == "CENTER_V") radius += img_height / 2;
                if (text_circle.vertical_alignment == "BOTTOM") radius += img_height;
            }
            else
            {
                if (text_circle.vertical_alignment == "CENTER_V") radius -= img_height / 2;
                if (text_circle.vertical_alignment == "BOTTOM") radius -= img_height;
                radius = -radius;
            }

            variables += TabInString(4) + "let " + variableStartName + "TextCircle = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_ASCIIARRAY = new Array(10);" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

            items += Environment.NewLine + TabInString(6) +
                "// " + variableStartName + "text_circle_img = hmUI.createWidget(hmUI.widget.Text_Circle, {" +
                    textCircleOptions + TabInString(6) + "// });" + Environment.NewLine;

            //items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 10; i++) {";
            image_index = ListImages.IndexOf(text_circle.img_First);
            for (int i = 0; i < 10; i++)
            {
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_ASCIIARRAY[" +
                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
            }
            //items += Environment.NewLine + TabInString(6) + "};";
            items += Environment.NewLine;

            img_height = SelectedModel.background.h;
            img_width = SelectedModel.background.w;

            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i] = hmUI.createWidget(hmUI.widget.IMG, {";
            items += Environment.NewLine + TabInString(8) + "x: 0,";
            items += Environment.NewLine + TabInString(8) + "y: 0,";
            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_img_width / 2,";
            if (radius > 0)
            {
                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
            }
            else
            {
                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
            }
            items += Environment.NewLine + TabInString(8) + "src: '" + text_circle.img_First + ".png',";
            if (show_level.Length > 0)
            {
                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
            }
            items += Environment.NewLine + TabInString(7) + "});";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i].setProperty(hmUI.prop.VISIBLE, false);";
            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

            if (text_circle.unit != null && text_circle.unit.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.unit);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int unit_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit = null;" + Environment.NewLine;
                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                items += Environment.NewLine + TabInString(7) + "x: 0,";
                items += Environment.NewLine + TabInString(7) + "y: 0,";
                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_unit_width / 2,";
                if (radius > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
                }
                else
                {
                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                }
                items += Environment.NewLine + TabInString(7) + "src: '" + text_circle.unit + ".png',";
                if (show_level.Length > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                }
                items += Environment.NewLine + TabInString(6) + "});";
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

                if (text_circle.imperial_unit != null && text_circle.imperial_unit.Length > 0)
                {
                    if ((sensorID == "forecastData" || sensorID == "currentWeather") && SelectedModel.versionOS > 2)
                    {
                        if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                        {
                            items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                        }
                        items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                        items += Environment.NewLine + TabInString(7) + variableStartName +
                            "TextCircle_unit.setProperty(hmUI.prop.SRC, '" + text_circle.imperial_unit + ".png');";
                        items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                    }
                }
            }
            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.dot_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.error_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (sensorID == "forecastData" || sensorID == "tideData" || sensorID == "currentWeather")
            {
                if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
                {
                    items += TabInString(6) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
                }

                if (text_update.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
                {
                    text_update += TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
                }

                if (sensorID == "forecastData")
                {
                    if (text_update.IndexOf("let forecastData = weatherData.forecastData;") < 0) 
                        text_update += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;
                    if (text_update.IndexOf("let " + variableName + "temp = -100;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "temp = -100;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (forecastData.count > 0) {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "temp = forecastData.data[0]." + sensorTargetValue + ";" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end forecastData;" + Environment.NewLine; 
                    }
                }

                if (sensorID == "currentWeather")
                {
                    if (text_update.IndexOf("let " + variableName + "temp = -100;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "temp = -100;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (weatherSensor.current != undefined && weatherSensor.current != 'undefined') {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "temp = weatherSensor.current;" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end currentWeather;" + Environment.NewLine;
                    }
                }

                if (sensorID == "tideData")
                {
                    if (text_update.IndexOf("let tideData = weatherData.tideData;") < 0)
                        text_update += TabInString(7) + "let tideData = weatherData.tideData;" + Environment.NewLine;
                    if (text_update.IndexOf("let " + variableName + "hour = -1;") < 0)
                    {
                        text_update += TabInString(7) + "let " + variableName + "hour = -1;" + Environment.NewLine;
                        text_update += TabInString(7) + "let " + variableName + "minute = -1;" + Environment.NewLine;

                        text_update += TabInString(7) + "if (tideData.count > 0) {" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "hour = tideData.data[0]." + sensorTargetValue + ".hour;" + Environment.NewLine;
                        text_update += TabInString(8) + variableName + "minute = tideData.data[0]." + sensorTargetValue + ".minute;" + Environment.NewLine;
                        text_update += TabInString(7) + "}; // end tideData;" + Environment.NewLine;
                    }
                }
            }
            else if (sensorID == "TIME") {
                if (items.IndexOf("if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);") < 0)
                    items += Environment.NewLine + TabInString(6) + "if (!timeSensor) timeSensor = hmSensor.createSensor(hmSensor.id.TIME);";
                AddListener(ref variables, ref items, sensorName, sensorTargetValue, "text_update();", ref resume_call, ref pause_call, optionNameStart);
            }
            else
            {
                if (items.IndexOf("const " + sensorName + " = hmSensor.createSensor(hmSensor.id." + sensorID + ");") < 0)
                {
                    items += TabInString(6) + Environment.NewLine;
                    items += TabInString(6) + "const " + sensorName + " = hmSensor.createSensor(hmSensor.id." + sensorID + ");" + Environment.NewLine;
                }
                AddListener(ref variables, ref items, sensorName, sensorTargetValue, "text_update();", ref resume_call, ref pause_call, optionNameStart); 
            }

            if (items.IndexOf("function toDegree (radian) {") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "function toDegree (radian) {" + Environment.NewLine;
                items += TabInString(7) + "return radian * (180 / Math.PI);" + Environment.NewLine;
                items += TabInString(6) + "};" + Environment.NewLine;
            }


            text_update += Environment.NewLine + TabInString(7) + "console.log('update text circle " + variableName + sensorID + "');" + Environment.NewLine;
            if (sensorID == "forecastData" || sensorID == "tideData" || sensorID == "currentWeather") 
            {
                if (text_update.IndexOf("let " + valueName + " = undefined;") < 0)
                    text_update += TabInString(7) + "let " + valueName + " = undefined;" + Environment.NewLine;
            }
            else
            {
                if (text_update.IndexOf("let " + valueName + " = " + sensorName + "." + sensorTargetValue + ";") < 0)
                {
                    text_update += TabInString(7) + "let " + valueName + " = " + sensorName + "." + sensorTargetValue + ";" + Environment.NewLine;
                    //if (valueName == "valueHour")
                    //{
                    //    text_update += TabInString(7) + "if (!" + sensorName + ".is24Hour) {" + Environment.NewLine;
                    //    text_update += TabInString(8) + valueName + " -= 12;" + Environment.NewLine;
                    //    text_update += TabInString(8) + "if (" + valueName + " < 1) " + valueName + " += 12;" + Environment.NewLine;
                    //    text_update += TabInString(7) + "};" + Environment.NewLine;
                    //}
                }
            }

            if (valueName == "valueYear")
            {
                if (text_circle.zero)
                {
                    text_update += TabInString(7) + "let " + variableStartName + "circle_string = parseInt(" + valueName + ").toString();" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(7) + "let " + variableStartName + "circle_string = parseInt(" + valueName + " % 100).toString();" + Environment.NewLine;
                }
            }
            else if (valueName == "temperatureCurrent" || valueName == "temperatureLow" || valueName == "temperatureHigh")
            {
                text_update += TabInString(7) + "let " + variableStartName + "circle_string = undefined;" + Environment.NewLine;
                text_update += TabInString(7) + "if (" + variableName + "temp > -100) {" + Environment.NewLine;
                text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
                if (text_circle.zero)
                {
                    text_update += TabInString(8) + variableStartName + "circle_string = String(Math.abs(" + variableName + "temp)).padStart(3, '0')" + Environment.NewLine;
                    text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp) < 0)" + variableStartName + 
                        "circle_string = '-' + " + variableStartName + "circle_string;" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(8) + variableStartName + "circle_string = String(" + variableName + "temp)" + Environment.NewLine;
                }
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else if (valueName == "sunriseTime" || valueName == "sunsetTime")
            {
                text_update += TabInString(7) + "let " + variableStartName + "circle_string = undefined;" + Environment.NewLine;
                text_update += TabInString(7) + "if (" + variableName + "hour >= 0 && " + variableName + "minute >= 0) {" + Environment.NewLine;
                text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
                if (text_circle.zero)
                {
                    text_update += TabInString(8) + variableStartName + "circle_string = String(" + variableName + "hour).padStart(2, '0')" +
                        " + '.' + String(" + variableName + "minute).padStart(2, '0');" + Environment.NewLine;
                }
                else
                {
                    text_update += TabInString(8) + variableStartName + "circle_string = String(" + variableName + "hour)" +
                        " + '.' + String(" + variableName + "minute).padStart(2, '0');" + Environment.NewLine;
                }
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += TabInString(7) + "let " + variableStartName + "circle_string = parseInt(" + valueName + ").toString();" + Environment.NewLine;
                if (text_circle.zero)
                    text_update += TabInString(7) + variableStartName + "circle_string = " + variableStartName + "circle_string.padStart(" +
                        valueLenght.ToString() + ", '0');" + Environment.NewLine; 
            }

            if (optionNameStart == "normal_")
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", false, sensorID, valueLenght) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", false, sensorID, valueLenght) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
        }

        /// <summary>Добавляем код для текста по окружности максимально/минимальной температуры</summary>
        private void AddTextMaxMinCircleJS(Text_Circle text_circle, string optionNameStart, string variableName, ref string variables, ref string items,
            ref string text_update, string textCircleOptions, string show_level, string valueName, int valueLenght)
        {
            string variableStartName = optionNameStart + variableName;
            Bitmap src = null;
            int image_index = ListImages.IndexOf(text_circle.img_First);
            src = OpenFileStream(ListImagesFullName[image_index]);
            int img_width = src.Width;
            int img_height = src.Height;

            int radius = text_circle.radius;
            if (!text_circle.reverse_direction)
            {
                if (text_circle.vertical_alignment == "CENTER_V") radius += img_height / 2;
                if (text_circle.vertical_alignment == "BOTTOM") radius += img_height;
            }
            else
            {
                if (text_circle.vertical_alignment == "CENTER_V") radius -= img_height / 2;
                if (text_circle.vertical_alignment == "BOTTOM") radius -= img_height;
                radius = -radius;
            }

            variables += TabInString(4) + "let " + variableStartName + "TextCircle = new Array(" + valueLenght.ToString() + ");" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_ASCIIARRAY = new Array(10);" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_width = " + img_width.ToString() + ";" + Environment.NewLine;
            variables += TabInString(4) + "let " + variableStartName + "TextCircle_img_height = " + img_height.ToString() + ";" + Environment.NewLine;

            items += Environment.NewLine + TabInString(6) +
                "// " + variableStartName + "text_circle_img = hmUI.createWidget(hmUI.widget.Text_Circle, {" +
                    textCircleOptions + TabInString(6) + "// });" + Environment.NewLine;

            //items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < 10; i++) {";
            image_index = ListImages.IndexOf(text_circle.img_First);
            for (int i = 0; i < 10; i++)
            {
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_ASCIIARRAY[" +
                                    i.ToString() + "] = '" + ListImages[image_index++] + ".png\';  // set of images with numbers";
            }
            //items += Environment.NewLine + TabInString(6) + "};";
            items += Environment.NewLine;

            img_height = SelectedModel.background.h;
            img_width = SelectedModel.background.w;

            items += Environment.NewLine + TabInString(6) + "//start of ignored block";
            items += Environment.NewLine + TabInString(6) + "for (let i = 0; i < " + valueLenght.ToString() + "; i++) {";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i] = hmUI.createWidget(hmUI.widget.IMG, {";
            items += Environment.NewLine + TabInString(8) + "x: 0,";
            items += Environment.NewLine + TabInString(8) + "y: 0,";
            items += Environment.NewLine + TabInString(8) + "w: " + img_width.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "h: " + img_height.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
            items += Environment.NewLine + TabInString(8) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_img_width / 2,";
            if (radius > 0)
            {
                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
            }
            else
            {
                items += Environment.NewLine + TabInString(8) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
            }
            items += Environment.NewLine + TabInString(8) + "src: '" + text_circle.img_First + ".png',";
            if (show_level.Length > 0)
            {
                items += Environment.NewLine + TabInString(8) + "show_level: hmUI.show_level." + show_level + ",";
            }
            items += Environment.NewLine + TabInString(7) + "});";
            items += Environment.NewLine + TabInString(7) + variableStartName + "TextCircle[i].setProperty(hmUI.prop.VISIBLE, false);";
            items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;

            if (text_circle.unit != null && text_circle.unit.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.unit);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int unit_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit = null;" + Environment.NewLine;
                variables += TabInString(4) + "let " + variableStartName + "TextCircle_unit_width = " + unit_width.ToString() + ";" + Environment.NewLine;

                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit = hmUI.createWidget(hmUI.widget.IMG, {";
                items += Environment.NewLine + TabInString(7) + "x: 0,";
                items += Environment.NewLine + TabInString(7) + "y: 0,";
                items += Environment.NewLine + TabInString(7) + "w: " + img_width.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "h: " + img_height.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_x: " + text_circle.circle_center_X.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "center_y: " + text_circle.circle_center_Y.ToString() + ",";
                items += Environment.NewLine + TabInString(7) + "pos_x: " + text_circle.circle_center_X.ToString() + " - " + variableStartName + "TextCircle_unit_width / 2,";
                if (radius > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " - " + radius.ToString() + ",";
                }
                else
                {
                    items += Environment.NewLine + TabInString(7) + "pos_y: " + text_circle.circle_center_Y.ToString() + " + " + Math.Abs(radius).ToString() + ",";
                }
                items += Environment.NewLine + TabInString(7) + "src: '" + text_circle.unit + ".png',";
                if (show_level.Length > 0)
                {
                    items += Environment.NewLine + TabInString(7) + "show_level: hmUI.show_level." + show_level + ",";
                }
                items += Environment.NewLine + TabInString(6) + "});";
                items += Environment.NewLine + TabInString(6) + variableStartName + "TextCircle_unit.setProperty(hmUI.prop.VISIBLE, false);" + Environment.NewLine;

                if (text_circle.imperial_unit != null && text_circle.imperial_unit.Length > 0)
                {
                    if (SelectedModel.versionOS > 2)
                    {
                        if (items.IndexOf("const temperatureUnit = hmSetting.getTemperatureUnit();") < 0)
                        {
                            items += Environment.NewLine + TabInString(6) + "const temperatureUnit = hmSetting.getTemperatureUnit();";
                        }
                        items += Environment.NewLine + TabInString(6) + "if (temperatureUnit == 1) {";
                        items += Environment.NewLine + TabInString(7) + variableStartName +
                            "TextCircle_unit.setProperty(hmUI.prop.SRC, '" + text_circle.imperial_unit + ".png');";
                        items += Environment.NewLine + TabInString(6) + "};" + Environment.NewLine;
                    }
                }
            }
            items += TabInString(6) + "//end of ignored block" + Environment.NewLine;

            if (text_circle.dot_image != null && text_circle.dot_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.dot_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_dot_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }
            if (text_circle.separator_image != null && text_circle.separator_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.separator_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int separator_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_separator_width = " + separator_width.ToString() + ";" + Environment.NewLine;
            }

            if (text_circle.error_image != null && text_circle.error_image.Length > 0)
            {
                image_index = ListImages.IndexOf(text_circle.error_image);
                src = OpenFileStream(ListImagesFullName[image_index]);
                int dot_width = src.Width;

                variables += TabInString(4) + "let " + variableStartName + "TextCircle_error_img_width = " + dot_width.ToString() + ";" + Environment.NewLine;
            }

            if (items.IndexOf("const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);") < 0)
            {
                items += TabInString(6) + "const weatherSensor = hmSensor.createSensor(hmSensor.id.WEATHER);" + Environment.NewLine;
            }

            if (text_update.IndexOf("let weatherData = weatherSensor.getForecastWeather();") < 0)
            {
                text_update += TabInString(7) + "let weatherData = weatherSensor.getForecastWeather();" + Environment.NewLine;
            }

            if (text_update.IndexOf("let forecastData = weatherData.forecastData;") < 0)
                text_update += TabInString(7) + "let forecastData = weatherData.forecastData;" + Environment.NewLine;
            if (text_update.IndexOf("let " + variableName + "temp_max = -100;") < 0)
            {
                text_update += TabInString(7) + "let " + variableName + "temp_max = -100;" + Environment.NewLine;
                text_update += TabInString(7) + "let " + variableName + "temp_min = -100;" + Environment.NewLine;

                text_update += TabInString(7) + "if (forecastData.count > 0) {" + Environment.NewLine;
                text_update += TabInString(8) + variableName + "temp_max = forecastData.data[0].high;" + Environment.NewLine;
                text_update += TabInString(8) + variableName + "temp_min = forecastData.data[0].low;" + Environment.NewLine;
                text_update += TabInString(7) + "}; // end forecastData;" + Environment.NewLine;
            }

            text_update += Environment.NewLine + TabInString(7) + "console.log('update text circle " + variableName + "forecastData');" + Environment.NewLine;
            if (text_update.IndexOf("let " + valueName + " = undefined;") < 0)
                text_update += TabInString(7) + "let " + valueName + " = undefined;" + Environment.NewLine;

            text_update += TabInString(7) + "let " + variableStartName + "circle_string = undefined;" + Environment.NewLine;
            text_update += TabInString(7) + "if (" + variableName + "temp_max > -100) {" + Environment.NewLine;
            text_update += TabInString(8) + valueName + " = 0;" + Environment.NewLine;
            if (text_circle.zero)
            {
                text_update += TabInString(8) + "let " + variableStartName + "circle_temp_max_string = String(Math.abs(" +
                    variableName + "temp_max)).padStart(3, '0');" + Environment.NewLine;
                text_update += TabInString(8) + "let " + variableStartName + "circle_temp_min_string = String(Math.abs(" +
                    variableName + "temp_min)).padStart(3, '0');" + Environment.NewLine;

                text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp_max) < 0) " + variableStartName +
                        "circle_temp_max_string = '-' + " + variableStartName + "circle_temp_max_string;" + Environment.NewLine;
                text_update += TabInString(8) + "if (Math.sign (" + variableName + "temp_min) < 0) " + variableStartName +
                        "circle_temp_min_string = '-' + " + variableStartName + "rotate_temp_min_string;" + Environment.NewLine;

                text_update += TabInString(8) + variableStartName + "circle_string = " + variableStartName + "circle_temp_max_string" +
                     " + '*' + " + variableStartName + "circle_temp_min_string;" + Environment.NewLine;
            }
            else
            {
                text_update += TabInString(8) + variableStartName + "circle_string = String(" + variableName + "temp_max)" +
                     "+ '*' + String(" + variableName + "temp_min);" + Environment.NewLine;
            }
            text_update += TabInString(7) + "};" + Environment.NewLine;

            if (items.IndexOf("function toDegree (radian) {") < 0)
            {
                items += TabInString(6) + Environment.NewLine;
                items += TabInString(6) + "function toDegree (radian) {" + Environment.NewLine;
                items += TabInString(7) + "return radian * (180 / Math.PI);" + Environment.NewLine;
                items += TabInString(6) + "};" + Environment.NewLine;
            }
            
            if (optionNameStart == "normal_")
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType != hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", true, "WeatherHighLow", valueLenght, 0, true) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
            else
            {
                text_update += Environment.NewLine + TabInString(7) +
                    "if (screenType == hmSetting.screen_type.AOD) {" + Environment.NewLine;
                text_update += Text_Circle_Function_Options(text_circle, variableStartName, valueName, variableStartName + "circle_string", true, "WeatherHighLow", valueLenght, 0, true) + Environment.NewLine;
                text_update += TabInString(7) + "};" + Environment.NewLine;
            }
        }

        /// <summary>Определяем длину строки с равным количеством открывающих и закрывающих скобок</summary>
        /// <param name="str">Строка для поиска</param>
        /// <param name="opening_bracket">Первый символ (открывающая скобка)</param>
        /// <param name="closing_bracket">Первый символ (закрывающая скобка)</param>
        static int FindMinLengthBalancedString(string str, char opening_bracket, char closing_bracket)
        {
            int minLen = int.MaxValue;
            int openCount = 0;
            int closeCount = 0;

            for (int i = 0; i < str.Length; i++)
            {
                if (str[i] == opening_bracket)
                {
                    openCount++;
                }
                else if (str[i] == closing_bracket)
                {
                    closeCount++;
                }

                if (openCount == closeCount && openCount > 0)
                {
                    int currentLen = i + 1;
                    minLen = Math.Min(minLen, currentLen);
                    break;
                }
            }

            return minLen == int.MaxValue ? -1 : minLen;
        }
    }
}
